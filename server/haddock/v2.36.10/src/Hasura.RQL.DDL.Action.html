<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.Action.html"><span class="hs-identifier">Hasura.RQL.DDL.Action</span></a></span><span>
</span><span id="line-2"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#CreateAction"><span class="hs-identifier">CreateAction</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-3"></span><span>    </span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#runCreateAction"><span class="hs-identifier">runCreateAction</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-4"></span><span>    </span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#resolveAction"><span class="hs-identifier">resolveAction</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-5"></span><span>    </span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#UpdateAction"><span class="hs-identifier">UpdateAction</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-6"></span><span>    </span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#runUpdateAction"><span class="hs-identifier">runUpdateAction</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-7"></span><span>    </span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#DropAction"><span class="hs-identifier">DropAction</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-8"></span><span>    </span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#runDropAction"><span class="hs-identifier">runDropAction</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-9"></span><span>    </span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#dropActionInMetadata"><span class="hs-identifier">dropActionInMetadata</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-10"></span><span>    </span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#CreateActionPermission"><span class="hs-identifier">CreateActionPermission</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-11"></span><span>    </span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#runCreateActionPermission"><span class="hs-identifier">runCreateActionPermission</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>    </span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#DropActionPermission"><span class="hs-identifier">DropActionPermission</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>    </span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#runDropActionPermission"><span class="hs-identifier">runDropActionPermission</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-14"></span><span>    </span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#dropActionPermissionInMetadata"><span class="hs-identifier">dropActionPermissionInMetadata</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-15"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span class="hs-keyword">where</span><span>
</span><span id="line-17"></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/lens-5.3.2-7ec14d641784087c1f1350eada3cde7884c62d1ab2707daec993ceeca3096d32/share/doc/html/src/Control.Lens.html/Control.Lens.html"><span class="hs-identifier">Control.Lens</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/lens-5.3.2-7ec14d641784087c1f1350eada3cde7884c62d1ab2707daec993ceeca3096d32/share/doc/html/src/Control.Lens.Setter.html/Control.Lens.Setter.html#.~"><span class="hs-operator">(.~)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/lens-5.3.2-7ec14d641784087c1f1350eada3cde7884c62d1ab2707daec993ceeca3096d32/share/doc/html/src/Control.Lens.Getter.html/Control.Lens.Getter.html#%5E."><span class="hs-operator">(^.)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.html/Data.Aeson.html"><span class="hs-identifier">Data.Aeson</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">J</span></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Environment.html/Data.Environment.html"><span class="hs-identifier">Data.Environment</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Env</span></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/unordered-containers-0.2.20-6d56f9b3abc6011ddb6e237c415126423ab5ceb5c078221bba2ff80dbe921009/share/doc/html/src/Data.HashMap.Strict.html/Data.HashMap.Strict.html"><span class="hs-identifier">Data.HashMap.Strict</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">HashMap</span></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/insert-ordered-containers-0.2.5.3-dcb71999c8104475fd299533bb40a6c15ee8a9411f3a03b68aa99a14a4143c19/share/doc/html/src/Data.HashMap.Strict.InsOrd.html/Data.HashMap.Strict.InsOrd.html"><span class="hs-identifier">Data.HashMap.Strict.InsOrd</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">InsOrdHashMap</span></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.List.NonEmpty</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">NEList</span></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html/Data.Text.Extended.html"><span class="hs-identifier">Data.Text.Extended</span></a></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.URL.Template.html/Data.URL.Template.html"><span class="hs-identifier">Data.URL.Template</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.URL.Template.html/Data.URL.Template.html#printTemplate"><span class="hs-identifier">printTemplate</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Authentication.Role.html"><span class="hs-identifier">Hasura.Authentication.Role</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Authentication.Role.html#RoleName"><span class="hs-identifier">RoleName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html"><span class="hs-identifier">Hasura.Base.Error</span></a></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-json-encoding-1.0.0/opt/doc/html/hasura-json-encoding/src/Hasura.EncJSON.html/Hasura.EncJSON.html"><span class="hs-identifier">Hasura.EncJSON</span></a></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Metadata.Class.html"><span class="hs-identifier">Hasura.Metadata.Class</span></a></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html/Hasura.Prelude.html"><span class="hs-identifier">Hasura.Prelude</span></a></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html"><span class="hs-identifier">Hasura.RQL.DDL.CustomTypes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#ScalarParsingMap"><span class="hs-identifier">ScalarParsingMap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#lookupBackendScalar"><span class="hs-identifier">lookupBackendScalar</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Action.html"><span class="hs-identifier">Hasura.RQL.Types.Action</span></a></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Common.html"><span class="hs-identifier">Hasura.RQL.Types.Common</span></a></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html"><span class="hs-identifier">Hasura.RQL.Types.CustomTypes</span></a></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html"><span class="hs-identifier">Hasura.RQL.Types.Metadata</span></a></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Object.html"><span class="hs-identifier">Hasura.RQL.Types.Metadata.Object</span></a></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.html"><span class="hs-identifier">Hasura.RQL.Types.SchemaCache</span></a></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.Build.html"><span class="hs-identifier">Hasura.RQL.Types.SchemaCache.Build</span></a></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.SQL.BackendMap.html"><span class="hs-identifier">Hasura.SQL.BackendMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.SQL.BackendMap.html#BackendMap"><span class="hs-identifier">BackendMap</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html"><span class="hs-identifier">Language.GraphQL.Draft.Syntax</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">G</span></span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span id="local-6989586621687918790"><span class="annot"><a href="Hasura.RQL.DDL.Action.html#getActionInfo"><span class="hs-identifier hs-type">getActionInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-43"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#QErrM"><span class="hs-identifier hs-type">QErrM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687918790"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.html#CacheRM"><span class="hs-identifier hs-type">CacheRM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687918790"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-44"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.Action.html#ActionName"><span class="hs-identifier hs-type">ActionName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-45"></span><span>  </span><span class="annot"><a href="#local-6989586621687918790"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Action.html#ActionInfo"><span class="hs-identifier hs-type">ActionInfo</span></a></span></span><span>
</span><span id="line-46"></span><span id="getActionInfo"><span class="annot"><span class="annottext">getActionInfo :: forall (m :: * -&gt; *).
(QErrM m, CacheRM m) =&gt;
ActionName -&gt; m ActionInfo
</span><a href="Hasura.RQL.DDL.Action.html#getActionInfo"><span class="hs-identifier hs-var hs-var">getActionInfo</span></a></span></span><span> </span><span id="local-6989586621687919277"><span class="annot"><span class="annottext">ActionName
</span><a href="#local-6989586621687919277"><span class="hs-identifier hs-var">actionName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-47"></span><span>  </span><span id="local-6989586621687919278"><span class="annot"><a href="#local-6989586621687919278"><span class="hs-identifier hs-var">actionMap</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SchemaCache -&gt; ActionCache
</span><a href="Hasura.RQL.Types.SchemaCache.html#scActions"><span class="hs-identifier hs-var">scActions</span></a></span><span> </span><span class="annot"><span class="annottext">(SchemaCache -&gt; ActionCache) -&gt; m SchemaCache -&gt; m ActionCache
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">m SchemaCache
forall (m :: * -&gt; *). CacheRM m =&gt; m SchemaCache
</span><a href="Hasura.RQL.Types.SchemaCache.html#askSchemaCache"><span class="hs-identifier hs-var">askSchemaCache</span></a></span><span>
</span><span id="line-48"></span><span>  </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html/Hasura.Prelude.html#onNothing"><span class="hs-identifier hs-type">onNothing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/unordered-containers-0.2.20-6d56f9b3abc6011ddb6e237c415126423ab5ceb5c078221bba2ff80dbe921009/share/doc/html/src/Data.HashMap.Internal.html/Data.HashMap.Internal.html#lookup"><span class="hs-identifier hs-type">HashMap.lookup</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919277"><span class="hs-identifier hs-type">actionName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919278"><span class="hs-identifier hs-type">actionMap</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-49"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#throw400"><span class="hs-identifier hs-type">throw400</span></a></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#NotExists"><span class="hs-identifier hs-type">NotExists</span></a></span><span>
</span><span id="line-50"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;action with name &quot;</span></span><span>
</span><span id="line-51"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">&lt;&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621687919277"><span class="hs-identifier hs-type">actionName</span></a></span><span>
</span><span id="line-52"></span><span>    </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html/Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-type">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot; does not exist&quot;</span></span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span class="hs-keyword">data</span><span> </span><span id="CreateAction"><span class="annot"><a href="Hasura.RQL.DDL.Action.html#CreateAction"><span class="hs-identifier hs-var">CreateAction</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="CreateAction"><span class="annot"><a href="Hasura.RQL.DDL.Action.html#CreateAction"><span class="hs-identifier hs-var">CreateAction</span></a></span></span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="_caName"><span class="annot"><span class="annottext">CreateAction -&gt; ActionName
</span><a href="Hasura.RQL.DDL.Action.html#_caName"><span class="hs-identifier hs-var hs-var">_caName</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Action.html#ActionName"><span class="hs-identifier hs-type">ActionName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-56"></span><span>    </span><span id="_caDefinition"><span class="annot"><span class="annottext">CreateAction -&gt; ActionDefinitionInput
</span><a href="Hasura.RQL.DDL.Action.html#_caDefinition"><span class="hs-identifier hs-var hs-var">_caDefinition</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Action.html#ActionDefinitionInput"><span class="hs-identifier hs-type">ActionDefinitionInput</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span>    </span><span id="_caComment"><span class="annot"><span class="annottext">CreateAction -&gt; Maybe Text
</span><a href="Hasura.RQL.DDL.Action.html#_caComment"><span class="hs-identifier hs-var hs-var">_caComment</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-59"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621687919292"><span id="local-6989586621687919294"><span class="annot"><span class="annottext">(forall x. CreateAction -&gt; Rep CreateAction x)
-&gt; (forall x. Rep CreateAction x -&gt; CreateAction)
-&gt; Generic CreateAction
forall x. Rep CreateAction x -&gt; CreateAction
forall x. CreateAction -&gt; Rep CreateAction x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. CreateAction -&gt; Rep CreateAction x
from :: forall x. CreateAction -&gt; Rep CreateAction x
$cto :: forall x. Rep CreateAction x -&gt; CreateAction
to :: forall x. Rep CreateAction x -&gt; CreateAction
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621687919301"><span id="local-6989586621687919305"><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#FromJSON"><span class="hs-identifier hs-type">J.FromJSON</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#CreateAction"><span class="hs-identifier hs-type">CreateAction</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-62"></span><span>  </span><span id="local-6989586621687919406"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser CreateAction
</span><a href="#local-6989586621687919406"><span class="hs-identifier hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Options -&gt; Value -&gt; Parser CreateAction
forall a.
(Generic a, GFromJSON Zero (Rep a)) =&gt;
Options -&gt; Value -&gt; Parser a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#genericParseJSON"><span class="hs-identifier hs-var">J.genericParseJSON</span></a></span><span> </span><span class="annot"><span class="annottext">Options
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html/Hasura.Prelude.html#hasuraJSON"><span class="hs-identifier hs-var">hasuraJSON</span></a></span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621687919413"><span id="local-6989586621687919417"><span id="local-6989586621687919420"><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.ToJSON.html/Data.Aeson.Types.ToJSON.html#ToJSON"><span class="hs-identifier hs-type">J.ToJSON</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#CreateAction"><span class="hs-identifier hs-type">CreateAction</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-65"></span><span>  </span><span id="local-6989586621687919534"><span class="annot"><span class="annottext">toJSON :: CreateAction -&gt; Value
</span><a href="#local-6989586621687919534"><span class="hs-identifier hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Options -&gt; CreateAction -&gt; Value
forall a.
(Generic a, GToJSON' Value Zero (Rep a)) =&gt;
Options -&gt; a -&gt; Value
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.ToJSON.html/Data.Aeson.Types.ToJSON.html#genericToJSON"><span class="hs-identifier hs-var">J.genericToJSON</span></a></span><span> </span><span class="annot"><span class="annottext">Options
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html/Hasura.Prelude.html#hasuraJSON"><span class="hs-identifier hs-var">hasuraJSON</span></a></span><span>
</span><span id="line-66"></span><span>  </span><span id="local-6989586621687919626"><span class="annot"><span class="annottext">toEncoding :: CreateAction -&gt; Encoding
</span><a href="#local-6989586621687919626"><span class="hs-identifier hs-var hs-var hs-var">toEncoding</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Options -&gt; CreateAction -&gt; Encoding
forall a.
(Generic a, GToJSON' Encoding Zero (Rep a)) =&gt;
Options -&gt; a -&gt; Encoding
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.ToJSON.html/Data.Aeson.Types.ToJSON.html#genericToEncoding"><span class="hs-identifier hs-var">J.genericToEncoding</span></a></span><span> </span><span class="annot"><span class="annottext">Options
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html/Hasura.Prelude.html#hasuraJSON"><span class="hs-identifier hs-var">hasuraJSON</span></a></span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span id="local-6989586621687919054"><span class="annot"><a href="Hasura.RQL.DDL.Action.html#runCreateAction"><span class="hs-identifier hs-type">runCreateAction</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-69"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#QErrM"><span class="hs-identifier hs-type">QErrM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919054"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.Build.html#CacheRWM"><span class="hs-identifier hs-type">CacheRWM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919054"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataM"><span class="hs-identifier hs-type">MetadataM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919054"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-70"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#CreateAction"><span class="hs-identifier hs-type">CreateAction</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-71"></span><span>  </span><span class="annot"><a href="#local-6989586621687919054"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-json-encoding-1.0.0/opt/doc/html/hasura-json-encoding/src/Hasura.EncJSON.html/Hasura.EncJSON.html#EncJSON"><span class="hs-identifier hs-type">EncJSON</span></a></span></span><span>
</span><span id="line-72"></span><span id="runCreateAction"><span class="annot"><span class="annottext">runCreateAction :: forall (m :: * -&gt; *).
(QErrM m, CacheRWM m, MetadataM m) =&gt;
CreateAction -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Action.html#runCreateAction"><span class="hs-identifier hs-var hs-var">runCreateAction</span></a></span></span><span> </span><span id="local-6989586621687919659"><span class="annot"><span class="annottext">CreateAction
</span><a href="#local-6989586621687919659"><span class="hs-identifier hs-var">createAction</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-comment">-- check if action with same name exists already</span><span>
</span><span id="line-74"></span><span>  </span><span id="local-6989586621687919660"><span class="annot"><a href="#local-6989586621687919660"><span class="hs-identifier hs-var">actionMap</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SchemaCache -&gt; ActionCache
</span><a href="Hasura.RQL.Types.SchemaCache.html#scActions"><span class="hs-identifier hs-var">scActions</span></a></span><span> </span><span class="annot"><span class="annottext">(SchemaCache -&gt; ActionCache) -&gt; m SchemaCache -&gt; m ActionCache
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">m SchemaCache
forall (m :: * -&gt; *). CacheRM m =&gt; m SchemaCache
</span><a href="Hasura.RQL.Types.SchemaCache.html#askSchemaCache"><span class="hs-identifier hs-var">askSchemaCache</span></a></span><span>
</span><span id="line-75"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">for_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/unordered-containers-0.2.20-6d56f9b3abc6011ddb6e237c415126423ab5ceb5c078221bba2ff80dbe921009/share/doc/html/src/Data.HashMap.Internal.html/Data.HashMap.Internal.html#lookup"><span class="hs-identifier hs-type">HashMap.lookup</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919662"><span class="hs-identifier hs-type">actionName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919660"><span class="hs-identifier hs-type">actionMap</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-76"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">const</span></span><span>
</span><span id="line-77"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#throw400"><span class="hs-identifier hs-type">throw400</span></a></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#AlreadyExists"><span class="hs-identifier hs-type">AlreadyExists</span></a></span><span>
</span><span id="line-78"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;action with name &quot;</span></span><span>
</span><span id="line-79"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">&lt;&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621687919662"><span class="hs-identifier hs-type">actionName</span></a></span><span>
</span><span id="line-80"></span><span>    </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html/Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-type">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot; already exists&quot;</span></span><span>
</span><span id="line-81"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687919665"><span class="annot"><a href="#local-6989586621687919665"><span class="hs-identifier hs-var hs-var">metadata</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-82"></span><span>        </span><span class="annot"><span class="annottext">ActionName
-&gt; Maybe Text
-&gt; ActionDefinitionInput
-&gt; [ActionPermissionMetadata]
-&gt; ActionMetadata
</span><a href="Hasura.RQL.Types.Action.html#ActionMetadata"><span class="hs-identifier hs-var">ActionMetadata</span></a></span><span>
</span><span id="line-83"></span><span>          </span><span class="annot"><span class="annottext">ActionName
</span><a href="#local-6989586621687919662"><span class="hs-identifier hs-var">actionName</span></a></span><span>
</span><span id="line-84"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CreateAction -&gt; Maybe Text
</span><a href="Hasura.RQL.DDL.Action.html#_caComment"><span class="hs-identifier hs-var">_caComment</span></a></span><span> </span><span class="annot"><span class="annottext">CreateAction
</span><a href="#local-6989586621687919659"><span class="hs-identifier hs-var">createAction</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CreateAction -&gt; ActionDefinitionInput
</span><a href="Hasura.RQL.DDL.Action.html#_caDefinition"><span class="hs-identifier hs-var">_caDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">CreateAction
</span><a href="#local-6989586621687919659"><span class="hs-identifier hs-var">createAction</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span>          </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-87"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.Build.html#buildSchemaCacheFor"><span class="hs-identifier hs-type">buildSchemaCacheFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Object.html#MOAction"><span class="hs-identifier hs-type">MOAction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919662"><span class="hs-identifier hs-type">actionName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataModifier"><span class="hs-identifier hs-type">MetadataModifier</span></a></span><span>
</span><span id="line-89"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#metaActions"><span class="hs-identifier hs-type">metaActions</span></a></span><span>
</span><span id="line-90"></span><span>    </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/lens-5.3.2-7ec14d641784087c1f1350eada3cde7884c62d1ab2707daec993ceeca3096d32/share/doc/html/src/Control.Lens.Setter.html/Control.Lens.Setter.html#%25~"><span class="hs-operator hs-type">%~</span></a></span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/insert-ordered-containers-0.2.5.3-dcb71999c8104475fd299533bb40a6c15ee8a9411f3a03b68aa99a14a4143c19/share/doc/html/src/Data.HashMap.Strict.InsOrd.html/Data.HashMap.Strict.InsOrd.html#insert"><span class="hs-identifier hs-type">InsOrdHashMap.insert</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919662"><span class="hs-identifier hs-type">actionName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919665"><span class="hs-identifier hs-type">metadata</span></a></span><span>
</span><span id="line-91"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Common.html#successMsg"><span class="hs-identifier hs-type">successMsg</span></a></span><span>
</span><span id="line-92"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-93"></span><span>    </span><span id="local-6989586621687919662"><span class="annot"><span class="annottext">actionName :: ActionName
</span><a href="#local-6989586621687919662"><span class="hs-identifier hs-var hs-var">actionName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CreateAction -&gt; ActionName
</span><a href="Hasura.RQL.DDL.Action.html#_caName"><span class="hs-identifier hs-var">_caName</span></a></span><span> </span><span class="annot"><span class="annottext">CreateAction
</span><a href="#local-6989586621687919659"><span class="hs-identifier hs-var">createAction</span></a></span><span>
</span><span id="line-94"></span><span>
</span><span id="line-95"></span><span class="hs-comment">{- Note [Postgres scalars in action input arguments]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
It's very comfortable to be able to reference Postgres scalars in actions
input arguments. For example, see the following action mutation:

    extend type mutation_root {
      create_user (
        name: String!
        created_at: timestamptz
      ): User
    }

The timestamptz is a Postgres scalar. We need to validate the presence of
timestamptz type in the Postgres database. So, the 'resolveAction' function
takes all Postgres scalar types as one of the inputs and returns the set of
referred scalars.
-}</span><span>
</span><span id="line-112"></span><span>
</span><span id="line-113"></span><span id="local-6989586621687919080"><span class="annot"><a href="Hasura.RQL.DDL.Action.html#resolveAction"><span class="hs-identifier hs-type">resolveAction</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-114"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#QErrM"><span class="hs-identifier hs-type">QErrM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919080"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-115"></span><span>  </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Environment.html/Data.Environment.html#Environment"><span class="hs-identifier hs-type">Env.Environment</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-116"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#AnnotatedCustomTypes"><span class="hs-identifier hs-type">AnnotatedCustomTypes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-117"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.Action.html#ActionDefinitionInput"><span class="hs-identifier hs-type">ActionDefinitionInput</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-118"></span><span>  </span><span class="annot"><a href="Hasura.SQL.BackendMap.html#BackendMap"><span class="hs-identifier hs-type">BackendMap</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#ScalarParsingMap"><span class="hs-identifier hs-type">ScalarParsingMap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-comment">-- See Note [Postgres scalars in custom types]</span><span>
</span><span id="line-119"></span><span>  </span><span class="annot"><a href="#local-6989586621687919080"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-120"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Action.html#ResolvedActionDefinition"><span class="hs-identifier hs-type">ResolvedActionDefinition</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-121"></span><span>      </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#AnnotatedOutputType"><span class="hs-identifier hs-type">AnnotatedOutputType</span></a></span><span>
</span><span id="line-122"></span><span>    </span><span class="hs-special">)</span></span><span>
</span><span id="line-123"></span><span id="resolveAction"><span class="annot"><span class="annottext">resolveAction :: forall (m :: * -&gt; *).
QErrM m =&gt;
Environment
-&gt; AnnotatedCustomTypes
-&gt; ActionDefinitionInput
-&gt; BackendMap ScalarParsingMap
-&gt; m (ResolvedActionDefinition, AnnotatedOutputType)
</span><a href="Hasura.RQL.DDL.Action.html#resolveAction"><span class="hs-identifier hs-var hs-var">resolveAction</span></a></span></span><span> </span><span id="local-6989586621687919749"><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621687919749"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#AnnotatedCustomTypes"><span class="hs-identifier hs-type">AnnotatedCustomTypes</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621687919751"><span id="local-6989586621687919752"><span class="annot"><span class="annottext">HashMap Name AnnotatedObjectType
HashMap Name AnnotatedInputType
_actInputTypes :: HashMap Name AnnotatedInputType
_actObjectTypes :: HashMap Name AnnotatedObjectType
_actObjectTypes :: AnnotatedCustomTypes -&gt; HashMap Name AnnotatedObjectType
_actInputTypes :: AnnotatedCustomTypes -&gt; HashMap Name AnnotatedInputType
</span><a href="#local-6989586621687919751"><span class="hs-glyph hs-var hs-var hs-var hs-var">..</span></a></span></span></span><span class="hs-special">}</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Action.html#ActionDefinition"><span class="hs-identifier hs-type">ActionDefinition</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621687919756"><span id="local-6989586621687919757"><span id="local-6989586621687919758"><span id="local-6989586621687919759"><span id="local-6989586621687919760"><span id="local-6989586621687919761"><span id="local-6989586621687919762"><span id="local-6989586621687919763"><span id="local-6989586621687919764"><span class="annot"><span class="annottext">Bool
[HeaderConf]
[ArgumentDefinition GraphQLType]
Maybe RequestTransform
Maybe MetadataResponseTransform
Timeout
InputWebhook
GraphQLType
ActionType
_adArguments :: [ArgumentDefinition GraphQLType]
_adOutputType :: GraphQLType
_adType :: ActionType
_adHeaders :: [HeaderConf]
_adForwardClientHeaders :: Bool
_adTimeout :: Timeout
_adHandler :: InputWebhook
_adRequestTransform :: Maybe RequestTransform
_adResponseTransform :: Maybe MetadataResponseTransform
_adResponseTransform :: forall arg webhook.
ActionDefinition arg webhook -&gt; Maybe MetadataResponseTransform
_adRequestTransform :: forall arg webhook.
ActionDefinition arg webhook -&gt; Maybe RequestTransform
_adHandler :: forall arg webhook. ActionDefinition arg webhook -&gt; webhook
_adTimeout :: forall arg webhook. ActionDefinition arg webhook -&gt; Timeout
_adForwardClientHeaders :: forall arg webhook. ActionDefinition arg webhook -&gt; Bool
_adHeaders :: forall arg webhook. ActionDefinition arg webhook -&gt; [HeaderConf]
_adType :: forall arg webhook. ActionDefinition arg webhook -&gt; ActionType
_adOutputType :: forall arg webhook. ActionDefinition arg webhook -&gt; GraphQLType
_adArguments :: forall arg webhook.
ActionDefinition arg webhook -&gt; [ArgumentDefinition arg]
</span><a href="#local-6989586621687919756"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621687919774"><span class="annot"><span class="annottext">BackendMap ScalarParsingMap
</span><a href="#local-6989586621687919774"><span class="hs-identifier hs-var">allScalars</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-124"></span><span>  </span><span id="local-6989586621687919775"><span class="annot"><a href="#local-6989586621687919775"><span class="hs-identifier hs-var">resolvedArguments</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[ArgumentDefinition GraphQLType]
-&gt; (ArgumentDefinition GraphQLType
    -&gt; m (ArgumentDefinition (GType, AnnotatedInputType)))
-&gt; m [ArgumentDefinition (GType, AnnotatedInputType)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m (t b)
</span><span class="hs-identifier hs-var">forM</span></span><span> </span><span class="annot"><span class="annottext">[ArgumentDefinition GraphQLType]
</span><a href="#local-6989586621687919756"><span class="hs-identifier hs-var">_adArguments</span></a></span><span> </span><span class="annot"><span class="annottext">((ArgumentDefinition GraphQLType
  -&gt; m (ArgumentDefinition (GType, AnnotatedInputType)))
 -&gt; m [ArgumentDefinition (GType, AnnotatedInputType)])
-&gt; (ArgumentDefinition GraphQLType
    -&gt; m (ArgumentDefinition (GType, AnnotatedInputType)))
-&gt; m [ArgumentDefinition (GType, AnnotatedInputType)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621687919777"><span class="annot"><span class="annottext">ArgumentDefinition GraphQLType
</span><a href="#local-6989586621687919777"><span class="hs-identifier hs-var">argumentDefinition</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-125"></span><span>    </span><span class="annot"><span class="annottext">ArgumentDefinition GraphQLType
-&gt; (GraphQLType -&gt; m (GType, AnnotatedInputType))
-&gt; m (ArgumentDefinition (GType, AnnotatedInputType))
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m (t b)
</span><span class="hs-identifier hs-var">forM</span></span><span> </span><span class="annot"><span class="annottext">ArgumentDefinition GraphQLType
</span><a href="#local-6989586621687919777"><span class="hs-identifier hs-var">argumentDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">((GraphQLType -&gt; m (GType, AnnotatedInputType))
 -&gt; m (ArgumentDefinition (GType, AnnotatedInputType)))
-&gt; (GraphQLType -&gt; m (GType, AnnotatedInputType))
-&gt; m (ArgumentDefinition (GType, AnnotatedInputType))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621687919778"><span class="annot"><span class="annottext">GraphQLType
</span><a href="#local-6989586621687919778"><span class="hs-identifier hs-var">argumentType</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-126"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687919779"><span class="annot"><span class="annottext">gType :: GType
</span><a href="#local-6989586621687919779"><span class="hs-identifier hs-var hs-var">gType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GraphQLType -&gt; GType
</span><a href="Hasura.Table.Cache.html#unGraphQLType"><span class="hs-identifier hs-var">unGraphQLType</span></a></span><span> </span><span class="annot"><span class="annottext">GraphQLType
</span><a href="#local-6989586621687919778"><span class="hs-identifier hs-var">argumentType</span></a></span><span>
</span><span id="line-127"></span><span>          </span><span id="local-6989586621687919781"><span class="annot"><span class="annottext">argumentBaseType :: Name
</span><a href="#local-6989586621687919781"><span class="hs-identifier hs-var hs-var">argumentBaseType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GType -&gt; Name
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#getBaseType"><span class="hs-identifier hs-var">G.getBaseType</span></a></span><span> </span><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621687919779"><span class="hs-identifier hs-var">gType</span></a></span><span>
</span><span id="line-128"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621687919779"><span class="hs-identifier hs-var">gType</span></a></span><span class="hs-special">,</span><span class="hs-special">)</span><span>
</span><span id="line-129"></span><span>        </span><span class="annot"><span class="annottext">(AnnotatedInputType -&gt; (GType, AnnotatedInputType))
-&gt; m AnnotatedInputType -&gt; m (GType, AnnotatedInputType)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-keyword">if</span><span>
</span><span id="line-130"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621687919783"><span class="annot"><span class="annottext">AnnotatedScalarType
</span><a href="#local-6989586621687919783"><span class="hs-identifier hs-var">noCTScalar</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BackendMap ScalarParsingMap -&gt; Name -&gt; Maybe AnnotatedScalarType
</span><a href="Hasura.RQL.DDL.CustomTypes.html#lookupBackendScalar"><span class="hs-identifier hs-var">lookupBackendScalar</span></a></span><span> </span><span class="annot"><span class="annottext">BackendMap ScalarParsingMap
</span><a href="#local-6989586621687919774"><span class="hs-identifier hs-var">allScalars</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687919781"><span class="hs-identifier hs-var">argumentBaseType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-131"></span><span>              </span><span class="annot"><span class="annottext">AnnotatedInputType -&gt; m AnnotatedInputType
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(AnnotatedInputType -&gt; m AnnotatedInputType)
-&gt; AnnotatedInputType -&gt; m AnnotatedInputType
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">AnnotatedScalarType -&gt; AnnotatedInputType
</span><a href="Hasura.RQL.Types.CustomTypes.html#NOCTScalar"><span class="hs-identifier hs-var">NOCTScalar</span></a></span><span> </span><span class="annot"><span class="annottext">AnnotatedScalarType
</span><a href="#local-6989586621687919783"><span class="hs-identifier hs-var">noCTScalar</span></a></span><span>
</span><span id="line-132"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621687919785"><span class="annot"><span class="annottext">AnnotatedInputType
</span><a href="#local-6989586621687919785"><span class="hs-identifier hs-var">nonObjectType</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; HashMap Name AnnotatedInputType -&gt; Maybe AnnotatedInputType
forall k v. (Eq k, Hashable k) =&gt; k -&gt; HashMap k v -&gt; Maybe v
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/unordered-containers-0.2.20-6d56f9b3abc6011ddb6e237c415126423ab5ceb5c078221bba2ff80dbe921009/share/doc/html/src/Data.HashMap.Internal.html/Data.HashMap.Internal.html#lookup"><span class="hs-identifier hs-var">HashMap.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687919781"><span class="hs-identifier hs-var">argumentBaseType</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name AnnotatedInputType
</span><a href="#local-6989586621687919751"><span class="hs-identifier hs-var">_actInputTypes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-133"></span><span>              </span><span class="annot"><span class="annottext">AnnotatedInputType -&gt; m AnnotatedInputType
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">AnnotatedInputType
</span><a href="#local-6989586621687919785"><span class="hs-identifier hs-var">nonObjectType</span></a></span><span>
</span><span id="line-134"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-135"></span><span>              </span><span class="annot"><span class="annottext">Code -&gt; Text -&gt; m AnnotatedInputType
forall (m :: * -&gt; *) a. QErrM m =&gt; Code -&gt; Text -&gt; m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#throw400"><span class="hs-identifier hs-var">throw400</span></a></span><span> </span><span class="annot"><span class="annottext">Code
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#InvalidParams"><span class="hs-identifier hs-var">InvalidParams</span></a></span><span>
</span><span id="line-136"></span><span>                </span><span class="annot"><span class="annottext">(Text -&gt; m AnnotatedInputType) -&gt; Text -&gt; m AnnotatedInputType
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;the type: &quot;</span></span><span>
</span><span id="line-137"></span><span>                </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html/Data.Text.Extended.html#dquote"><span class="hs-identifier hs-var">dquote</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687919781"><span class="hs-identifier hs-var">argumentBaseType</span></a></span><span>
</span><span id="line-138"></span><span>                </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; is not defined in custom types or it is not a scalar/enum/input_object&quot;</span></span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span>  </span><span class="hs-comment">-- Check if the response type is an object</span><span>
</span><span id="line-141"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687919788"><span class="annot"><a href="#local-6989586621687919788"><span class="hs-identifier hs-var hs-var">outputType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GraphQLType -&gt; GType
</span><a href="Hasura.Table.Cache.html#unGraphQLType"><span class="hs-identifier hs-var">unGraphQLType</span></a></span><span> </span><span class="annot"><span class="annottext">GraphQLType
</span><a href="#local-6989586621687919757"><span class="hs-identifier hs-var">_adOutputType</span></a></span><span>
</span><span id="line-142"></span><span>      </span><span id="local-6989586621687919789"><span class="annot"><a href="#local-6989586621687919789"><span class="hs-identifier hs-var hs-var">outputBaseType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GType -&gt; Name
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#getBaseType"><span class="hs-identifier hs-var">G.getBaseType</span></a></span><span> </span><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621687919788"><span class="hs-identifier hs-var">outputType</span></a></span><span>
</span><span id="line-143"></span><span>  </span><span id="local-6989586621687919790"><span class="annot"><a href="#local-6989586621687919790"><span class="hs-identifier hs-var">outputObject</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-144"></span><span>    </span><span id="local-6989586621687919791"><span class="annot"><a href="#local-6989586621687919791"><span class="hs-identifier hs-var">aot</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-145"></span><span>      </span><span class="hs-keyword">if</span><span>
</span><span id="line-146"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621687919792"><span class="annot"><a href="#local-6989586621687919792"><span class="hs-identifier hs-var">aoTScalar</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#lookupBackendScalar"><span class="hs-identifier hs-type">lookupBackendScalar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919774"><span class="hs-identifier hs-type">allScalars</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919789"><span class="hs-identifier hs-type">outputBaseType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-147"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#AOTScalar"><span class="hs-identifier hs-type">AOTScalar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919792"><span class="hs-identifier hs-type">aoTScalar</span></a></span><span>
</span><span id="line-148"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621687919794"><span class="annot"><a href="#local-6989586621687919794"><span class="hs-identifier hs-var">objectType</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/unordered-containers-0.2.20-6d56f9b3abc6011ddb6e237c415126423ab5ceb5c078221bba2ff80dbe921009/share/doc/html/src/Data.HashMap.Internal.html/Data.HashMap.Internal.html#lookup"><span class="hs-identifier hs-type">HashMap.lookup</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919789"><span class="hs-identifier hs-type">outputBaseType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919752"><span class="hs-identifier hs-type">_actObjectTypes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-149"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#AOTObject"><span class="hs-identifier hs-type">AOTObject</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919794"><span class="hs-identifier hs-type">objectType</span></a></span><span>
</span><span id="line-150"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#NOCTScalar"><span class="hs-identifier hs-type">NOCTScalar</span></a></span><span> </span><span id="local-6989586621687919796"><span class="annot"><a href="#local-6989586621687919796"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/unordered-containers-0.2.20-6d56f9b3abc6011ddb6e237c415126423ab5ceb5c078221bba2ff80dbe921009/share/doc/html/src/Data.HashMap.Internal.html/Data.HashMap.Internal.html#lookup"><span class="hs-identifier hs-type">HashMap.lookup</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919789"><span class="hs-identifier hs-type">outputBaseType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919751"><span class="hs-identifier hs-type">_actInputTypes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-151"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#AOTScalar"><span class="hs-identifier hs-type">AOTScalar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919796"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-152"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">otherwise</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-153"></span><span>            </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#throw400"><span class="hs-identifier hs-type">throw400</span></a></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#NotExists"><span class="hs-identifier hs-type">NotExists</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;the type: &quot;</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;&gt;</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html/Data.Text.Extended.html#dquote"><span class="hs-identifier hs-type">dquote</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919789"><span class="hs-identifier hs-type">outputBaseType</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;&gt;</span></span><span> </span><span class="annot"><span class="hs-string">&quot; is not an object or scalar type defined in custom types&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-154"></span><span>    </span><span class="hs-comment">-- If the Action is sync:</span><span>
</span><span id="line-155"></span><span>    </span><span class="hs-comment">--      1. Check if the output type has only top level relations (if any)</span><span>
</span><span id="line-156"></span><span>    </span><span class="hs-comment">--   If the Action is async:</span><span>
</span><span id="line-157"></span><span>    </span><span class="hs-comment">--      1. Check that the output type has no relations if the output type contains nested objects</span><span>
</span><span id="line-158"></span><span>    </span><span class="hs-comment">-- These checks ensure that the SQL we generate for the join does not have to extract nested fields</span><span>
</span><span id="line-159"></span><span>    </span><span class="hs-comment">-- from the action webhook response.</span><span>
</span><span id="line-160"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621687919797"><span class="annot"><a href="#local-6989586621687919797"><span class="hs-identifier hs-var">nestedObjects</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621687919798"><span class="annot"><a href="#local-6989586621687919798"><span class="hs-identifier hs-var">scalarOrEnumFields</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621687919791"><span class="hs-identifier hs-type">aot</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-161"></span><span>          </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#AOTObject"><span class="hs-identifier hs-type">AOTObject</span></a></span><span> </span><span id="local-6989586621687919799"><span class="annot"><span class="annottext">AnnotatedObjectType
</span><a href="#local-6989586621687919799"><span class="hs-identifier hs-var">aot'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-162"></span><span>            </span><span class="annot"><span class="annottext">(ObjectFieldDefinition (GType, AnnotatedObjectFieldType) -&gt; Bool)
-&gt; NonEmpty
     (ObjectFieldDefinition (GType, AnnotatedObjectFieldType))
-&gt; ([ObjectFieldDefinition (GType, AnnotatedObjectFieldType)],
    [ObjectFieldDefinition (GType, AnnotatedObjectFieldType)])
forall a. (a -&gt; Bool) -&gt; NonEmpty a -&gt; ([a], [a])
</span><span class="hs-identifier hs-var">NEList.partition</span></span><span>
</span><span id="line-163"></span><span>              </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#ObjectFieldDefinition"><span class="hs-identifier hs-type">ObjectFieldDefinition</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621687919802"><span id="local-6989586621687919803"><span id="local-6989586621687919804"><span id="local-6989586621687919805"><span class="annot"><span class="annottext">Maybe Value
Maybe Description
(GType, AnnotatedObjectFieldType)
ObjectFieldName
_ofdName :: ObjectFieldName
_ofdArguments :: Maybe Value
_ofdDescription :: Maybe Description
_ofdType :: (GType, AnnotatedObjectFieldType)
_ofdType :: forall field. ObjectFieldDefinition field -&gt; field
_ofdDescription :: forall field. ObjectFieldDefinition field -&gt; Maybe Description
_ofdArguments :: forall field. ObjectFieldDefinition field -&gt; Maybe Value
_ofdName :: forall field. ObjectFieldDefinition field -&gt; ObjectFieldName
</span><a href="#local-6989586621687919802"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-164"></span><span>                  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(GType, AnnotatedObjectFieldType) -&gt; AnnotatedObjectFieldType
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">(GType, AnnotatedObjectFieldType)
</span><a href="#local-6989586621687919805"><span class="hs-identifier hs-var">_ofdType</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-165"></span><span>                    </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#AOFTScalar"><span class="hs-identifier hs-type">AOFTScalar</span></a></span><span> </span><span class="annot"><span class="annottext">AnnotatedScalarType
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-166"></span><span>                    </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#AOFTEnum"><span class="hs-identifier hs-type">AOFTEnum</span></a></span><span> </span><span class="annot"><span class="annottext">EnumTypeDefinition
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-167"></span><span>                    </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#AOFTObject"><span class="hs-identifier hs-type">AOFTObject</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-168"></span><span>              </span><span class="hs-special">)</span><span>
</span><span id="line-169"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnnotatedObjectType
-&gt; NonEmpty
     (ObjectFieldDefinition (GType, AnnotatedObjectFieldType))
</span><a href="Hasura.RQL.Types.CustomTypes.html#_aotFields"><span class="hs-identifier hs-var">_aotFields</span></a></span><span> </span><span class="annot"><span class="annottext">AnnotatedObjectType
</span><a href="#local-6989586621687919799"><span class="hs-identifier hs-var">aot'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-170"></span><span>          </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#AOTScalar"><span class="hs-identifier hs-type">AOTScalar</span></a></span><span> </span><span class="annot"><span class="annottext">AnnotatedScalarType
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-171"></span><span>        </span><span id="local-6989586621687919815"><span class="annot"><a href="#local-6989586621687919815"><span class="hs-identifier hs-var hs-var">scalarOrEnumFieldNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ObjectFieldDefinition (GType, AnnotatedObjectFieldType) -&gt; Name)
-&gt; [ObjectFieldDefinition (GType, AnnotatedObjectFieldType)]
-&gt; [Name]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#ObjectFieldDefinition"><span class="hs-identifier hs-type">ObjectFieldDefinition</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621687919816"><span id="local-6989586621687919817"><span id="local-6989586621687919818"><span id="local-6989586621687919819"><span class="annot"><span class="annottext">Maybe Value
Maybe Description
(GType, AnnotatedObjectFieldType)
ObjectFieldName
_ofdType :: forall field. ObjectFieldDefinition field -&gt; field
_ofdDescription :: forall field. ObjectFieldDefinition field -&gt; Maybe Description
_ofdArguments :: forall field. ObjectFieldDefinition field -&gt; Maybe Value
_ofdName :: forall field. ObjectFieldDefinition field -&gt; ObjectFieldName
_ofdName :: ObjectFieldName
_ofdArguments :: Maybe Value
_ofdDescription :: Maybe Description
_ofdType :: (GType, AnnotatedObjectFieldType)
</span><a href="Hasura.RQL.Types.CustomTypes.html#_ofdType"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ObjectFieldName -&gt; Name
</span><a href="Hasura.RQL.Types.CustomTypes.html#unObjectFieldName"><span class="hs-identifier hs-var">unObjectFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">ObjectFieldName
</span><a href="#local-6989586621687919816"><span class="hs-identifier hs-var">_ofdName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ObjectFieldDefinition (GType, AnnotatedObjectFieldType)]
</span><a href="#local-6989586621687919798"><span class="hs-identifier hs-var">scalarOrEnumFields</span></a></span><span>
</span><span id="line-172"></span><span>        </span><span id="local-6989586621687919821"><span class="annot"><a href="#local-6989586621687919821"><span class="hs-identifier hs-var hs-var">validateSyncAction</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">AnnotatedOutputType
</span><a href="#local-6989586621687919791"><span class="hs-identifier hs-var">aot</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-173"></span><span>          </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#AOTObject"><span class="hs-identifier hs-type">AOTObject</span></a></span><span> </span><span id="local-6989586621687919822"><span class="annot"><span class="annottext">AnnotatedObjectType
</span><a href="#local-6989586621687919822"><span class="hs-identifier hs-var">aot'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-174"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687919823"><span class="annot"><span class="annottext">relationshipsWithNonTopLevelFields :: [AnnotatedTypeRelationship]
</span><a href="#local-6989586621687919823"><span class="hs-identifier hs-var hs-var">relationshipsWithNonTopLevelFields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-175"></span><span>                  </span><span class="annot"><span class="annottext">(AnnotatedTypeRelationship -&gt; Bool)
-&gt; [AnnotatedTypeRelationship] -&gt; [AnnotatedTypeRelationship]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span>
</span><span id="line-176"></span><span>                    </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#AnnotatedTypeRelationship"><span class="hs-identifier hs-type">AnnotatedTypeRelationship</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621687919825"><span id="local-6989586621687919826"><span id="local-6989586621687919827"><span id="local-6989586621687919828"><span id="local-6989586621687919829"><span id="local-6989586621687919830"><span class="annot"><span class="annottext">HashMap ObjectFieldName (ColumnInfo ('Postgres 'Vanilla))
SourceName
RelType
SourceConfig ('Postgres 'Vanilla)
TableName ('Postgres 'Vanilla)
RelationshipName
_atrName :: RelationshipName
_atrType :: RelType
_atrSource :: SourceName
_atrSourceConfig :: SourceConfig ('Postgres 'Vanilla)
_atrTableName :: TableName ('Postgres 'Vanilla)
_atrFieldMapping :: HashMap ObjectFieldName (ColumnInfo ('Postgres 'Vanilla))
_atrFieldMapping :: AnnotatedTypeRelationship
-&gt; HashMap ObjectFieldName (ColumnInfo ('Postgres 'Vanilla))
_atrTableName :: AnnotatedTypeRelationship -&gt; TableName ('Postgres 'Vanilla)
_atrSourceConfig :: AnnotatedTypeRelationship -&gt; SourceConfig ('Postgres 'Vanilla)
_atrSource :: AnnotatedTypeRelationship -&gt; SourceName
_atrType :: AnnotatedTypeRelationship -&gt; RelType
_atrName :: AnnotatedTypeRelationship -&gt; RelationshipName
</span><a href="#local-6989586621687919825"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-177"></span><span>                        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687919837"><span class="annot"><span class="annottext">objsInRel :: [Name]
</span><a href="#local-6989586621687919837"><span class="hs-identifier hs-var hs-var">objsInRel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ObjectFieldName -&gt; Name
</span><a href="Hasura.RQL.Types.CustomTypes.html#unObjectFieldName"><span class="hs-identifier hs-var">unObjectFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">(ObjectFieldName -&gt; Name) -&gt; [ObjectFieldName] -&gt; [Name]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashMap ObjectFieldName (ColumnInfo ('Postgres 'Vanilla))
-&gt; [ObjectFieldName]
forall k v. HashMap k v -&gt; [k]
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/unordered-containers-0.2.20-6d56f9b3abc6011ddb6e237c415126423ab5ceb5c078221bba2ff80dbe921009/share/doc/html/src/Data.HashMap.Internal.html/Data.HashMap.Internal.html#keys"><span class="hs-identifier hs-var">HashMap.keys</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap ObjectFieldName (ColumnInfo ('Postgres 'Vanilla))
</span><a href="#local-6989586621687919830"><span class="hs-identifier hs-var">_atrFieldMapping</span></a></span><span>
</span><span id="line-178"></span><span>                         </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Bool) -&gt; [Name] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">all</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; [Name] -&gt; Bool
forall a. Eq a =&gt; a -&gt; [a] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621687919815"><span class="hs-identifier hs-var">scalarOrEnumFieldNames</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621687919837"><span class="hs-identifier hs-var">objsInRel</span></a></span><span>
</span><span id="line-179"></span><span>                    </span><span class="hs-special">)</span><span>
</span><span id="line-180"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnnotatedObjectType -&gt; [AnnotatedTypeRelationship]
</span><a href="Hasura.RQL.Types.CustomTypes.html#_aotRelationships"><span class="hs-identifier hs-var">_aotRelationships</span></a></span><span> </span><span class="annot"><span class="annottext">AnnotatedObjectType
</span><a href="#local-6989586621687919822"><span class="hs-identifier hs-var">aot'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-181"></span><span>            </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AnnotatedTypeRelationship] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[AnnotatedTypeRelationship]
</span><a href="#local-6989586621687919823"><span class="hs-identifier hs-var">relationshipsWithNonTopLevelFields</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-182"></span><span>              </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Code -&gt; Text -&gt; m ()
forall (m :: * -&gt; *) a. QErrM m =&gt; Code -&gt; Text -&gt; m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#throw400"><span class="hs-identifier hs-var">throw400</span></a></span><span> </span><span class="annot"><span class="annottext">Code
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#ConstraintError"><span class="hs-identifier hs-var">ConstraintError</span></a></span><span>
</span><span id="line-183"></span><span>              </span><span class="annot"><span class="annottext">(Text -&gt; m ()) -&gt; Text -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Relationships cannot be defined with nested object fields: &quot;</span></span><span>
</span><span id="line-184"></span><span>              </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Text] -&gt; Text
forall t (f :: * -&gt; *). (ToTxt t, Foldable f) =&gt; f t -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html/Data.Text.Extended.html#commaSeparated"><span class="hs-identifier hs-var">commaSeparated</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RelationshipName -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html/Data.Text.Extended.html#dquote"><span class="hs-identifier hs-var">dquote</span></a></span><span> </span><span class="annot"><span class="annottext">(RelationshipName -&gt; Text)
-&gt; (AnnotatedTypeRelationship -&gt; RelationshipName)
-&gt; AnnotatedTypeRelationship
-&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">AnnotatedTypeRelationship -&gt; RelationshipName
</span><a href="Hasura.RQL.Types.CustomTypes.html#_atrName"><span class="hs-identifier hs-var">_atrName</span></a></span><span> </span><span class="annot"><span class="annottext">(AnnotatedTypeRelationship -&gt; Text)
-&gt; [AnnotatedTypeRelationship] -&gt; [Text]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[AnnotatedTypeRelationship]
</span><a href="#local-6989586621687919823"><span class="hs-identifier hs-var">relationshipsWithNonTopLevelFields</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-185"></span><span>          </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#AOTScalar"><span class="hs-identifier hs-type">AOTScalar</span></a></span><span> </span><span class="annot"><span class="annottext">AnnotatedScalarType
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; m ()
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-186"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621687919758"><span class="hs-identifier hs-type">_adType</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-187"></span><span>      </span><span class="annot"><span class="annottext">ActionType
</span><a href="Hasura.RQL.Types.Action.html#ActionQuery"><span class="hs-identifier hs-var">ActionQuery</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m ()
</span><a href="#local-6989586621687919821"><span class="hs-identifier hs-var">validateSyncAction</span></a></span><span>
</span><span id="line-188"></span><span>      </span><span class="annot"><a href="Hasura.RQL.Types.Action.html#ActionMutation"><span class="hs-identifier hs-type">ActionMutation</span></a></span><span> </span><span class="annot"><span class="annottext">ActionMutationKind
</span><a href="Hasura.RQL.Types.Action.html#ActionSynchronous"><span class="hs-identifier hs-var">ActionSynchronous</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m ()
</span><a href="#local-6989586621687919821"><span class="hs-identifier hs-var">validateSyncAction</span></a></span><span>
</span><span id="line-189"></span><span>      </span><span class="annot"><a href="Hasura.RQL.Types.Action.html#ActionMutation"><span class="hs-identifier hs-type">ActionMutation</span></a></span><span> </span><span class="annot"><span class="annottext">ActionMutationKind
</span><a href="Hasura.RQL.Types.Action.html#ActionAsynchronous"><span class="hs-identifier hs-var">ActionAsynchronous</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">AnnotatedOutputType
</span><a href="#local-6989586621687919791"><span class="hs-identifier hs-var">aot</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-190"></span><span>        </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#AOTScalar"><span class="hs-identifier hs-type">AOTScalar</span></a></span><span> </span><span class="annot"><span class="annottext">AnnotatedScalarType
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; m ()
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-191"></span><span>        </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#AOTObject"><span class="hs-identifier hs-type">AOTObject</span></a></span><span> </span><span id="local-6989586621687919852"><span class="annot"><span class="annottext">AnnotatedObjectType
</span><a href="#local-6989586621687919852"><span class="hs-identifier hs-var">aot'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-192"></span><span>          </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AnnotatedTypeRelationship] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnnotatedObjectType -&gt; [AnnotatedTypeRelationship]
</span><a href="Hasura.RQL.Types.CustomTypes.html#_aotRelationships"><span class="hs-identifier hs-var">_aotRelationships</span></a></span><span> </span><span class="annot"><span class="annottext">AnnotatedObjectType
</span><a href="#local-6989586621687919852"><span class="hs-identifier hs-var">aot'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">[ObjectFieldDefinition (GType, AnnotatedObjectFieldType)] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[ObjectFieldDefinition (GType, AnnotatedObjectFieldType)]
</span><a href="#local-6989586621687919797"><span class="hs-identifier hs-var">nestedObjects</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-193"></span><span>            </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Code -&gt; Text -&gt; m ()
forall (m :: * -&gt; *) a. QErrM m =&gt; Code -&gt; Text -&gt; m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#throw400"><span class="hs-identifier hs-var">throw400</span></a></span><span> </span><span class="annot"><span class="annottext">Code
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#ConstraintError"><span class="hs-identifier hs-var">ConstraintError</span></a></span><span>
</span><span id="line-194"></span><span>            </span><span class="annot"><span class="annottext">(Text -&gt; m ()) -&gt; Text -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Async action relations cannot be used with object fields: &quot;</span></span><span>
</span><span id="line-195"></span><span>            </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Text] -&gt; Text
forall t (f :: * -&gt; *). (ToTxt t, Foldable f) =&gt; f t -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html/Data.Text.Extended.html#commaSeparated"><span class="hs-identifier hs-var">commaSeparated</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ObjectFieldName -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html/Data.Text.Extended.html#dquote"><span class="hs-identifier hs-var">dquote</span></a></span><span> </span><span class="annot"><span class="annottext">(ObjectFieldName -&gt; Text)
-&gt; (ObjectFieldDefinition (GType, AnnotatedObjectFieldType)
    -&gt; ObjectFieldName)
-&gt; ObjectFieldDefinition (GType, AnnotatedObjectFieldType)
-&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ObjectFieldDefinition (GType, AnnotatedObjectFieldType)
-&gt; ObjectFieldName
forall field. ObjectFieldDefinition field -&gt; ObjectFieldName
</span><a href="Hasura.RQL.Types.CustomTypes.html#_ofdName"><span class="hs-identifier hs-var">_ofdName</span></a></span><span> </span><span class="annot"><span class="annottext">(ObjectFieldDefinition (GType, AnnotatedObjectFieldType) -&gt; Text)
-&gt; [ObjectFieldDefinition (GType, AnnotatedObjectFieldType)]
-&gt; [Text]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[ObjectFieldDefinition (GType, AnnotatedObjectFieldType)]
</span><a href="#local-6989586621687919797"><span class="hs-identifier hs-var">nestedObjects</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-196"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><a href="#local-6989586621687919791"><span class="hs-identifier hs-type">aot</span></a></span><span>
</span><span id="line-197"></span><span>  </span><span id="local-6989586621687919854"><span class="annot"><a href="#local-6989586621687919854"><span class="hs-identifier hs-var">resolvedWebhook</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Common.html#resolveWebhook"><span class="hs-identifier hs-type">resolveWebhook</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919749"><span class="hs-identifier hs-type">env</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919762"><span class="hs-identifier hs-type">_adHandler</span></a></span><span>
</span><span id="line-198"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687919856"><span class="annot"><a href="#local-6989586621687919856"><span class="hs-identifier hs-var hs-var">webhookEnvRecord</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; ResolvedWebhook -&gt; EnvRecord ResolvedWebhook
forall a. Text -&gt; a -&gt; EnvRecord a
</span><a href="Hasura.RQL.Types.Common.html#EnvRecord"><span class="hs-identifier hs-var">EnvRecord</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Template -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.URL.Template.html/Data.URL.Template.html#printTemplate"><span class="hs-identifier hs-var">printTemplate</span></a></span><span> </span><span class="annot"><span class="annottext">(Template -&gt; Text) -&gt; Template -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">InputWebhook -&gt; Template
</span><a href="Hasura.RQL.Types.Common.html#unInputWebhook"><span class="hs-identifier hs-var">unInputWebhook</span></a></span><span> </span><span class="annot"><span class="annottext">InputWebhook
</span><a href="#local-6989586621687919762"><span class="hs-identifier hs-var">_adHandler</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ResolvedWebhook
</span><a href="#local-6989586621687919854"><span class="hs-identifier hs-var">resolvedWebhook</span></a></span><span>
</span><span id="line-199"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span>
</span><span id="line-200"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Action.html#ActionDefinition"><span class="hs-identifier hs-type">ActionDefinition</span></a></span><span>
</span><span id="line-201"></span><span>        </span><span class="annot"><a href="#local-6989586621687919775"><span class="hs-identifier hs-type">resolvedArguments</span></a></span><span>
</span><span id="line-202"></span><span>        </span><span class="annot"><a href="#local-6989586621687919757"><span class="hs-identifier hs-type">_adOutputType</span></a></span><span>
</span><span id="line-203"></span><span>        </span><span class="annot"><a href="#local-6989586621687919758"><span class="hs-identifier hs-type">_adType</span></a></span><span>
</span><span id="line-204"></span><span>        </span><span class="annot"><a href="#local-6989586621687919759"><span class="hs-identifier hs-type">_adHeaders</span></a></span><span>
</span><span id="line-205"></span><span>        </span><span class="annot"><a href="#local-6989586621687919760"><span class="hs-identifier hs-type">_adForwardClientHeaders</span></a></span><span>
</span><span id="line-206"></span><span>        </span><span class="annot"><a href="#local-6989586621687919761"><span class="hs-identifier hs-type">_adTimeout</span></a></span><span>
</span><span id="line-207"></span><span>        </span><span class="annot"><a href="#local-6989586621687919856"><span class="hs-identifier hs-type">webhookEnvRecord</span></a></span><span>
</span><span id="line-208"></span><span>        </span><span class="annot"><a href="#local-6989586621687919763"><span class="hs-identifier hs-type">_adRequestTransform</span></a></span><span>
</span><span id="line-209"></span><span>        </span><span class="annot"><a href="#local-6989586621687919764"><span class="hs-identifier hs-type">_adResponseTransform</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-210"></span><span>      </span><span class="annot"><a href="#local-6989586621687919790"><span class="hs-identifier hs-type">outputObject</span></a></span><span>
</span><span id="line-211"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-212"></span><span>
</span><span id="line-213"></span><span class="hs-keyword">data</span><span> </span><span id="UpdateAction"><span class="annot"><a href="Hasura.RQL.DDL.Action.html#UpdateAction"><span class="hs-identifier hs-var">UpdateAction</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="UpdateAction"><span class="annot"><a href="Hasura.RQL.DDL.Action.html#UpdateAction"><span class="hs-identifier hs-var">UpdateAction</span></a></span></span><span>
</span><span id="line-214"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="_uaName"><span class="annot"><span class="annottext">UpdateAction -&gt; ActionName
</span><a href="Hasura.RQL.DDL.Action.html#_uaName"><span class="hs-identifier hs-var hs-var">_uaName</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Action.html#ActionName"><span class="hs-identifier hs-type">ActionName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-215"></span><span>    </span><span id="_uaDefinition"><span class="annot"><span class="annottext">UpdateAction -&gt; ActionDefinitionInput
</span><a href="Hasura.RQL.DDL.Action.html#_uaDefinition"><span class="hs-identifier hs-var hs-var">_uaDefinition</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Action.html#ActionDefinitionInput"><span class="hs-identifier hs-type">ActionDefinitionInput</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-216"></span><span>    </span><span id="_uaComment"><span class="annot"><span class="annottext">UpdateAction -&gt; Maybe Text
</span><a href="Hasura.RQL.DDL.Action.html#_uaComment"><span class="hs-identifier hs-var hs-var">_uaComment</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-217"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-218"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621687919864"><span id="local-6989586621687919866"><span class="annot"><span class="annottext">(forall x. UpdateAction -&gt; Rep UpdateAction x)
-&gt; (forall x. Rep UpdateAction x -&gt; UpdateAction)
-&gt; Generic UpdateAction
forall x. Rep UpdateAction x -&gt; UpdateAction
forall x. UpdateAction -&gt; Rep UpdateAction x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. UpdateAction -&gt; Rep UpdateAction x
from :: forall x. UpdateAction -&gt; Rep UpdateAction x
$cto :: forall x. Rep UpdateAction x -&gt; UpdateAction
to :: forall x. Rep UpdateAction x -&gt; UpdateAction
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-219"></span><span>
</span><span id="line-220"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621687919870"><span id="local-6989586621687919874"><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#FromJSON"><span class="hs-identifier hs-type">J.FromJSON</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#UpdateAction"><span class="hs-identifier hs-type">UpdateAction</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-221"></span><span>  </span><span id="local-6989586621687919937"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser UpdateAction
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#parseJSON"><span class="hs-identifier hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Options -&gt; Value -&gt; Parser UpdateAction
forall a.
(Generic a, GFromJSON Zero (Rep a)) =&gt;
Options -&gt; Value -&gt; Parser a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#genericParseJSON"><span class="hs-identifier hs-var">J.genericParseJSON</span></a></span><span> </span><span class="annot"><span class="annottext">Options
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html/Hasura.Prelude.html#hasuraJSON"><span class="hs-identifier hs-var">hasuraJSON</span></a></span><span>
</span><span id="line-222"></span><span>
</span><span id="line-223"></span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#runUpdateAction"><span class="hs-identifier hs-type">runUpdateAction</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-224"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621687919169"><span class="annot"><a href="#local-6989586621687919169"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-225"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#QErrM"><span class="hs-identifier hs-type">QErrM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919169"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.Build.html#CacheRWM"><span class="hs-identifier hs-type">CacheRWM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919169"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataM"><span class="hs-identifier hs-type">MetadataM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919169"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-226"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#UpdateAction"><span class="hs-identifier hs-type">UpdateAction</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-227"></span><span>  </span><span class="annot"><a href="#local-6989586621687919169"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-json-encoding-1.0.0/opt/doc/html/hasura-json-encoding/src/Hasura.EncJSON.html/Hasura.EncJSON.html#EncJSON"><span class="hs-identifier hs-type">EncJSON</span></a></span><span>
</span><span id="line-228"></span><span id="runUpdateAction"><span class="annot"><span class="annottext">runUpdateAction :: forall (m :: * -&gt; *).
(QErrM m, CacheRWM m, MetadataM m) =&gt;
UpdateAction -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Action.html#runUpdateAction"><span class="hs-identifier hs-var hs-var">runUpdateAction</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#UpdateAction"><span class="hs-identifier hs-type">UpdateAction</span></a></span><span> </span><span id="local-6989586621687919970"><span class="annot"><span class="annottext">ActionName
</span><a href="#local-6989586621687919970"><span class="hs-identifier hs-var">actionName</span></a></span></span><span> </span><span id="local-6989586621687919971"><span class="annot"><span class="annottext">ActionDefinitionInput
</span><a href="#local-6989586621687919971"><span class="hs-identifier hs-var">actionDefinition</span></a></span></span><span> </span><span id="local-6989586621687919972"><span class="annot"><span class="annottext">Maybe Text
</span><a href="#local-6989586621687919972"><span class="hs-identifier hs-var">actionComment</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-229"></span><span>  </span><span id="local-6989586621687919973"><span class="annot"><a href="#local-6989586621687919973"><span class="hs-identifier hs-var">sc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m SchemaCache
forall (m :: * -&gt; *). CacheRM m =&gt; m SchemaCache
</span><a href="Hasura.RQL.Types.SchemaCache.html#askSchemaCache"><span class="hs-identifier hs-var">askSchemaCache</span></a></span><span>
</span><span id="line-230"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687919974"><span class="annot"><a href="#local-6989586621687919974"><span class="hs-identifier hs-var hs-var">actionsMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SchemaCache -&gt; ActionCache
</span><a href="Hasura.RQL.Types.SchemaCache.html#scActions"><span class="hs-identifier hs-var">scActions</span></a></span><span> </span><span class="annot"><span class="annottext">SchemaCache
</span><a href="#local-6989586621687919973"><span class="hs-identifier hs-var">sc</span></a></span><span>
</span><span id="line-231"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">void</span></span><span>
</span><span id="line-232"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html/Hasura.Prelude.html#onNothing"><span class="hs-identifier hs-type">onNothing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/unordered-containers-0.2.20-6d56f9b3abc6011ddb6e237c415126423ab5ceb5c078221bba2ff80dbe921009/share/doc/html/src/Data.HashMap.Internal.html/Data.HashMap.Internal.html#lookup"><span class="hs-identifier hs-type">HashMap.lookup</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919970"><span class="hs-identifier hs-type">actionName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919974"><span class="hs-identifier hs-type">actionsMap</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-233"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#throw400"><span class="hs-identifier hs-type">throw400</span></a></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#NotExists"><span class="hs-identifier hs-type">NotExists</span></a></span><span>
</span><span id="line-234"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;action with name &quot;</span></span><span>
</span><span id="line-235"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">&lt;&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621687919970"><span class="hs-identifier hs-type">actionName</span></a></span><span>
</span><span id="line-236"></span><span>    </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html/Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-type">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot; does not exist&quot;</span></span><span>
</span><span id="line-237"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.Build.html#buildSchemaCacheFor"><span class="hs-identifier hs-type">buildSchemaCacheFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Object.html#MOAction"><span class="hs-identifier hs-type">MOAction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919970"><span class="hs-identifier hs-type">actionName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="#local-6989586621687919976"><span class="hs-identifier hs-type">updateActionMetadataModifier</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919971"><span class="hs-identifier hs-type">actionDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919972"><span class="hs-identifier hs-type">actionComment</span></a></span><span>
</span><span id="line-238"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Common.html#successMsg"><span class="hs-identifier hs-type">successMsg</span></a></span><span>
</span><span id="line-239"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-240"></span><span>    </span><span class="annot"><a href="#local-6989586621687919976"><span class="hs-identifier hs-type">updateActionMetadataModifier</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Action.html#ActionDefinitionInput"><span class="hs-identifier hs-type">ActionDefinitionInput</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataModifier"><span class="hs-identifier hs-type">MetadataModifier</span></a></span><span>
</span><span id="line-241"></span><span>    </span><span id="local-6989586621687919976"><span class="annot"><span class="annottext">updateActionMetadataModifier :: ActionDefinitionInput -&gt; Maybe Text -&gt; MetadataModifier
</span><a href="#local-6989586621687919976"><span class="hs-identifier hs-var hs-var">updateActionMetadataModifier</span></a></span></span><span> </span><span id="local-6989586621687919977"><span class="annot"><span class="annottext">ActionDefinitionInput
</span><a href="#local-6989586621687919977"><span class="hs-identifier hs-var">def</span></a></span></span><span> </span><span id="local-6989586621687919978"><span class="annot"><span class="annottext">Maybe Text
</span><a href="#local-6989586621687919978"><span class="hs-identifier hs-var">comment</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-242"></span><span>      </span><span class="annot"><span class="annottext">(Metadata -&gt; Metadata) -&gt; MetadataModifier
</span><a href="Hasura.RQL.Types.Metadata.html#MetadataModifier"><span class="hs-identifier hs-var">MetadataModifier</span></a></span><span>
</span><span id="line-243"></span><span>        </span><span class="annot"><span class="annottext">((Metadata -&gt; Metadata) -&gt; MetadataModifier)
-&gt; (Metadata -&gt; Metadata) -&gt; MetadataModifier
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Actions -&gt; Identity Actions) -&gt; Metadata -&gt; Identity Metadata
Lens' Metadata Actions
</span><a href="Hasura.RQL.Types.Metadata.html#metaActions"><span class="hs-identifier hs-var">metaActions</span></a></span><span> </span><span class="annot"><span class="annottext">((Actions -&gt; Identity Actions) -&gt; Metadata -&gt; Identity Metadata)
-&gt; ((ActionDefinitionInput -&gt; Identity ActionDefinitionInput)
    -&gt; Actions -&gt; Identity Actions)
-&gt; (ActionDefinitionInput -&gt; Identity ActionDefinitionInput)
-&gt; Metadata
-&gt; Identity Metadata
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Index Actions -&gt; Traversal' Actions (IxValue Actions)
forall m. Ixed m =&gt; Index m -&gt; Traversal' m (IxValue m)
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/lens-5.3.2-7ec14d641784087c1f1350eada3cde7884c62d1ab2707daec993ceeca3096d32/share/doc/html/src/Control.Lens.At.html/Control.Lens.At.html#ix"><span class="hs-identifier hs-var">ix</span></a></span><span> </span><span class="annot"><span class="annottext">Index Actions
ActionName
</span><a href="#local-6989586621687919970"><span class="hs-identifier hs-var">actionName</span></a></span><span> </span><span class="annot"><span class="annottext">((ActionMetadata -&gt; Identity ActionMetadata)
 -&gt; Actions -&gt; Identity Actions)
-&gt; ((ActionDefinitionInput -&gt; Identity ActionDefinitionInput)
    -&gt; ActionMetadata -&gt; Identity ActionMetadata)
-&gt; (ActionDefinitionInput -&gt; Identity ActionDefinitionInput)
-&gt; Actions
-&gt; Identity Actions
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(ActionDefinitionInput -&gt; Identity ActionDefinitionInput)
-&gt; ActionMetadata -&gt; Identity ActionMetadata
Lens' ActionMetadata ActionDefinitionInput
</span><a href="Hasura.RQL.Types.Action.html#amDefinition"><span class="hs-identifier hs-var">amDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">((ActionDefinitionInput -&gt; Identity ActionDefinitionInput)
 -&gt; Metadata -&gt; Identity Metadata)
-&gt; ActionDefinitionInput -&gt; Metadata -&gt; Metadata
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/lens-5.3.2-7ec14d641784087c1f1350eada3cde7884c62d1ab2707daec993ceeca3096d32/share/doc/html/src/Control.Lens.Setter.html/Control.Lens.Setter.html#.~"><span class="hs-operator hs-var">.~</span></a></span><span> </span><span class="annot"><span class="annottext">ActionDefinitionInput
</span><a href="#local-6989586621687919977"><span class="hs-identifier hs-var">def</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-244"></span><span>        </span><span class="annot"><span class="annottext">(Metadata -&gt; Metadata)
-&gt; (Metadata -&gt; Metadata) -&gt; Metadata -&gt; Metadata
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Actions -&gt; Identity Actions) -&gt; Metadata -&gt; Identity Metadata
Lens' Metadata Actions
</span><a href="Hasura.RQL.Types.Metadata.html#metaActions"><span class="hs-identifier hs-var">metaActions</span></a></span><span> </span><span class="annot"><span class="annottext">((Actions -&gt; Identity Actions) -&gt; Metadata -&gt; Identity Metadata)
-&gt; ((Maybe Text -&gt; Identity (Maybe Text))
    -&gt; Actions -&gt; Identity Actions)
-&gt; (Maybe Text -&gt; Identity (Maybe Text))
-&gt; Metadata
-&gt; Identity Metadata
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Index Actions -&gt; Traversal' Actions (IxValue Actions)
forall m. Ixed m =&gt; Index m -&gt; Traversal' m (IxValue m)
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/lens-5.3.2-7ec14d641784087c1f1350eada3cde7884c62d1ab2707daec993ceeca3096d32/share/doc/html/src/Control.Lens.At.html/Control.Lens.At.html#ix"><span class="hs-identifier hs-var">ix</span></a></span><span> </span><span class="annot"><span class="annottext">Index Actions
ActionName
</span><a href="#local-6989586621687919970"><span class="hs-identifier hs-var">actionName</span></a></span><span> </span><span class="annot"><span class="annottext">((ActionMetadata -&gt; Identity ActionMetadata)
 -&gt; Actions -&gt; Identity Actions)
-&gt; ((Maybe Text -&gt; Identity (Maybe Text))
    -&gt; ActionMetadata -&gt; Identity ActionMetadata)
-&gt; (Maybe Text -&gt; Identity (Maybe Text))
-&gt; Actions
-&gt; Identity Actions
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Maybe Text -&gt; Identity (Maybe Text))
-&gt; ActionMetadata -&gt; Identity ActionMetadata
Lens' ActionMetadata (Maybe Text)
</span><a href="Hasura.RQL.Types.Action.html#amComment"><span class="hs-identifier hs-var">amComment</span></a></span><span> </span><span class="annot"><span class="annottext">((Maybe Text -&gt; Identity (Maybe Text))
 -&gt; Metadata -&gt; Identity Metadata)
-&gt; Maybe Text -&gt; Metadata -&gt; Metadata
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/lens-5.3.2-7ec14d641784087c1f1350eada3cde7884c62d1ab2707daec993ceeca3096d32/share/doc/html/src/Control.Lens.Setter.html/Control.Lens.Setter.html#.~"><span class="hs-operator hs-var">.~</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Text
</span><a href="#local-6989586621687919978"><span class="hs-identifier hs-var">comment</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-245"></span><span>
</span><span id="line-246"></span><span class="hs-keyword">newtype</span><span> </span><span id="ClearActionData"><span class="annot"><a href="Hasura.RQL.DDL.Action.html#ClearActionData"><span class="hs-identifier hs-var">ClearActionData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ClearActionData"><span class="annot"><a href="Hasura.RQL.DDL.Action.html#ClearActionData"><span class="hs-identifier hs-var">ClearActionData</span></a></span></span><span> </span><span class="hs-special">{</span><span id="unClearActionData"><span class="annot"><span class="annottext">ClearActionData -&gt; Bool
</span><a href="Hasura.RQL.DDL.Action.html#unClearActionData"><span class="hs-identifier hs-var hs-var">unClearActionData</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">}</span><span>
</span><span id="line-247"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621687919985"><span id="local-6989586621687919991"><span id="local-6989586621687919995"><span class="annot"><span class="annottext">Int -&gt; ClearActionData -&gt; ShowS
[ClearActionData] -&gt; ShowS
ClearActionData -&gt; String
(Int -&gt; ClearActionData -&gt; ShowS)
-&gt; (ClearActionData -&gt; String)
-&gt; ([ClearActionData] -&gt; ShowS)
-&gt; Show ClearActionData
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; ClearActionData -&gt; ShowS
showsPrec :: Int -&gt; ClearActionData -&gt; ShowS
$cshow :: ClearActionData -&gt; String
show :: ClearActionData -&gt; String
$cshowList :: [ClearActionData] -&gt; ShowS
showList :: [ClearActionData] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621687920000"><span id="local-6989586621687920005"><span class="annot"><span class="annottext">ClearActionData -&gt; ClearActionData -&gt; Bool
(ClearActionData -&gt; ClearActionData -&gt; Bool)
-&gt; (ClearActionData -&gt; ClearActionData -&gt; Bool)
-&gt; Eq ClearActionData
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: ClearActionData -&gt; ClearActionData -&gt; Bool
== :: ClearActionData -&gt; ClearActionData -&gt; Bool
$c/= :: ClearActionData -&gt; ClearActionData -&gt; Bool
/= :: ClearActionData -&gt; ClearActionData -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621687920012"><span id="local-6989586621687920017"><span id="local-6989586621687920021"><span class="annot"><span class="annottext">Maybe ClearActionData
Value -&gt; Parser [ClearActionData]
Value -&gt; Parser ClearActionData
(Value -&gt; Parser ClearActionData)
-&gt; (Value -&gt; Parser [ClearActionData])
-&gt; Maybe ClearActionData
-&gt; FromJSON ClearActionData
forall a.
(Value -&gt; Parser a)
-&gt; (Value -&gt; Parser [a]) -&gt; Maybe a -&gt; FromJSON a
$cparseJSON :: Value -&gt; Parser ClearActionData
parseJSON :: Value -&gt; Parser ClearActionData
$cparseJSONList :: Value -&gt; Parser [ClearActionData]
parseJSONList :: Value -&gt; Parser [ClearActionData]
$comittedField :: Maybe ClearActionData
omittedField :: Maybe ClearActionData
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#FromJSON"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">J.FromJSON</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621687920028"><span id="local-6989586621687920033"><span id="local-6989586621687920037"><span id="local-6989586621687920041"><span id="local-6989586621687920045"><span class="annot"><span class="annottext">[ClearActionData] -&gt; Value
[ClearActionData] -&gt; Encoding
ClearActionData -&gt; Bool
ClearActionData -&gt; Value
ClearActionData -&gt; Encoding
(ClearActionData -&gt; Value)
-&gt; (ClearActionData -&gt; Encoding)
-&gt; ([ClearActionData] -&gt; Value)
-&gt; ([ClearActionData] -&gt; Encoding)
-&gt; (ClearActionData -&gt; Bool)
-&gt; ToJSON ClearActionData
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; (a -&gt; Bool)
-&gt; ToJSON a
$ctoJSON :: ClearActionData -&gt; Value
toJSON :: ClearActionData -&gt; Value
$ctoEncoding :: ClearActionData -&gt; Encoding
toEncoding :: ClearActionData -&gt; Encoding
$ctoJSONList :: [ClearActionData] -&gt; Value
toJSONList :: [ClearActionData] -&gt; Value
$ctoEncodingList :: [ClearActionData] -&gt; Encoding
toEncodingList :: [ClearActionData] -&gt; Encoding
$comitField :: ClearActionData -&gt; Bool
omitField :: ClearActionData -&gt; Bool
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.ToJSON.html/Data.Aeson.Types.ToJSON.html#ToJSON"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">J.ToJSON</span></a></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-248"></span><span>
</span><span id="line-249"></span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#shouldClearActionData"><span class="hs-identifier hs-type">shouldClearActionData</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#ClearActionData"><span class="hs-identifier hs-type">ClearActionData</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-250"></span><span id="shouldClearActionData"><span class="annot"><span class="annottext">shouldClearActionData :: ClearActionData -&gt; Bool
</span><a href="Hasura.RQL.DDL.Action.html#shouldClearActionData"><span class="hs-identifier hs-var hs-var">shouldClearActionData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClearActionData -&gt; Bool
</span><a href="Hasura.RQL.DDL.Action.html#unClearActionData"><span class="hs-identifier hs-var">unClearActionData</span></a></span><span>
</span><span id="line-251"></span><span>
</span><span id="line-252"></span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#defaultClearActionData"><span class="hs-identifier hs-type">defaultClearActionData</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#ClearActionData"><span class="hs-identifier hs-type">ClearActionData</span></a></span><span>
</span><span id="line-253"></span><span id="defaultClearActionData"><span class="annot"><span class="annottext">defaultClearActionData :: ClearActionData
</span><a href="Hasura.RQL.DDL.Action.html#defaultClearActionData"><span class="hs-identifier hs-var hs-var">defaultClearActionData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; ClearActionData
</span><a href="Hasura.RQL.DDL.Action.html#ClearActionData"><span class="hs-identifier hs-var">ClearActionData</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-254"></span><span>
</span><span id="line-255"></span><span class="hs-keyword">data</span><span> </span><span id="DropAction"><span class="annot"><a href="Hasura.RQL.DDL.Action.html#DropAction"><span class="hs-identifier hs-var">DropAction</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="DropAction"><span class="annot"><a href="Hasura.RQL.DDL.Action.html#DropAction"><span class="hs-identifier hs-var">DropAction</span></a></span></span><span>
</span><span id="line-256"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="_daName"><span class="annot"><span class="annottext">DropAction -&gt; ActionName
</span><a href="Hasura.RQL.DDL.Action.html#_daName"><span class="hs-identifier hs-var hs-var">_daName</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Action.html#ActionName"><span class="hs-identifier hs-type">ActionName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-257"></span><span>    </span><span id="_daClearData"><span class="annot"><span class="annottext">DropAction -&gt; Maybe ClearActionData
</span><a href="Hasura.RQL.DDL.Action.html#_daClearData"><span class="hs-identifier hs-var hs-var">_daClearData</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#ClearActionData"><span class="hs-identifier hs-type">ClearActionData</span></a></span><span>
</span><span id="line-258"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-259"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621687920058"><span id="local-6989586621687920066"><span id="local-6989586621687920070"><span class="annot"><span class="annottext">Int -&gt; DropAction -&gt; ShowS
[DropAction] -&gt; ShowS
DropAction -&gt; String
(Int -&gt; DropAction -&gt; ShowS)
-&gt; (DropAction -&gt; String)
-&gt; ([DropAction] -&gt; ShowS)
-&gt; Show DropAction
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; DropAction -&gt; ShowS
showsPrec :: Int -&gt; DropAction -&gt; ShowS
$cshow :: DropAction -&gt; String
show :: DropAction -&gt; String
$cshowList :: [DropAction] -&gt; ShowS
showList :: [DropAction] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621687920073"><span id="local-6989586621687920075"><span class="annot"><span class="annottext">(forall x. DropAction -&gt; Rep DropAction x)
-&gt; (forall x. Rep DropAction x -&gt; DropAction) -&gt; Generic DropAction
forall x. Rep DropAction x -&gt; DropAction
forall x. DropAction -&gt; Rep DropAction x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. DropAction -&gt; Rep DropAction x
from :: forall x. DropAction -&gt; Rep DropAction x
$cto :: forall x. Rep DropAction x -&gt; DropAction
to :: forall x. Rep DropAction x -&gt; DropAction
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621687920078"><span id="local-6989586621687920084"><span class="annot"><span class="annottext">DropAction -&gt; DropAction -&gt; Bool
(DropAction -&gt; DropAction -&gt; Bool)
-&gt; (DropAction -&gt; DropAction -&gt; Bool) -&gt; Eq DropAction
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: DropAction -&gt; DropAction -&gt; Bool
== :: DropAction -&gt; DropAction -&gt; Bool
$c/= :: DropAction -&gt; DropAction -&gt; Bool
/= :: DropAction -&gt; DropAction -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-260"></span><span>
</span><span id="line-261"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621687920089"><span id="local-6989586621687920093"><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#FromJSON"><span class="hs-identifier hs-type">J.FromJSON</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#DropAction"><span class="hs-identifier hs-type">DropAction</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-262"></span><span>  </span><span id="local-6989586621687920145"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser DropAction
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#parseJSON"><span class="hs-identifier hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Options -&gt; Value -&gt; Parser DropAction
forall a.
(Generic a, GFromJSON Zero (Rep a)) =&gt;
Options -&gt; Value -&gt; Parser a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#genericParseJSON"><span class="hs-identifier hs-var">J.genericParseJSON</span></a></span><span> </span><span class="annot"><span class="annottext">Options
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html/Hasura.Prelude.html#hasuraJSON"><span class="hs-identifier hs-var">hasuraJSON</span></a></span><span>
</span><span id="line-263"></span><span>
</span><span id="line-264"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621687920149"><span id="local-6989586621687920153"><span id="local-6989586621687920156"><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.ToJSON.html/Data.Aeson.Types.ToJSON.html#ToJSON"><span class="hs-identifier hs-type">J.ToJSON</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#DropAction"><span class="hs-identifier hs-type">DropAction</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-265"></span><span>  </span><span id="local-6989586621687920223"><span class="annot"><span class="annottext">toJSON :: DropAction -&gt; Value
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.ToJSON.html/Data.Aeson.Types.ToJSON.html#toJSON"><span class="hs-identifier hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Options -&gt; DropAction -&gt; Value
forall a.
(Generic a, GToJSON' Value Zero (Rep a)) =&gt;
Options -&gt; a -&gt; Value
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.ToJSON.html/Data.Aeson.Types.ToJSON.html#genericToJSON"><span class="hs-identifier hs-var">J.genericToJSON</span></a></span><span> </span><span class="annot"><span class="annottext">Options
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html/Hasura.Prelude.html#hasuraJSON"><span class="hs-identifier hs-var">hasuraJSON</span></a></span><span>
</span><span id="line-266"></span><span>  </span><span id="local-6989586621687920288"><span class="annot"><span class="annottext">toEncoding :: DropAction -&gt; Encoding
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.ToJSON.html/Data.Aeson.Types.ToJSON.html#toEncoding"><span class="hs-identifier hs-var hs-var hs-var">toEncoding</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Options -&gt; DropAction -&gt; Encoding
forall a.
(Generic a, GToJSON' Encoding Zero (Rep a)) =&gt;
Options -&gt; a -&gt; Encoding
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.ToJSON.html/Data.Aeson.Types.ToJSON.html#genericToEncoding"><span class="hs-identifier hs-var">J.genericToEncoding</span></a></span><span> </span><span class="annot"><span class="annottext">Options
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html/Hasura.Prelude.html#hasuraJSON"><span class="hs-identifier hs-var">hasuraJSON</span></a></span><span>
</span><span id="line-267"></span><span>
</span><span id="line-268"></span><span id="local-6989586621687919189"><span class="annot"><a href="Hasura.RQL.DDL.Action.html#runDropAction"><span class="hs-identifier hs-type">runDropAction</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-269"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadError</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919189"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-270"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.Build.html#CacheRWM"><span class="hs-identifier hs-type">CacheRWM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919189"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-271"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataM"><span class="hs-identifier hs-type">MetadataM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919189"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-272"></span><span>    </span><span class="annot"><a href="Hasura.Metadata.Class.html#MonadMetadataStorage"><span class="hs-identifier hs-type">MonadMetadataStorage</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919189"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-273"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-274"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#DropAction"><span class="hs-identifier hs-type">DropAction</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-275"></span><span>  </span><span class="annot"><a href="#local-6989586621687919189"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-json-encoding-1.0.0/opt/doc/html/hasura-json-encoding/src/Hasura.EncJSON.html/Hasura.EncJSON.html#EncJSON"><span class="hs-identifier hs-type">EncJSON</span></a></span></span><span>
</span><span id="line-276"></span><span id="runDropAction"><span class="annot"><span class="annottext">runDropAction :: forall (m :: * -&gt; *).
(MonadError QErr m, CacheRWM m, MetadataM m,
 MonadMetadataStorage m) =&gt;
DropAction -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Action.html#runDropAction"><span class="hs-identifier hs-var hs-var">runDropAction</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#DropAction"><span class="hs-identifier hs-type">DropAction</span></a></span><span> </span><span id="local-6989586621687920311"><span class="annot"><span class="annottext">ActionName
</span><a href="#local-6989586621687920311"><span class="hs-identifier hs-var">actionName</span></a></span></span><span> </span><span id="local-6989586621687920312"><span class="annot"><span class="annottext">Maybe ClearActionData
</span><a href="#local-6989586621687920312"><span class="hs-identifier hs-var">clearDataM</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-277"></span><span>  </span><span class="annot"><span class="annottext">m ActionInfo -&gt; m ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><span class="hs-identifier hs-var">void</span></span><span> </span><span class="annot"><span class="annottext">(m ActionInfo -&gt; m ()) -&gt; m ActionInfo -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ActionName -&gt; m ActionInfo
forall (m :: * -&gt; *).
(QErrM m, CacheRM m) =&gt;
ActionName -&gt; m ActionInfo
</span><a href="Hasura.RQL.DDL.Action.html#getActionInfo"><span class="hs-identifier hs-var">getActionInfo</span></a></span><span> </span><span class="annot"><span class="annottext">ActionName
</span><a href="#local-6989586621687920311"><span class="hs-identifier hs-var">actionName</span></a></span><span>
</span><span id="line-278"></span><span>  </span><span class="annot"><span class="annottext">m () -&gt; m ()
forall (m :: * -&gt; *) a. (QErrM m, CacheRM m) =&gt; m a -&gt; m a
</span><a href="Hasura.RQL.Types.SchemaCache.Build.html#withNewInconsistentObjsCheck"><span class="hs-identifier hs-var">withNewInconsistentObjsCheck</span></a></span><span>
</span><span id="line-279"></span><span>    </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">MetadataModifier -&gt; m ()
forall (m :: * -&gt; *).
(MetadataM m, CacheRWM m) =&gt;
MetadataModifier -&gt; m ()
</span><a href="Hasura.RQL.Types.SchemaCache.Build.html#buildSchemaCache"><span class="hs-identifier hs-var">buildSchemaCache</span></a></span><span>
</span><span id="line-280"></span><span>    </span><span class="annot"><span class="annottext">(MetadataModifier -&gt; m ()) -&gt; MetadataModifier -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ActionName -&gt; MetadataModifier
</span><a href="Hasura.RQL.DDL.Action.html#dropActionInMetadata"><span class="hs-identifier hs-var">dropActionInMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">ActionName
</span><a href="#local-6989586621687920311"><span class="hs-identifier hs-var">actionName</span></a></span><span>
</span><span id="line-281"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ClearActionData -&gt; Bool
</span><a href="Hasura.RQL.DDL.Action.html#shouldClearActionData"><span class="hs-identifier hs-var">shouldClearActionData</span></a></span><span> </span><span class="annot"><span class="annottext">ClearActionData
</span><a href="#local-6989586621687920316"><span class="hs-identifier hs-var">clearData</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">m (Either QErr ()) -&gt; m ()
forall e (m :: * -&gt; *) a. MonadError e m =&gt; m (Either e a) -&gt; m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html/Hasura.Prelude.html#liftEitherM"><span class="hs-identifier hs-var">liftEitherM</span></a></span><span> </span><span class="annot"><span class="annottext">(m (Either QErr ()) -&gt; m ()) -&gt; m (Either QErr ()) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ActionName -&gt; m (Either QErr ())
forall (m :: * -&gt; *).
MonadMetadataStorage m =&gt;
ActionName -&gt; m (Either QErr ())
</span><a href="Hasura.Metadata.Class.html#deleteActionData"><span class="hs-identifier hs-var">deleteActionData</span></a></span><span> </span><span class="annot"><span class="annottext">ActionName
</span><a href="#local-6989586621687920311"><span class="hs-identifier hs-var">actionName</span></a></span><span>
</span><span id="line-282"></span><span>  </span><span class="annot"><span class="annottext">EncJSON -&gt; m EncJSON
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">EncJSON
</span><a href="Hasura.RQL.Types.Common.html#successMsg"><span class="hs-identifier hs-var">successMsg</span></a></span><span>
</span><span id="line-283"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-284"></span><span>    </span><span class="hs-comment">-- When clearData is not present we assume that</span><span>
</span><span id="line-285"></span><span>    </span><span class="hs-comment">-- the data needs to be retained</span><span>
</span><span id="line-286"></span><span>    </span><span id="local-6989586621687920316"><span class="annot"><span class="annottext">clearData :: ClearActionData
</span><a href="#local-6989586621687920316"><span class="hs-identifier hs-var hs-var">clearData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClearActionData -&gt; Maybe ClearActionData -&gt; ClearActionData
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">ClearActionData
</span><a href="Hasura.RQL.DDL.Action.html#defaultClearActionData"><span class="hs-identifier hs-var">defaultClearActionData</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ClearActionData
</span><a href="#local-6989586621687920312"><span class="hs-identifier hs-var">clearDataM</span></a></span><span>
</span><span id="line-287"></span><span>
</span><span id="line-288"></span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#dropActionInMetadata"><span class="hs-identifier hs-type">dropActionInMetadata</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Action.html#ActionName"><span class="hs-identifier hs-type">ActionName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataModifier"><span class="hs-identifier hs-type">MetadataModifier</span></a></span><span>
</span><span id="line-289"></span><span id="dropActionInMetadata"><span class="annot"><span class="annottext">dropActionInMetadata :: ActionName -&gt; MetadataModifier
</span><a href="Hasura.RQL.DDL.Action.html#dropActionInMetadata"><span class="hs-identifier hs-var hs-var">dropActionInMetadata</span></a></span></span><span> </span><span id="local-6989586621687920320"><span class="annot"><span class="annottext">ActionName
</span><a href="#local-6989586621687920320"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-290"></span><span>  </span><span class="annot"><span class="annottext">(Metadata -&gt; Metadata) -&gt; MetadataModifier
</span><a href="Hasura.RQL.Types.Metadata.html#MetadataModifier"><span class="hs-identifier hs-var">MetadataModifier</span></a></span><span> </span><span class="annot"><span class="annottext">((Metadata -&gt; Metadata) -&gt; MetadataModifier)
-&gt; (Metadata -&gt; Metadata) -&gt; MetadataModifier
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Actions -&gt; Identity Actions) -&gt; Metadata -&gt; Identity Metadata
Lens' Metadata Actions
</span><a href="Hasura.RQL.Types.Metadata.html#metaActions"><span class="hs-identifier hs-var">metaActions</span></a></span><span> </span><span class="annot"><span class="annottext">((Actions -&gt; Identity Actions) -&gt; Metadata -&gt; Identity Metadata)
-&gt; (Actions -&gt; Actions) -&gt; Metadata -&gt; Metadata
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/lens-5.3.2-7ec14d641784087c1f1350eada3cde7884c62d1ab2707daec993ceeca3096d32/share/doc/html/src/Control.Lens.Setter.html/Control.Lens.Setter.html#%25~"><span class="hs-operator hs-var">%~</span></a></span><span> </span><span class="annot"><span class="annottext">ActionName -&gt; Actions -&gt; Actions
forall k v.
(Eq k, Hashable k) =&gt;
k -&gt; InsOrdHashMap k v -&gt; InsOrdHashMap k v
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/insert-ordered-containers-0.2.5.3-dcb71999c8104475fd299533bb40a6c15ee8a9411f3a03b68aa99a14a4143c19/share/doc/html/src/Data.HashMap.Strict.InsOrd.html/Data.HashMap.Strict.InsOrd.html#delete"><span class="hs-identifier hs-var">InsOrdHashMap.delete</span></a></span><span> </span><span class="annot"><span class="annottext">ActionName
</span><a href="#local-6989586621687920320"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-291"></span><span>
</span><span id="line-292"></span><span class="hs-keyword">newtype</span><span> </span><span id="ActionMetadataField"><span class="annot"><a href="Hasura.RQL.DDL.Action.html#ActionMetadataField"><span class="hs-identifier hs-var">ActionMetadataField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ActionMetadataField"><span class="annot"><a href="Hasura.RQL.DDL.Action.html#ActionMetadataField"><span class="hs-identifier hs-var">ActionMetadataField</span></a></span></span><span> </span><span class="hs-special">{</span><span id="unActionMetadataField"><span class="annot"><span class="annottext">ActionMetadataField -&gt; Text
</span><a href="Hasura.RQL.DDL.Action.html#unActionMetadataField"><span class="hs-identifier hs-var hs-var">unActionMetadataField</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">}</span><span>
</span><span id="line-293"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621687920325"><span id="local-6989586621687920330"><span id="local-6989586621687920334"><span class="annot"><span class="annottext">Int -&gt; ActionMetadataField -&gt; ShowS
[ActionMetadataField] -&gt; ShowS
ActionMetadataField -&gt; String
(Int -&gt; ActionMetadataField -&gt; ShowS)
-&gt; (ActionMetadataField -&gt; String)
-&gt; ([ActionMetadataField] -&gt; ShowS)
-&gt; Show ActionMetadataField
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; ActionMetadataField -&gt; ShowS
showsPrec :: Int -&gt; ActionMetadataField -&gt; ShowS
$cshow :: ActionMetadataField -&gt; String
show :: ActionMetadataField -&gt; String
$cshowList :: [ActionMetadataField] -&gt; ShowS
showList :: [ActionMetadataField] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621687920337"><span id="local-6989586621687920342"><span class="annot"><span class="annottext">ActionMetadataField -&gt; ActionMetadataField -&gt; Bool
(ActionMetadataField -&gt; ActionMetadataField -&gt; Bool)
-&gt; (ActionMetadataField -&gt; ActionMetadataField -&gt; Bool)
-&gt; Eq ActionMetadataField
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: ActionMetadataField -&gt; ActionMetadataField -&gt; Bool
== :: ActionMetadataField -&gt; ActionMetadataField -&gt; Bool
$c/= :: ActionMetadataField -&gt; ActionMetadataField -&gt; Bool
/= :: ActionMetadataField -&gt; ActionMetadataField -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621687920347"><span id="local-6989586621687920351"><span id="local-6989586621687920355"><span class="annot"><span class="annottext">Maybe ActionMetadataField
Value -&gt; Parser [ActionMetadataField]
Value -&gt; Parser ActionMetadataField
(Value -&gt; Parser ActionMetadataField)
-&gt; (Value -&gt; Parser [ActionMetadataField])
-&gt; Maybe ActionMetadataField
-&gt; FromJSON ActionMetadataField
forall a.
(Value -&gt; Parser a)
-&gt; (Value -&gt; Parser [a]) -&gt; Maybe a -&gt; FromJSON a
$cparseJSON :: Value -&gt; Parser ActionMetadataField
parseJSON :: Value -&gt; Parser ActionMetadataField
$cparseJSONList :: Value -&gt; Parser [ActionMetadataField]
parseJSONList :: Value -&gt; Parser [ActionMetadataField]
$comittedField :: Maybe ActionMetadataField
omittedField :: Maybe ActionMetadataField
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#FromJSON"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">J.FromJSON</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621687920360"><span id="local-6989586621687920364"><span id="local-6989586621687920368"><span id="local-6989586621687920372"><span id="local-6989586621687920376"><span class="annot"><span class="annottext">[ActionMetadataField] -&gt; Value
[ActionMetadataField] -&gt; Encoding
ActionMetadataField -&gt; Bool
ActionMetadataField -&gt; Value
ActionMetadataField -&gt; Encoding
(ActionMetadataField -&gt; Value)
-&gt; (ActionMetadataField -&gt; Encoding)
-&gt; ([ActionMetadataField] -&gt; Value)
-&gt; ([ActionMetadataField] -&gt; Encoding)
-&gt; (ActionMetadataField -&gt; Bool)
-&gt; ToJSON ActionMetadataField
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; (a -&gt; Bool)
-&gt; ToJSON a
$ctoJSON :: ActionMetadataField -&gt; Value
toJSON :: ActionMetadataField -&gt; Value
$ctoEncoding :: ActionMetadataField -&gt; Encoding
toEncoding :: ActionMetadataField -&gt; Encoding
$ctoJSONList :: [ActionMetadataField] -&gt; Value
toJSONList :: [ActionMetadataField] -&gt; Value
$ctoEncodingList :: [ActionMetadataField] -&gt; Encoding
toEncodingList :: [ActionMetadataField] -&gt; Encoding
$comitField :: ActionMetadataField -&gt; Bool
omitField :: ActionMetadataField -&gt; Bool
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.ToJSON.html/Data.Aeson.Types.ToJSON.html#ToJSON"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">J.ToJSON</span></a></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-294"></span><span>
</span><span id="line-295"></span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#doesActionPermissionExist"><span class="hs-identifier hs-type">doesActionPermissionExist</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Action.html#ActionName"><span class="hs-identifier hs-type">ActionName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.Authentication.Role.html#RoleName"><span class="hs-identifier hs-type">RoleName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-296"></span><span id="doesActionPermissionExist"><span class="annot"><span class="annottext">doesActionPermissionExist :: Metadata -&gt; ActionName -&gt; RoleName -&gt; Bool
</span><a href="Hasura.RQL.DDL.Action.html#doesActionPermissionExist"><span class="hs-identifier hs-var hs-var">doesActionPermissionExist</span></a></span></span><span> </span><span id="local-6989586621687920381"><span class="annot"><span class="annottext">Metadata
</span><a href="#local-6989586621687920381"><span class="hs-identifier hs-var">metadata</span></a></span></span><span> </span><span id="local-6989586621687920382"><span class="annot"><span class="annottext">ActionName
</span><a href="#local-6989586621687920382"><span class="hs-identifier hs-var">actionName</span></a></span></span><span> </span><span id="local-6989586621687920383"><span class="annot"><span class="annottext">RoleName
</span><a href="#local-6989586621687920383"><span class="hs-identifier hs-var">roleName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-297"></span><span>  </span><span class="annot"><span class="annottext">(ActionPermissionMetadata -&gt; Bool)
-&gt; [ActionPermissionMetadata] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">any</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">RoleName -&gt; RoleName -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">RoleName
</span><a href="#local-6989586621687920383"><span class="hs-identifier hs-var">roleName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(RoleName -&gt; Bool)
-&gt; (ActionPermissionMetadata -&gt; RoleName)
-&gt; ActionPermissionMetadata
-&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ActionPermissionMetadata -&gt; RoleName
</span><a href="Hasura.RQL.Types.Action.html#_apmRole"><span class="hs-identifier hs-var">_apmRole</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([ActionPermissionMetadata] -&gt; Bool)
-&gt; [ActionPermissionMetadata] -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Metadata
</span><a href="#local-6989586621687920381"><span class="hs-identifier hs-var">metadata</span></a></span><span> </span><span class="annot"><span class="annottext">Metadata
-&gt; Getting
     [ActionPermissionMetadata] Metadata [ActionPermissionMetadata]
-&gt; [ActionPermissionMetadata]
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/lens-5.3.2-7ec14d641784087c1f1350eada3cde7884c62d1ab2707daec993ceeca3096d32/share/doc/html/src/Control.Lens.Getter.html/Control.Lens.Getter.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Actions -&gt; Const [ActionPermissionMetadata] Actions)
-&gt; Metadata -&gt; Const [ActionPermissionMetadata] Metadata
Lens' Metadata Actions
</span><a href="Hasura.RQL.Types.Metadata.html#metaActions"><span class="hs-identifier hs-var">metaActions</span></a></span><span> </span><span class="annot"><span class="annottext">((Actions -&gt; Const [ActionPermissionMetadata] Actions)
 -&gt; Metadata -&gt; Const [ActionPermissionMetadata] Metadata)
-&gt; (([ActionPermissionMetadata]
     -&gt; Const [ActionPermissionMetadata] [ActionPermissionMetadata])
    -&gt; Actions -&gt; Const [ActionPermissionMetadata] Actions)
-&gt; Getting
     [ActionPermissionMetadata] Metadata [ActionPermissionMetadata]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Index Actions -&gt; Traversal' Actions (IxValue Actions)
forall m. Ixed m =&gt; Index m -&gt; Traversal' m (IxValue m)
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/lens-5.3.2-7ec14d641784087c1f1350eada3cde7884c62d1ab2707daec993ceeca3096d32/share/doc/html/src/Control.Lens.At.html/Control.Lens.At.html#ix"><span class="hs-identifier hs-var">ix</span></a></span><span> </span><span class="annot"><span class="annottext">Index Actions
ActionName
</span><a href="#local-6989586621687920382"><span class="hs-identifier hs-var">actionName</span></a></span><span> </span><span class="annot"><span class="annottext">((ActionMetadata
  -&gt; Const [ActionPermissionMetadata] ActionMetadata)
 -&gt; Actions -&gt; Const [ActionPermissionMetadata] Actions)
-&gt; (([ActionPermissionMetadata]
     -&gt; Const [ActionPermissionMetadata] [ActionPermissionMetadata])
    -&gt; ActionMetadata
    -&gt; Const [ActionPermissionMetadata] ActionMetadata)
-&gt; ([ActionPermissionMetadata]
    -&gt; Const [ActionPermissionMetadata] [ActionPermissionMetadata])
-&gt; Actions
-&gt; Const [ActionPermissionMetadata] Actions
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">([ActionPermissionMetadata]
 -&gt; Const [ActionPermissionMetadata] [ActionPermissionMetadata])
-&gt; ActionMetadata
-&gt; Const [ActionPermissionMetadata] ActionMetadata
Lens' ActionMetadata [ActionPermissionMetadata]
</span><a href="Hasura.RQL.Types.Action.html#amPermissions"><span class="hs-identifier hs-var">amPermissions</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-298"></span><span>
</span><span id="line-299"></span><span class="hs-keyword">data</span><span> </span><span id="CreateActionPermission"><span class="annot"><a href="Hasura.RQL.DDL.Action.html#CreateActionPermission"><span class="hs-identifier hs-var">CreateActionPermission</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="CreateActionPermission"><span class="annot"><a href="Hasura.RQL.DDL.Action.html#CreateActionPermission"><span class="hs-identifier hs-var">CreateActionPermission</span></a></span></span><span>
</span><span id="line-300"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="_capAction"><span class="annot"><span class="annottext">CreateActionPermission -&gt; ActionName
</span><a href="Hasura.RQL.DDL.Action.html#_capAction"><span class="hs-identifier hs-var hs-var">_capAction</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Action.html#ActionName"><span class="hs-identifier hs-type">ActionName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-301"></span><span>    </span><span id="_capRole"><span class="annot"><span class="annottext">CreateActionPermission -&gt; RoleName
</span><a href="Hasura.RQL.DDL.Action.html#_capRole"><span class="hs-identifier hs-var hs-var">_capRole</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Authentication.Role.html#RoleName"><span class="hs-identifier hs-type">RoleName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-302"></span><span>    </span><span id="_capDefinition"><span class="annot"><span class="annottext">CreateActionPermission -&gt; Maybe Value
</span><a href="Hasura.RQL.DDL.Action.html#_capDefinition"><span class="hs-identifier hs-var hs-var">_capDefinition</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.Internal.html/Data.Aeson.Types.Internal.html#Value"><span class="hs-identifier hs-type">J.Value</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-303"></span><span>    </span><span id="_capComment"><span class="annot"><span class="annottext">CreateActionPermission -&gt; Maybe Text
</span><a href="Hasura.RQL.DDL.Action.html#_capComment"><span class="hs-identifier hs-var hs-var">_capComment</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-304"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-305"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621687920393"><span id="local-6989586621687920395"><span class="annot"><span class="annottext">(forall x. CreateActionPermission -&gt; Rep CreateActionPermission x)
-&gt; (forall x.
    Rep CreateActionPermission x -&gt; CreateActionPermission)
-&gt; Generic CreateActionPermission
forall x. Rep CreateActionPermission x -&gt; CreateActionPermission
forall x. CreateActionPermission -&gt; Rep CreateActionPermission x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. CreateActionPermission -&gt; Rep CreateActionPermission x
from :: forall x. CreateActionPermission -&gt; Rep CreateActionPermission x
$cto :: forall x. Rep CreateActionPermission x -&gt; CreateActionPermission
to :: forall x. Rep CreateActionPermission x -&gt; CreateActionPermission
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621687920399"><span id="local-6989586621687920403"><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#FromJSON"><span class="hs-identifier hs-type">J.FromJSON</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#CreateActionPermission"><span class="hs-identifier hs-type">CreateActionPermission</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-308"></span><span>  </span><span id="local-6989586621687920478"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser CreateActionPermission
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#parseJSON"><span class="hs-identifier hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Options -&gt; Value -&gt; Parser CreateActionPermission
forall a.
(Generic a, GFromJSON Zero (Rep a)) =&gt;
Options -&gt; Value -&gt; Parser a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#genericParseJSON"><span class="hs-identifier hs-var">J.genericParseJSON</span></a></span><span> </span><span class="annot"><span class="annottext">Options
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html/Hasura.Prelude.html#hasuraJSON"><span class="hs-identifier hs-var">hasuraJSON</span></a></span><span>
</span><span id="line-309"></span><span>
</span><span id="line-310"></span><span id="local-6989586621687919208"><span class="annot"><a href="Hasura.RQL.DDL.Action.html#runCreateActionPermission"><span class="hs-identifier hs-type">runCreateActionPermission</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-311"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#QErrM"><span class="hs-identifier hs-type">QErrM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919208"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.Build.html#CacheRWM"><span class="hs-identifier hs-type">CacheRWM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919208"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataM"><span class="hs-identifier hs-type">MetadataM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919208"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-312"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#CreateActionPermission"><span class="hs-identifier hs-type">CreateActionPermission</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-313"></span><span>  </span><span class="annot"><a href="#local-6989586621687919208"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-json-encoding-1.0.0/opt/doc/html/hasura-json-encoding/src/Hasura.EncJSON.html/Hasura.EncJSON.html#EncJSON"><span class="hs-identifier hs-type">EncJSON</span></a></span></span><span>
</span><span id="line-314"></span><span id="runCreateActionPermission"><span class="annot"><span class="annottext">runCreateActionPermission :: forall (m :: * -&gt; *).
(QErrM m, CacheRWM m, MetadataM m) =&gt;
CreateActionPermission -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Action.html#runCreateActionPermission"><span class="hs-identifier hs-var hs-var">runCreateActionPermission</span></a></span></span><span> </span><span id="local-6989586621687920504"><span class="annot"><span class="annottext">CreateActionPermission
</span><a href="#local-6989586621687920504"><span class="hs-identifier hs-var">createActionPermission</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-315"></span><span>  </span><span id="local-6989586621687920505"><span class="annot"><a href="#local-6989586621687920505"><span class="hs-identifier hs-var">metadata</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m Metadata
forall (m :: * -&gt; *). MetadataM m =&gt; m Metadata
</span><a href="Hasura.RQL.Types.Metadata.html#getMetadata"><span class="hs-identifier hs-var">getMetadata</span></a></span><span>
</span><span id="line-316"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#doesActionPermissionExist"><span class="hs-identifier hs-type">doesActionPermissionExist</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687920505"><span class="hs-identifier hs-type">metadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687920507"><span class="hs-identifier hs-type">actionName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687920508"><span class="hs-identifier hs-type">roleName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-317"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#throw400"><span class="hs-identifier hs-type">throw400</span></a></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#AlreadyExists"><span class="hs-identifier hs-type">AlreadyExists</span></a></span><span>
</span><span id="line-318"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;permission for role &quot;</span></span><span>
</span><span id="line-319"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">&lt;&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621687920508"><span class="hs-identifier hs-type">roleName</span></a></span><span>
</span><span id="line-320"></span><span>    </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html/Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-type">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot; is already defined on &quot;</span></span><span>
</span><span id="line-321"></span><span>    </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html/Data.Text.Extended.html#%3C%3E%3E"><span class="hs-operator hs-type">&lt;&gt;&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687920507"><span class="hs-identifier hs-type">actionName</span></a></span><span>
</span><span id="line-322"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.Build.html#buildSchemaCacheFor"><span class="hs-identifier hs-type">buildSchemaCacheFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Object.html#MOActionPermission"><span class="hs-identifier hs-type">MOActionPermission</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687920507"><span class="hs-identifier hs-type">actionName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687920508"><span class="hs-identifier hs-type">roleName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-323"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataModifier"><span class="hs-identifier hs-type">MetadataModifier</span></a></span><span>
</span><span id="line-324"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#metaActions"><span class="hs-identifier hs-type">metaActions</span></a></span><span>
</span><span id="line-325"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/lens-5.3.2-7ec14d641784087c1f1350eada3cde7884c62d1ab2707daec993ceeca3096d32/share/doc/html/src/Control.Lens.At.html/Control.Lens.At.html#ix"><span class="hs-identifier hs-type">ix</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687920507"><span class="hs-identifier hs-type">actionName</span></a></span><span>
</span><span id="line-326"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Action.html#amPermissions"><span class="hs-identifier hs-type">amPermissions</span></a></span><span>
</span><span id="line-327"></span><span>    </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/lens-5.3.2-7ec14d641784087c1f1350eada3cde7884c62d1ab2707daec993ceeca3096d32/share/doc/html/src/Control.Lens.Setter.html/Control.Lens.Setter.html#%25~"><span class="hs-operator hs-type">%~</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Action.html#ActionPermissionMetadata"><span class="hs-identifier hs-type">ActionPermissionMetadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687920508"><span class="hs-identifier hs-type">roleName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687920512"><span class="hs-identifier hs-type">comment</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-328"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Common.html#successMsg"><span class="hs-identifier hs-type">successMsg</span></a></span><span>
</span><span id="line-329"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-330"></span><span>    </span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#CreateActionPermission"><span class="hs-identifier hs-type">CreateActionPermission</span></a></span><span> </span><span id="local-6989586621687920507"><span class="annot"><span class="annottext">ActionName
</span><a href="#local-6989586621687920507"><span class="hs-identifier hs-var">actionName</span></a></span></span><span> </span><span id="local-6989586621687920508"><span class="annot"><span class="annottext">RoleName
</span><a href="#local-6989586621687920508"><span class="hs-identifier hs-var">roleName</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe Value
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621687920512"><span class="annot"><span class="annottext">Maybe Text
</span><a href="#local-6989586621687920512"><span class="hs-identifier hs-var">comment</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CreateActionPermission
</span><a href="#local-6989586621687920504"><span class="hs-identifier hs-var">createActionPermission</span></a></span><span>
</span><span id="line-331"></span><span>
</span><span id="line-332"></span><span class="hs-keyword">data</span><span> </span><span id="DropActionPermission"><span class="annot"><a href="Hasura.RQL.DDL.Action.html#DropActionPermission"><span class="hs-identifier hs-var">DropActionPermission</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="DropActionPermission"><span class="annot"><a href="Hasura.RQL.DDL.Action.html#DropActionPermission"><span class="hs-identifier hs-var">DropActionPermission</span></a></span></span><span>
</span><span id="line-333"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="_dapAction"><span class="annot"><span class="annottext">DropActionPermission -&gt; ActionName
</span><a href="Hasura.RQL.DDL.Action.html#_dapAction"><span class="hs-identifier hs-var hs-var">_dapAction</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Action.html#ActionName"><span class="hs-identifier hs-type">ActionName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-334"></span><span>    </span><span id="_dapRole"><span class="annot"><span class="annottext">DropActionPermission -&gt; RoleName
</span><a href="Hasura.RQL.DDL.Action.html#_dapRole"><span class="hs-identifier hs-var hs-var">_dapRole</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Authentication.Role.html#RoleName"><span class="hs-identifier hs-type">RoleName</span></a></span><span>
</span><span id="line-335"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-336"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621687920517"><span id="local-6989586621687920523"><span id="local-6989586621687920527"><span class="annot"><span class="annottext">Int -&gt; DropActionPermission -&gt; ShowS
[DropActionPermission] -&gt; ShowS
DropActionPermission -&gt; String
(Int -&gt; DropActionPermission -&gt; ShowS)
-&gt; (DropActionPermission -&gt; String)
-&gt; ([DropActionPermission] -&gt; ShowS)
-&gt; Show DropActionPermission
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; DropActionPermission -&gt; ShowS
showsPrec :: Int -&gt; DropActionPermission -&gt; ShowS
$cshow :: DropActionPermission -&gt; String
show :: DropActionPermission -&gt; String
$cshowList :: [DropActionPermission] -&gt; ShowS
showList :: [DropActionPermission] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621687920530"><span id="local-6989586621687920532"><span class="annot"><span class="annottext">(forall x. DropActionPermission -&gt; Rep DropActionPermission x)
-&gt; (forall x. Rep DropActionPermission x -&gt; DropActionPermission)
-&gt; Generic DropActionPermission
forall x. Rep DropActionPermission x -&gt; DropActionPermission
forall x. DropActionPermission -&gt; Rep DropActionPermission x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. DropActionPermission -&gt; Rep DropActionPermission x
from :: forall x. DropActionPermission -&gt; Rep DropActionPermission x
$cto :: forall x. Rep DropActionPermission x -&gt; DropActionPermission
to :: forall x. Rep DropActionPermission x -&gt; DropActionPermission
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621687920535"><span id="local-6989586621687920539"><span class="annot"><span class="annottext">DropActionPermission -&gt; DropActionPermission -&gt; Bool
(DropActionPermission -&gt; DropActionPermission -&gt; Bool)
-&gt; (DropActionPermission -&gt; DropActionPermission -&gt; Bool)
-&gt; Eq DropActionPermission
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: DropActionPermission -&gt; DropActionPermission -&gt; Bool
== :: DropActionPermission -&gt; DropActionPermission -&gt; Bool
$c/= :: DropActionPermission -&gt; DropActionPermission -&gt; Bool
/= :: DropActionPermission -&gt; DropActionPermission -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-337"></span><span>
</span><span id="line-338"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621687920544"><span id="local-6989586621687920548"><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#FromJSON"><span class="hs-identifier hs-type">J.FromJSON</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#DropActionPermission"><span class="hs-identifier hs-type">DropActionPermission</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-339"></span><span>  </span><span id="local-6989586621687920599"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser DropActionPermission
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#parseJSON"><span class="hs-identifier hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Options -&gt; Value -&gt; Parser DropActionPermission
forall a.
(Generic a, GFromJSON Zero (Rep a)) =&gt;
Options -&gt; Value -&gt; Parser a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#genericParseJSON"><span class="hs-identifier hs-var">J.genericParseJSON</span></a></span><span> </span><span class="annot"><span class="annottext">Options
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html/Hasura.Prelude.html#hasuraJSON"><span class="hs-identifier hs-var">hasuraJSON</span></a></span><span>
</span><span id="line-340"></span><span>
</span><span id="line-341"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621687920603"><span id="local-6989586621687920607"><span id="local-6989586621687920610"><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.ToJSON.html/Data.Aeson.Types.ToJSON.html#ToJSON"><span class="hs-identifier hs-type">J.ToJSON</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#DropActionPermission"><span class="hs-identifier hs-type">DropActionPermission</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-342"></span><span>  </span><span id="local-6989586621687920677"><span class="annot"><span class="annottext">toJSON :: DropActionPermission -&gt; Value
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.ToJSON.html/Data.Aeson.Types.ToJSON.html#toJSON"><span class="hs-identifier hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Options -&gt; DropActionPermission -&gt; Value
forall a.
(Generic a, GToJSON' Value Zero (Rep a)) =&gt;
Options -&gt; a -&gt; Value
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.ToJSON.html/Data.Aeson.Types.ToJSON.html#genericToJSON"><span class="hs-identifier hs-var">J.genericToJSON</span></a></span><span> </span><span class="annot"><span class="annottext">Options
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html/Hasura.Prelude.html#hasuraJSON"><span class="hs-identifier hs-var">hasuraJSON</span></a></span><span>
</span><span id="line-343"></span><span>  </span><span id="local-6989586621687920741"><span class="annot"><span class="annottext">toEncoding :: DropActionPermission -&gt; Encoding
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.ToJSON.html/Data.Aeson.Types.ToJSON.html#toEncoding"><span class="hs-identifier hs-var hs-var hs-var">toEncoding</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Options -&gt; DropActionPermission -&gt; Encoding
forall a.
(Generic a, GToJSON' Encoding Zero (Rep a)) =&gt;
Options -&gt; a -&gt; Encoding
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.ToJSON.html/Data.Aeson.Types.ToJSON.html#genericToEncoding"><span class="hs-identifier hs-var">J.genericToEncoding</span></a></span><span> </span><span class="annot"><span class="annottext">Options
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html/Hasura.Prelude.html#hasuraJSON"><span class="hs-identifier hs-var">hasuraJSON</span></a></span><span>
</span><span id="line-344"></span><span>
</span><span id="line-345"></span><span id="local-6989586621687919213"><span class="annot"><a href="Hasura.RQL.DDL.Action.html#runDropActionPermission"><span class="hs-identifier hs-type">runDropActionPermission</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-346"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#QErrM"><span class="hs-identifier hs-type">QErrM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919213"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.Build.html#CacheRWM"><span class="hs-identifier hs-type">CacheRWM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919213"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataM"><span class="hs-identifier hs-type">MetadataM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687919213"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-347"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#DropActionPermission"><span class="hs-identifier hs-type">DropActionPermission</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-348"></span><span>  </span><span class="annot"><a href="#local-6989586621687919213"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-json-encoding-1.0.0/opt/doc/html/hasura-json-encoding/src/Hasura.EncJSON.html/Hasura.EncJSON.html#EncJSON"><span class="hs-identifier hs-type">EncJSON</span></a></span></span><span>
</span><span id="line-349"></span><span id="runDropActionPermission"><span class="annot"><span class="annottext">runDropActionPermission :: forall (m :: * -&gt; *).
(QErrM m, CacheRWM m, MetadataM m) =&gt;
DropActionPermission -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Action.html#runDropActionPermission"><span class="hs-identifier hs-var hs-var">runDropActionPermission</span></a></span></span><span> </span><span id="local-6989586621687920762"><span class="annot"><span class="annottext">DropActionPermission
</span><a href="#local-6989586621687920762"><span class="hs-identifier hs-var">dropActionPermission</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-350"></span><span>  </span><span id="local-6989586621687920763"><span class="annot"><a href="#local-6989586621687920763"><span class="hs-identifier hs-var">metadata</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m Metadata
forall (m :: * -&gt; *). MetadataM m =&gt; m Metadata
</span><a href="Hasura.RQL.Types.Metadata.html#getMetadata"><span class="hs-identifier hs-var">getMetadata</span></a></span><span>
</span><span id="line-351"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#doesActionPermissionExist"><span class="hs-identifier hs-type">doesActionPermissionExist</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687920763"><span class="hs-identifier hs-type">metadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687920764"><span class="hs-identifier hs-type">actionName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687920765"><span class="hs-identifier hs-type">roleName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-352"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#throw400"><span class="hs-identifier hs-type">throw400</span></a></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#NotExists"><span class="hs-identifier hs-type">NotExists</span></a></span><span>
</span><span id="line-353"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;permission for role: &quot;</span></span><span>
</span><span id="line-354"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">&lt;&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621687920765"><span class="hs-identifier hs-type">roleName</span></a></span><span>
</span><span id="line-355"></span><span>    </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html/Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-type">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot; is not defined on &quot;</span></span><span>
</span><span id="line-356"></span><span>    </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html/Data.Text.Extended.html#%3C%3E%3E"><span class="hs-operator hs-type">&lt;&gt;&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687920764"><span class="hs-identifier hs-type">actionName</span></a></span><span>
</span><span id="line-357"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.Build.html#buildSchemaCacheFor"><span class="hs-identifier hs-type">buildSchemaCacheFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Object.html#MOActionPermission"><span class="hs-identifier hs-type">MOActionPermission</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687920764"><span class="hs-identifier hs-type">actionName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687920765"><span class="hs-identifier hs-type">roleName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-358"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#dropActionPermissionInMetadata"><span class="hs-identifier hs-type">dropActionPermissionInMetadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687920764"><span class="hs-identifier hs-type">actionName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687920765"><span class="hs-identifier hs-type">roleName</span></a></span><span>
</span><span id="line-359"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Common.html#successMsg"><span class="hs-identifier hs-type">successMsg</span></a></span><span>
</span><span id="line-360"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-361"></span><span>    </span><span id="local-6989586621687920764"><span class="annot"><span class="annottext">actionName :: ActionName
</span><a href="#local-6989586621687920764"><span class="hs-identifier hs-var hs-var">actionName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DropActionPermission -&gt; ActionName
</span><a href="Hasura.RQL.DDL.Action.html#_dapAction"><span class="hs-identifier hs-var">_dapAction</span></a></span><span> </span><span class="annot"><span class="annottext">DropActionPermission
</span><a href="#local-6989586621687920762"><span class="hs-identifier hs-var">dropActionPermission</span></a></span><span>
</span><span id="line-362"></span><span>    </span><span id="local-6989586621687920765"><span class="annot"><span class="annottext">roleName :: RoleName
</span><a href="#local-6989586621687920765"><span class="hs-identifier hs-var hs-var">roleName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DropActionPermission -&gt; RoleName
</span><a href="Hasura.RQL.DDL.Action.html#_dapRole"><span class="hs-identifier hs-var">_dapRole</span></a></span><span> </span><span class="annot"><span class="annottext">DropActionPermission
</span><a href="#local-6989586621687920762"><span class="hs-identifier hs-var">dropActionPermission</span></a></span><span>
</span><span id="line-363"></span><span>
</span><span id="line-364"></span><span class="annot"><a href="Hasura.RQL.DDL.Action.html#dropActionPermissionInMetadata"><span class="hs-identifier hs-type">dropActionPermissionInMetadata</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Action.html#ActionName"><span class="hs-identifier hs-type">ActionName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.Authentication.Role.html#RoleName"><span class="hs-identifier hs-type">RoleName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataModifier"><span class="hs-identifier hs-type">MetadataModifier</span></a></span><span>
</span><span id="line-365"></span><span id="dropActionPermissionInMetadata"><span class="annot"><span class="annottext">dropActionPermissionInMetadata :: ActionName -&gt; RoleName -&gt; MetadataModifier
</span><a href="Hasura.RQL.DDL.Action.html#dropActionPermissionInMetadata"><span class="hs-identifier hs-var hs-var">dropActionPermissionInMetadata</span></a></span></span><span> </span><span id="local-6989586621687920766"><span class="annot"><span class="annottext">ActionName
</span><a href="#local-6989586621687920766"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621687920767"><span class="annot"><span class="annottext">RoleName
</span><a href="#local-6989586621687920767"><span class="hs-keyword hs-var">role</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-366"></span><span>  </span><span class="annot"><span class="annottext">(Metadata -&gt; Metadata) -&gt; MetadataModifier
</span><a href="Hasura.RQL.Types.Metadata.html#MetadataModifier"><span class="hs-identifier hs-var">MetadataModifier</span></a></span><span>
</span><span id="line-367"></span><span>    </span><span class="annot"><span class="annottext">((Metadata -&gt; Metadata) -&gt; MetadataModifier)
-&gt; (Metadata -&gt; Metadata) -&gt; MetadataModifier
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Actions -&gt; Identity Actions) -&gt; Metadata -&gt; Identity Metadata
Lens' Metadata Actions
</span><a href="Hasura.RQL.Types.Metadata.html#metaActions"><span class="hs-identifier hs-var">metaActions</span></a></span><span>
</span><span id="line-368"></span><span>    </span><span class="annot"><span class="annottext">((Actions -&gt; Identity Actions) -&gt; Metadata -&gt; Identity Metadata)
-&gt; (([ActionPermissionMetadata]
     -&gt; Identity [ActionPermissionMetadata])
    -&gt; Actions -&gt; Identity Actions)
-&gt; ([ActionPermissionMetadata]
    -&gt; Identity [ActionPermissionMetadata])
-&gt; Metadata
-&gt; Identity Metadata
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Index Actions -&gt; Traversal' Actions (IxValue Actions)
forall m. Ixed m =&gt; Index m -&gt; Traversal' m (IxValue m)
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/lens-5.3.2-7ec14d641784087c1f1350eada3cde7884c62d1ab2707daec993ceeca3096d32/share/doc/html/src/Control.Lens.At.html/Control.Lens.At.html#ix"><span class="hs-identifier hs-var">ix</span></a></span><span> </span><span class="annot"><span class="annottext">Index Actions
ActionName
</span><a href="#local-6989586621687920766"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-369"></span><span>    </span><span class="annot"><span class="annottext">((ActionMetadata -&gt; Identity ActionMetadata)
 -&gt; Actions -&gt; Identity Actions)
-&gt; (([ActionPermissionMetadata]
     -&gt; Identity [ActionPermissionMetadata])
    -&gt; ActionMetadata -&gt; Identity ActionMetadata)
-&gt; ([ActionPermissionMetadata]
    -&gt; Identity [ActionPermissionMetadata])
-&gt; Actions
-&gt; Identity Actions
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">([ActionPermissionMetadata] -&gt; Identity [ActionPermissionMetadata])
-&gt; ActionMetadata -&gt; Identity ActionMetadata
Lens' ActionMetadata [ActionPermissionMetadata]
</span><a href="Hasura.RQL.Types.Action.html#amPermissions"><span class="hs-identifier hs-var">amPermissions</span></a></span><span>
</span><span id="line-370"></span><span>    </span><span class="annot"><span class="annottext">(([ActionPermissionMetadata]
  -&gt; Identity [ActionPermissionMetadata])
 -&gt; Metadata -&gt; Identity Metadata)
-&gt; ([ActionPermissionMetadata] -&gt; [ActionPermissionMetadata])
-&gt; Metadata
-&gt; Metadata
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/lens-5.3.2-7ec14d641784087c1f1350eada3cde7884c62d1ab2707daec993ceeca3096d32/share/doc/html/src/Control.Lens.Setter.html/Control.Lens.Setter.html#%25~"><span class="hs-operator hs-var">%~</span></a></span><span> </span><span class="annot"><span class="annottext">(ActionPermissionMetadata -&gt; Bool)
-&gt; [ActionPermissionMetadata] -&gt; [ActionPermissionMetadata]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RoleName -&gt; RoleName -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(/=)</span></span><span> </span><span class="annot"><span class="annottext">RoleName
</span><a href="#local-6989586621687920767"><span class="hs-keyword hs-var">role</span></a></span><span> </span><span class="annot"><span class="annottext">(RoleName -&gt; Bool)
-&gt; (ActionPermissionMetadata -&gt; RoleName)
-&gt; ActionPermissionMetadata
-&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ActionPermissionMetadata -&gt; RoleName
</span><a href="Hasura.RQL.Types.Action.html#_apmRole"><span class="hs-identifier hs-var">_apmRole</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-371"></span></pre></body></html>