<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Hasura.Server.Auth</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">graphql-engine-1.0.0: GraphQL API over Postgres</span><ul class="links" id="page-menu"><li id="quick-jump-button"><a href="#">Quick Jump</a></li><li><a href="src/Hasura.Server.Auth.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Hasura.Server.Auth</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">WebHook related</a></li><li><a href="#g:2">JWT related</a></li><li><a href="#g:3">Exposed for testing</a></li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:getUserInfoWithExpTime">getUserInfoWithExpTime</a> :: (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/list-t-1.0.5.7-a9c088a22c96b528949c3d615f362558ac693f07383e5e281f8eb8cdccb32dfb/share/doc/html/ListT-Prelude.html#t:MonadBaseControl" title="ListT.Prelude">MonadBaseControl</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> m, <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/binary-parser-0.5.7.6-f0ac707e6923af097e412270ae5b3b843c584dc7e141fb4f8d0870c6638e1e86/share/doc/html/BinaryParser-Prelude.html#t:MonadError" title="BinaryParser.Prelude">MonadError</a> <a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> m) =&gt; <a href="Hasura-Logging.html#t:Logger" title="Hasura.Logging">Logger</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a> -&gt; <a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/Network-HTTP-Client-Transformable.html#t:Manager" title="Network.HTTP.Client.Transformable">Manager</a> -&gt; [<a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/http-conduit-2.3.8.3-b4d3a52bd93a2b8def81b39b0736261e80aa50491d35d94136920c33d6e0ae9b/share/doc/html/Network-HTTP-Simple.html#t:Header" title="Network.HTTP.Simple">Header</a>] -&gt; <a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:ReqsText" title="Hasura.GraphQL.Transport.HTTP.Protocol">ReqsText</a> -&gt; m (<a href="Hasura-Authentication-User.html#t:UserInfo" title="Hasura.Authentication.User">UserInfo</a>, <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Internal-Prelude.html#t:UTCTime" title="Data.Aeson.Internal.Prelude">UTCTime</a>, [<a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/http-conduit-2.3.8.3-b4d3a52bd93a2b8def81b39b0736261e80aa50491d35d94136920c33d6e0ae9b/share/doc/html/Network-HTTP-Simple.html#t:Header" title="Network.HTTP.Simple">Header</a>])</li><li class="src short"><span class="keyword">data</span> <a href="#t:AuthMode">AuthMode</a><ul class="subs"><li>= <a href="#v:AMNoAuth">AMNoAuth</a></li><li>| <a href="#v:AMAdminSecret">AMAdminSecret</a> !(<a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/Hasura-Prelude.html#t:HashSet" title="Hasura.Prelude">HashSet</a> <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a>) !(<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Hasura-Authentication-Role.html#t:RoleName" title="Hasura.Authentication.Role">RoleName</a>)</li><li>| <a href="#v:AMAdminSecretAndHook">AMAdminSecretAndHook</a> !(<a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/Hasura-Prelude.html#t:HashSet" title="Hasura.Prelude">HashSet</a> <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a>) !<a href="Hasura-Server-Auth.html#t:AuthHook" title="Hasura.Server.Auth">AuthHook</a></li><li>| <a href="#v:AMAdminSecretAndJWT">AMAdminSecretAndJWT</a> !(<a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/Hasura-Prelude.html#t:HashSet" title="Hasura.Prelude">HashSet</a> <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a>) ![<a href="Hasura-Server-Auth.html#t:JWTCtx" title="Hasura.Server.Auth">JWTCtx</a>] !(<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Hasura-Authentication-Role.html#t:RoleName" title="Hasura.Authentication.Role">RoleName</a>)</li></ul></li><li class="src short"><a href="#v:compareAuthMode">compareAuthMode</a> :: <a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a> -&gt; <a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:setupAuthMode">setupAuthMode</a> :: (<a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/binary-parser-0.5.7.6-f0ac707e6923af097e412270ae5b3b843c584dc7e141fb4f8d0870c6638e1e86/share/doc/html/BinaryParser-Prelude.html#t:MonadError" title="BinaryParser.Prelude">MonadError</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Internal-Prelude.html#t:Text" title="Data.Aeson.Internal.Prelude">Text</a> m, <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/list-t-1.0.5.7-a9c088a22c96b528949c3d615f362558ac693f07383e5e281f8eb8cdccb32dfb/share/doc/html/ListT-Prelude.html#t:MonadBaseControl" title="ListT.Prelude">MonadBaseControl</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> m) =&gt; <a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/Hasura-Prelude.html#t:HashSet" title="Hasura.Prelude">HashSet</a> <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Hasura-Server-Auth.html#t:AuthHook" title="Hasura.Server.Auth">AuthHook</a> -&gt; [<a href="Hasura-Server-Auth.html#t:JWTConfig" title="Hasura.Server.Auth">JWTConfig</a>] -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Hasura-Authentication-Role.html#t:RoleName" title="Hasura.Authentication.Role">RoleName</a> -&gt; <a href="Hasura-Logging.html#t:Logger" title="Hasura.Logging">Logger</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a> -&gt; <a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/Network-HTTP-Client-Transformable.html#t:Manager" title="Network.HTTP.Client.Transformable">Manager</a> -&gt; m <a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:AdminSecretHash">AdminSecretHash</a></li><li class="src short"><a href="#v:unsafeMkAdminSecretHash">unsafeMkAdminSecretHash</a> :: <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/crypton-0.33-79d6cca98dd875896f69886a3a3272f9eaff20c96b4484c7bbd5a1eaf2e7b481/share/doc/html/Crypto-Hash-Types.html#t:Digest" title="Crypto.Hash.Types">Digest</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/crypton-0.33-79d6cca98dd875896f69886a3a3272f9eaff20c96b4484c7bbd5a1eaf2e7b481/share/doc/html/Crypto-Hash-SHA512.html#t:SHA512" title="Crypto.Hash.SHA512">SHA512</a> -&gt; <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a></li><li class="src short"><a href="#v:hashAdminSecret">hashAdminSecret</a> :: <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Internal-Prelude.html#t:Text" title="Data.Aeson.Internal.Prelude">Text</a> -&gt; <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a></li><li class="src short"><a href="#v:updateJwkCtx">updateJwkCtx</a> :: (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/list-t-1.0.5.7-a9c088a22c96b528949c3d615f362558ac693f07383e5e281f8eb8cdccb32dfb/share/doc/html/ListT-Prelude.html#t:MonadBaseControl" title="ListT.Prelude">MonadBaseControl</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> m) =&gt; <a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a> -&gt; <a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/Network-HTTP-Client-Transformable.html#t:Manager" title="Network.HTTP.Client.Transformable">Manager</a> -&gt; <a href="Hasura-Logging.html#t:Logger" title="Hasura.Logging">Logger</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a> -&gt; m ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:AuthHookType">AuthHookType</a><ul class="subs"><li>= <a href="#v:AHTGet">AHTGet</a></li><li>| <a href="#v:AHTPost">AHTPost</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:AuthHook">AuthHook</a> = <a href="#v:AuthHook">AuthHook</a> {<ul class="subs"><li><a href="#v:ahUrl">ahUrl</a> :: <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Internal-Prelude.html#t:Text" title="Data.Aeson.Internal.Prelude">Text</a></li><li><a href="#v:ahType">ahType</a> :: <a href="Hasura-Server-Auth.html#t:AuthHookType" title="Hasura.Server.Auth">AuthHookType</a></li><li><a href="#v:ahSendRequestBody">ahSendRequestBody</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:RawJWT">RawJWT</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:JWTConfig">JWTConfig</a> = <a href="#v:JWTConfig">JWTConfig</a> {<ul class="subs"><li><a href="#v:jcKeyOrUrl">jcKeyOrUrl</a> :: !(<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/jose-0.11-4569926ca116a4fada7eb025c4bfcfc173c84b5a9c6e75fffe4a036314a069d4/share/doc/html/Crypto-JOSE-JWK.html#t:JWK" title="Crypto.JOSE.JWK">JWK</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/jose-0.11-4569926ca116a4fada7eb025c4bfcfc173c84b5a9c6e75fffe4a036314a069d4/share/doc/html/Crypto-JOSE-Types.html#t:URI" title="Crypto.JOSE.Types">URI</a>)</li><li><a href="#v:jcAudience">jcAudience</a> :: !(<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/jose-0.11-4569926ca116a4fada7eb025c4bfcfc173c84b5a9c6e75fffe4a036314a069d4/share/doc/html/Crypto-JWT.html#t:Audience" title="Crypto.JWT">Audience</a>)</li><li><a href="#v:jcIssuer">jcIssuer</a> :: !(<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/jose-0.11-4569926ca116a4fada7eb025c4bfcfc173c84b5a9c6e75fffe4a036314a069d4/share/doc/html/Crypto-JWT.html#t:StringOrURI" title="Crypto.JWT">StringOrURI</a>)</li><li><a href="#v:jcClaims">jcClaims</a> :: !<a href="Hasura-Server-Auth-JWT.html#t:JWTClaims" title="Hasura.Server.Auth.JWT">JWTClaims</a></li><li><a href="#v:jcAllowedSkew">jcAllowedSkew</a> :: !(<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/time-1.12.2-inplace/Data-Time-Clock.html#t:NominalDiffTime" title="Data.Time.Clock">NominalDiffTime</a>)</li><li><a href="#v:jcHeader">jcHeader</a> :: !(<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Hasura-Server-Auth-JWT.html#t:JWTHeader" title="Hasura.Server.Auth.JWT">JWTHeader</a>)</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:JWTCtx">JWTCtx</a> = <a href="#v:JWTCtx">JWTCtx</a> {<ul class="subs"><li><a href="#v:jcxUrl">jcxUrl</a> :: !(<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/jose-0.11-4569926ca116a4fada7eb025c4bfcfc173c84b5a9c6e75fffe4a036314a069d4/share/doc/html/Crypto-JOSE-Types.html#t:URI" title="Crypto.JOSE.Types">URI</a>)</li><li><a href="#v:jcxKeyConfig">jcxKeyConfig</a> :: !(<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> (<a href="Hasura-Server-Auth.html#t:JWKSet" title="Hasura.Server.Auth">JWKSet</a>, <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Internal-Prelude.html#t:UTCTime" title="Data.Aeson.Internal.Prelude">UTCTime</a>))</li><li><a href="#v:jcxAudience">jcxAudience</a> :: !(<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/jose-0.11-4569926ca116a4fada7eb025c4bfcfc173c84b5a9c6e75fffe4a036314a069d4/share/doc/html/Crypto-JWT.html#t:Audience" title="Crypto.JWT">Audience</a>)</li><li><a href="#v:jcxIssuer">jcxIssuer</a> :: !(<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/jose-0.11-4569926ca116a4fada7eb025c4bfcfc173c84b5a9c6e75fffe4a036314a069d4/share/doc/html/Crypto-JWT.html#t:StringOrURI" title="Crypto.JWT">StringOrURI</a>)</li><li><a href="#v:jcxClaims">jcxClaims</a> :: !<a href="Hasura-Server-Auth-JWT.html#t:JWTClaims" title="Hasura.Server.Auth.JWT">JWTClaims</a></li><li><a href="#v:jcxAllowedSkew">jcxAllowedSkew</a> :: !(<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/time-1.12.2-inplace/Data-Time-Clock.html#t:NominalDiffTime" title="Data.Time.Clock">NominalDiffTime</a>)</li><li><a href="#v:jcxHeader">jcxHeader</a> :: !<a href="Hasura-Server-Auth-JWT.html#t:JWTHeader" title="Hasura.Server.Auth.JWT">JWTHeader</a></li></ul>}</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:JWKSet">JWKSet</a> = <a href="#v:JWKSet">JWKSet</a> [<a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/jose-0.11-4569926ca116a4fada7eb025c4bfcfc173c84b5a9c6e75fffe4a036314a069d4/share/doc/html/Crypto-JOSE-JWK.html#t:JWK" title="Crypto.JOSE.JWK">JWK</a>]</li><li class="src short"><a href="#v:processJwt">processJwt</a> :: (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/binary-parser-0.5.7.6-f0ac707e6923af097e412270ae5b3b843c584dc7e141fb4f8d0870c6638e1e86/share/doc/html/BinaryParser-Prelude.html#t:MonadError" title="BinaryParser.Prelude">MonadError</a> <a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> m) =&gt; [<a href="Hasura-Server-Auth.html#t:JWTCtx" title="Hasura.Server.Auth">JWTCtx</a>] -&gt; <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/http-conduit-2.3.8.3-b4d3a52bd93a2b8def81b39b0736261e80aa50491d35d94136920c33d6e0ae9b/share/doc/html/Network-HTTP-Simple.html#t:RequestHeaders" title="Network.HTTP.Simple">RequestHeaders</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Hasura-Authentication-Role.html#t:RoleName" title="Hasura.Authentication.Role">RoleName</a> -&gt; m (<a href="Hasura-Authentication-User.html#t:UserInfo" title="Hasura.Authentication.User">UserInfo</a>, <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Internal-Prelude.html#t:UTCTime" title="Data.Aeson.Internal.Prelude">UTCTime</a>, [<a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/http-conduit-2.3.8.3-b4d3a52bd93a2b8def81b39b0736261e80aa50491d35d94136920c33d6e0ae9b/share/doc/html/Network-HTTP-Simple.html#t:Header" title="Network.HTTP.Simple">Header</a>], <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Hasura-Server-Auth.html#t:JWTCtx" title="Hasura.Server.Auth">JWTCtx</a>)</li><li class="src short"><span class="keyword">class</span> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="#t:UserAuthentication">UserAuthentication</a> (m :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <span class="keyword">where</span><ul class="subs"><li><a href="#v:resolveUserInfo">resolveUserInfo</a> :: <a href="Hasura-Logging.html#t:Logger" title="Hasura.Logging">Logger</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a> -&gt; <a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/Network-HTTP-Client-Transformable.html#t:Manager" title="Network.HTTP.Client.Transformable">Manager</a> -&gt; [<a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/http-conduit-2.3.8.3-b4d3a52bd93a2b8def81b39b0736261e80aa50491d35d94136920c33d6e0ae9b/share/doc/html/Network-HTTP-Simple.html#t:Header" title="Network.HTTP.Simple">Header</a>] -&gt; <a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:ReqsText" title="Hasura.GraphQL.Transport.HTTP.Protocol">ReqsText</a> -&gt; m (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> (<a href="Hasura-Authentication-User.html#t:UserInfo" title="Hasura.Authentication.User">UserInfo</a>, <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Internal-Prelude.html#t:UTCTime" title="Data.Aeson.Internal.Prelude">UTCTime</a>, [<a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/http-conduit-2.3.8.3-b4d3a52bd93a2b8def81b39b0736261e80aa50491d35d94136920c33d6e0ae9b/share/doc/html/Network-HTTP-Simple.html#t:Header" title="Network.HTTP.Simple">Header</a>], <a href="Hasura-Authentication-User.html#t:ExtraUserInfo" title="Hasura.Authentication.User">ExtraUserInfo</a>))</li></ul></li><li class="src short"><a href="#v:mkJwtCtx">mkJwtCtx</a> :: (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/list-t-1.0.5.7-a9c088a22c96b528949c3d615f362558ac693f07383e5e281f8eb8cdccb32dfb/share/doc/html/ListT-Prelude.html#t:MonadBaseControl" title="ListT.Prelude">MonadBaseControl</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> m, <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/binary-parser-0.5.7.6-f0ac707e6923af097e412270ae5b3b843c584dc7e141fb4f8d0870c6638e1e86/share/doc/html/BinaryParser-Prelude.html#t:MonadError" title="BinaryParser.Prelude">MonadError</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Internal-Prelude.html#t:Text" title="Data.Aeson.Internal.Prelude">Text</a> m) =&gt; <a href="Hasura-Server-Auth.html#t:JWTConfig" title="Hasura.Server.Auth">JWTConfig</a> -&gt; <a href="Hasura-Logging.html#t:Logger" title="Hasura.Logging">Logger</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a> -&gt; <a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/Network-HTTP-Client-Transformable.html#t:Manager" title="Network.HTTP.Client.Transformable">Manager</a> -&gt; m <a href="Hasura-Server-Auth.html#t:JWTCtx" title="Hasura.Server.Auth">JWTCtx</a></li><li class="src short"><a href="#v:updateJwkFromUrl">updateJwkFromUrl</a> :: (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/list-t-1.0.5.7-a9c088a22c96b528949c3d615f362558ac693f07383e5e281f8eb8cdccb32dfb/share/doc/html/ListT-Prelude.html#t:MonadBaseControl" title="ListT.Prelude">MonadBaseControl</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> m) =&gt; <a href="Hasura-Server-Auth.html#t:JWTCtx" title="Hasura.Server.Auth">JWTCtx</a> -&gt; <a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/Network-HTTP-Client-Transformable.html#t:Manager" title="Network.HTTP.Client.Transformable">Manager</a> -&gt; <a href="Hasura-Logging.html#t:Logger" title="Hasura.Logging">Logger</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a> -&gt; m ()</li><li class="src short"><a href="#v:getUserInfoWithExpTime_">getUserInfoWithExpTime_</a> :: <span class="keyword">forall</span> m mgr logger. (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/binary-parser-0.5.7.6-f0ac707e6923af097e412270ae5b3b843c584dc7e141fb4f8d0870c6638e1e86/share/doc/html/BinaryParser-Prelude.html#t:MonadError" title="BinaryParser.Prelude">MonadError</a> <a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> m) =&gt; (logger -&gt; mgr -&gt; <a href="Hasura-Server-Auth.html#t:AuthHook" title="Hasura.Server.Auth">AuthHook</a> -&gt; [<a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/http-conduit-2.3.8.3-b4d3a52bd93a2b8def81b39b0736261e80aa50491d35d94136920c33d6e0ae9b/share/doc/html/Network-HTTP-Simple.html#t:Header" title="Network.HTTP.Simple">Header</a>] -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:ReqsText" title="Hasura.GraphQL.Transport.HTTP.Protocol">ReqsText</a> -&gt; m (<a href="Hasura-Authentication-User.html#t:UserInfo" title="Hasura.Authentication.User">UserInfo</a>, <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Internal-Prelude.html#t:UTCTime" title="Data.Aeson.Internal.Prelude">UTCTime</a>, [<a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/http-conduit-2.3.8.3-b4d3a52bd93a2b8def81b39b0736261e80aa50491d35d94136920c33d6e0ae9b/share/doc/html/Network-HTTP-Simple.html#t:Header" title="Network.HTTP.Simple">Header</a>])) -&gt; ([<a href="Hasura-Server-Auth.html#t:JWTCtx" title="Hasura.Server.Auth">JWTCtx</a>] -&gt; [<a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/http-conduit-2.3.8.3-b4d3a52bd93a2b8def81b39b0736261e80aa50491d35d94136920c33d6e0ae9b/share/doc/html/Network-HTTP-Simple.html#t:Header" title="Network.HTTP.Simple">Header</a>] -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Hasura-Authentication-Role.html#t:RoleName" title="Hasura.Authentication.Role">RoleName</a> -&gt; m (<a href="Hasura-Authentication-User.html#t:UserInfo" title="Hasura.Authentication.User">UserInfo</a>, <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Internal-Prelude.html#t:UTCTime" title="Data.Aeson.Internal.Prelude">UTCTime</a>, [<a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/http-conduit-2.3.8.3-b4d3a52bd93a2b8def81b39b0736261e80aa50491d35d94136920c33d6e0ae9b/share/doc/html/Network-HTTP-Simple.html#t:Header" title="Network.HTTP.Simple">Header</a>], <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Hasura-Server-Auth.html#t:JWTCtx" title="Hasura.Server.Auth">JWTCtx</a>)) -&gt; logger -&gt; mgr -&gt; [<a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/http-conduit-2.3.8.3-b4d3a52bd93a2b8def81b39b0736261e80aa50491d35d94136920c33d6e0ae9b/share/doc/html/Network-HTTP-Simple.html#t:Header" title="Network.HTTP.Simple">Header</a>] -&gt; <a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:ReqsText" title="Hasura.GraphQL.Transport.HTTP.Protocol">ReqsText</a> -&gt; m (<a href="Hasura-Authentication-User.html#t:UserInfo" title="Hasura.Authentication.User">UserInfo</a>, <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Internal-Prelude.html#t:UTCTime" title="Data.Aeson.Internal.Prelude">UTCTime</a>, [<a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/http-conduit-2.3.8.3-b4d3a52bd93a2b8def81b39b0736261e80aa50491d35d94136920c33d6e0ae9b/share/doc/html/Network-HTTP-Simple.html#t:Header" title="Network.HTTP.Simple">Header</a>])</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:getUserInfoWithExpTime" class="def">getUserInfoWithExpTime</a> :: (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/list-t-1.0.5.7-a9c088a22c96b528949c3d615f362558ac693f07383e5e281f8eb8cdccb32dfb/share/doc/html/ListT-Prelude.html#t:MonadBaseControl" title="ListT.Prelude">MonadBaseControl</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> m, <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/binary-parser-0.5.7.6-f0ac707e6923af097e412270ae5b3b843c584dc7e141fb4f8d0870c6638e1e86/share/doc/html/BinaryParser-Prelude.html#t:MonadError" title="BinaryParser.Prelude">MonadError</a> <a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> m) =&gt; <a href="Hasura-Logging.html#t:Logger" title="Hasura.Logging">Logger</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a> -&gt; <a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/Network-HTTP-Client-Transformable.html#t:Manager" title="Network.HTTP.Client.Transformable">Manager</a> -&gt; [<a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/http-conduit-2.3.8.3-b4d3a52bd93a2b8def81b39b0736261e80aa50491d35d94136920c33d6e0ae9b/share/doc/html/Network-HTTP-Simple.html#t:Header" title="Network.HTTP.Simple">Header</a>] -&gt; <a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:ReqsText" title="Hasura.GraphQL.Transport.HTTP.Protocol">ReqsText</a> -&gt; m (<a href="Hasura-Authentication-User.html#t:UserInfo" title="Hasura.Authentication.User">UserInfo</a>, <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Internal-Prelude.html#t:UTCTime" title="Data.Aeson.Internal.Prelude">UTCTime</a>, [<a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/http-conduit-2.3.8.3-b4d3a52bd93a2b8def81b39b0736261e80aa50491d35d94136920c33d6e0ae9b/share/doc/html/Network-HTTP-Simple.html#t:Header" title="Network.HTTP.Simple">Header</a>]) <a href="src/Hasura.Server.Auth.html#getUserInfoWithExpTime" class="link">Source</a> <a href="#v:getUserInfoWithExpTime" class="selflink">#</a></p><div class="doc"><p>Authenticate the request using the headers and the configured <code><a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:AuthMode" class="def">AuthMode</a> <a href="src/Hasura.Server.Auth.html#AuthMode" class="link">Source</a> <a href="#t:AuthMode" class="selflink">#</a></p><div class="doc"><p>The methods we'll use to derive roles for authenticating requests.</p><p><code>Maybe RoleName</code> below is the optionally-defined role for the
 unauthenticated (anonymous) user.</p><p>See: <a href="https://hasura.io/docs/latest/graphql/core/auth/authentication/unauthenticated-access.html">https://hasura.io/docs/latest/graphql/core/auth/authentication/unauthenticated-access.html</a></p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:AMNoAuth" class="def">AMNoAuth</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:AMAdminSecret" class="def">AMAdminSecret</a> !(<a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/Hasura-Prelude.html#t:HashSet" title="Hasura.Prelude">HashSet</a> <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a>) !(<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Hasura-Authentication-Role.html#t:RoleName" title="Hasura.Authentication.Role">RoleName</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:AMAdminSecretAndHook" class="def">AMAdminSecretAndHook</a> !(<a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/Hasura-Prelude.html#t:HashSet" title="Hasura.Prelude">HashSet</a> <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a>) !<a href="Hasura-Server-Auth.html#t:AuthHook" title="Hasura.Server.Auth">AuthHook</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:AMAdminSecretAndJWT" class="def">AMAdminSecretAndJWT</a> !(<a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/Hasura-Prelude.html#t:HashSet" title="Hasura.Prelude">HashSet</a> <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a>) ![<a href="Hasura-Server-Auth.html#t:JWTCtx" title="Hasura.Server.Auth">JWTCtx</a>] !(<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Hasura-Authentication-Role.html#t:RoleName" title="Hasura.Authentication.Role">RoleName</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:AuthMode">Instances</h4><details id="i:AuthMode" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AuthMode:Show:1"></span> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:Show" title="Prelude">Show</a> <a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a></span> <a href="src/Hasura.Server.Auth.html#line-105" class="link">Source</a> <a href="#t:AuthMode" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AuthMode:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hasura-Server-Auth.html">Hasura.Server.Auth</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:ShowS" title="Prelude">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a>] -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:ShowS" title="Prelude">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AuthMode:Eq:2"></span> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a></span> <a href="src/Hasura.Server.Auth.html#line-105" class="link">Source</a> <a href="#t:AuthMode" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AuthMode:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hasura-Server-Auth.html">Hasura.Server.Auth</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a> -&gt; <a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a> -&gt; <a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:compareAuthMode" class="def">compareAuthMode</a> :: <a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a> -&gt; <a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Hasura.Server.Auth.html#compareAuthMode" class="link">Source</a> <a href="#v:compareAuthMode" class="selflink">#</a></p><div class="doc"><p>In case JWT is used as an authentication mode, the JWKs are stored inside JWTCtx
 as an <code>IORef</code>. <code>IORef</code> has pointer equality, so we need to compare the values
 inside the <code>IORef</code> to check if the <code><a href="Hasura-Server-Auth.html#t:JWTCtx" title="Hasura.Server.Auth">JWTCtx</a></code> is same.</p></div></div><div class="top"><p class="src"><a id="v:setupAuthMode" class="def">setupAuthMode</a> :: (<a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/binary-parser-0.5.7.6-f0ac707e6923af097e412270ae5b3b843c584dc7e141fb4f8d0870c6638e1e86/share/doc/html/BinaryParser-Prelude.html#t:MonadError" title="BinaryParser.Prelude">MonadError</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Internal-Prelude.html#t:Text" title="Data.Aeson.Internal.Prelude">Text</a> m, <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/list-t-1.0.5.7-a9c088a22c96b528949c3d615f362558ac693f07383e5e281f8eb8cdccb32dfb/share/doc/html/ListT-Prelude.html#t:MonadBaseControl" title="ListT.Prelude">MonadBaseControl</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> m) =&gt; <a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/Hasura-Prelude.html#t:HashSet" title="Hasura.Prelude">HashSet</a> <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Hasura-Server-Auth.html#t:AuthHook" title="Hasura.Server.Auth">AuthHook</a> -&gt; [<a href="Hasura-Server-Auth.html#t:JWTConfig" title="Hasura.Server.Auth">JWTConfig</a>] -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Hasura-Authentication-Role.html#t:RoleName" title="Hasura.Authentication.Role">RoleName</a> -&gt; <a href="Hasura-Logging.html#t:Logger" title="Hasura.Logging">Logger</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a> -&gt; <a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/Network-HTTP-Client-Transformable.html#t:Manager" title="Network.HTTP.Client.Transformable">Manager</a> -&gt; m <a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a> <a href="src/Hasura.Server.Auth.html#setupAuthMode" class="link">Source</a> <a href="#v:setupAuthMode" class="selflink">#</a></p><div class="doc"><p>Validate the user's requested authentication configuration, launching any
 required maintenance threads for JWT etc.</p><p>This must only be run once, on launch.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:AdminSecretHash" class="def">AdminSecretHash</a> <a href="src/Hasura.Server.Auth.html#AdminSecretHash" class="link">Source</a> <a href="#t:AdminSecretHash" class="selflink">#</a></p><div class="doc"><p>The hashed admin password. <code><a href="Hasura-Server-Auth.html#v:hashAdminSecret" title="Hasura.Server.Auth">hashAdminSecret</a></code> is our public interface for
 constructing the secret.</p><p>To prevent misuse and leaking we keep this opaque and don't provide
 instances that could leak information. Likewise for <code><a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a></code>.</p><p>Although this exists only in memory we store only a hash of the admin secret
 primarily in order to:</p><ul><li>prevent theoretical timing attacks from a naive <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Eq.html#v:-61--61-" title="Data.Eq">==</a></code> check</li><li>prevent misuse or inadvertent leaking of the secret</li></ul></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:AdminSecretHash">Instances</h4><details id="i:AdminSecretHash" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AdminSecretHash:Show:1"></span> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:Show" title="Prelude">Show</a> <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a></span> <a href="src/Hasura.Server.Auth.html#line-88" class="link">Source</a> <a href="#t:AdminSecretHash" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AdminSecretHash:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hasura-Server-Auth.html">Hasura.Server.Auth</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:ShowS" title="Prelude">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a>] -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:ShowS" title="Prelude">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AdminSecretHash:Eq:2"></span> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a></span> <a href="src/Hasura.Server.Auth.html#line-78" class="link">Source</a> <a href="#t:AdminSecretHash" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AdminSecretHash:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hasura-Server-Auth.html">Hasura.Server.Auth</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a> -&gt; <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a> -&gt; <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AdminSecretHash:Ord:3"></span> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a></span> <a href="src/Hasura.Server.Auth.html#line-78" class="link">Source</a> <a href="#t:AdminSecretHash" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AdminSecretHash:Ord:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hasura-Server-Auth.html">Hasura.Server.Auth</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a> -&gt; <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a> -&gt; <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a> -&gt; <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a> -&gt; <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a> -&gt; <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a> -&gt; <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a> -&gt; <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a> -&gt; <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a> -&gt; <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a> <a href="#v:min" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AdminSecretHash:FromEnv:4"></span> <a href="Hasura-Server-Init-Env.html#t:FromEnv" title="Hasura.Server.Init.Env">FromEnv</a> <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a></span> <a href="src/Hasura.Server.Init.Env.html#line-204" class="link">Source</a> <a href="#t:FromEnv" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AdminSecretHash:FromEnv:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hasura-Server-Init-Env.html">Hasura.Server.Init.Env</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fromEnv">fromEnv</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-String.html#t:String" title="Data.String">String</a> <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a> <a href="src/Hasura.Server.Init.Env.html#fromEnv" class="link">Source</a> <a href="#v:fromEnv" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AdminSecretHash:Hashable:5"></span> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/deferred-folds-0.9.18.6-e04c504505d7ff283d3694beec27890cccc4d771eb49c6f59e7a737441741704/share/doc/html/DeferredFolds-Prelude.html#t:Hashable" title="DeferredFolds.Prelude">Hashable</a> <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a></span> <a href="src/Hasura.Server.Auth.html#line-83" class="link">Source</a> <a href="#t:AdminSecretHash" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AdminSecretHash:Hashable:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hasura-Server-Auth.html">Hasura.Server.Auth</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:hashWithSalt">hashWithSalt</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/hashable-1.4.7.0-cfd29695fd0b31e5c790219100a5096e2815ad440d116f2e5536e6c908f79a63/share/doc/html/src/Data.Hashable.Class.html" class="link">Source</a> <a href="#v:hashWithSalt" class="selflink">#</a></p><p class="src"><a href="#v:hash">hash</a> :: <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/hashable-1.4.7.0-cfd29695fd0b31e5c790219100a5096e2815ad440d116f2e5536e6c908f79a63/share/doc/html/src/Data.Hashable.Class.html" class="link">Source</a> <a href="#v:hash" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:unsafeMkAdminSecretHash" class="def">unsafeMkAdminSecretHash</a> :: <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/crypton-0.33-79d6cca98dd875896f69886a3a3272f9eaff20c96b4484c7bbd5a1eaf2e7b481/share/doc/html/Crypto-Hash-Types.html#t:Digest" title="Crypto.Hash.Types">Digest</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/crypton-0.33-79d6cca98dd875896f69886a3a3272f9eaff20c96b4484c7bbd5a1eaf2e7b481/share/doc/html/Crypto-Hash-SHA512.html#t:SHA512" title="Crypto.Hash.SHA512">SHA512</a> -&gt; <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a> <a href="src/Hasura.Server.Auth.html#unsafeMkAdminSecretHash" class="link">Source</a> <a href="#v:unsafeMkAdminSecretHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:hashAdminSecret" class="def">hashAdminSecret</a> :: <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Internal-Prelude.html#t:Text" title="Data.Aeson.Internal.Prelude">Text</a> -&gt; <a href="Hasura-Server-Auth.html#t:AdminSecretHash" title="Hasura.Server.Auth">AdminSecretHash</a> <a href="src/Hasura.Server.Auth.html#hashAdminSecret" class="link">Source</a> <a href="#v:hashAdminSecret" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:updateJwkCtx" class="def">updateJwkCtx</a> :: (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/list-t-1.0.5.7-a9c088a22c96b528949c3d615f362558ac693f07383e5e281f8eb8cdccb32dfb/share/doc/html/ListT-Prelude.html#t:MonadBaseControl" title="ListT.Prelude">MonadBaseControl</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> m) =&gt; <a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a> -&gt; <a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/Network-HTTP-Client-Transformable.html#t:Manager" title="Network.HTTP.Client.Transformable">Manager</a> -&gt; <a href="Hasura-Logging.html#t:Logger" title="Hasura.Logging">Logger</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a> -&gt; m () <a href="src/Hasura.Server.Auth.html#updateJwkCtx" class="link">Source</a> <a href="#v:updateJwkCtx" class="selflink">#</a></p><div class="doc"><p>Update the JWK based on the expiry time specified in <code>Expires</code> header or
 <code>Cache-Control</code> header</p></div></div><a href="#g:1" id="g:1"><h1>WebHook related</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:AuthHookType" class="def">AuthHookType</a> <a href="src/Hasura.Server.Auth.WebHook.html#AuthHookType" class="link">Source</a> <a href="#t:AuthHookType" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:AHTGet" class="def">AHTGet</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:AHTPost" class="def">AHTPost</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:AuthHookType">Instances</h4><details id="i:AuthHookType" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AuthHookType:Show:1"></span> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:Show" title="Prelude">Show</a> <a href="Hasura-Server-Auth.html#t:AuthHookType" title="Hasura.Server.Auth">AuthHookType</a></span> <a href="src/Hasura.Server.Auth.WebHook.html#line-36" class="link">Source</a> <a href="#t:AuthHookType" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AuthHookType:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hasura-Server-Auth-WebHook.html">Hasura.Server.Auth.WebHook</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Hasura-Server-Auth.html#t:AuthHookType" title="Hasura.Server.Auth">AuthHookType</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:ShowS" title="Prelude">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Hasura-Server-Auth.html#t:AuthHookType" title="Hasura.Server.Auth">AuthHookType</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Hasura-Server-Auth.html#t:AuthHookType" title="Hasura.Server.Auth">AuthHookType</a>] -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:ShowS" title="Prelude">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AuthHookType:Eq:2"></span> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Hasura-Server-Auth.html#t:AuthHookType" title="Hasura.Server.Auth">AuthHookType</a></span> <a href="src/Hasura.Server.Auth.WebHook.html#line-34" class="link">Source</a> <a href="#t:AuthHookType" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AuthHookType:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hasura-Server-Auth-WebHook.html">Hasura.Server.Auth.WebHook</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Hasura-Server-Auth.html#t:AuthHookType" title="Hasura.Server.Auth">AuthHookType</a> -&gt; <a href="Hasura-Server-Auth.html#t:AuthHookType" title="Hasura.Server.Auth">AuthHookType</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Hasura-Server-Auth.html#t:AuthHookType" title="Hasura.Server.Auth">AuthHookType</a> -&gt; <a href="Hasura-Server-Auth.html#t:AuthHookType" title="Hasura.Server.Auth">AuthHookType</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AuthHookType:FromEnv:3"></span> <a href="Hasura-Server-Init-Env.html#t:FromEnv" title="Hasura.Server.Init.Env">FromEnv</a> <a href="Hasura-Server-Auth.html#t:AuthHookType" title="Hasura.Server.Auth">AuthHookType</a></span> <a href="src/Hasura.Server.Init.Env.html#line-186" class="link">Source</a> <a href="#t:FromEnv" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AuthHookType:FromEnv:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hasura-Server-Init-Env.html">Hasura.Server.Init.Env</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fromEnv">fromEnv</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-String.html#t:String" title="Data.String">String</a> <a href="Hasura-Server-Auth.html#t:AuthHookType" title="Hasura.Server.Auth">AuthHookType</a> <a href="src/Hasura.Server.Init.Env.html#fromEnv" class="link">Source</a> <a href="#v:fromEnv" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:AuthHook" class="def">AuthHook</a> <a href="src/Hasura.Server.Auth.WebHook.html#AuthHook" class="link">Source</a> <a href="#t:AuthHook" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:AuthHook" class="def">AuthHook</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:ahUrl" class="def">ahUrl</a> :: <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Internal-Prelude.html#t:Text" title="Data.Aeson.Internal.Prelude">Text</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:ahType" class="def">ahType</a> :: <a href="Hasura-Server-Auth.html#t:AuthHookType" title="Hasura.Server.Auth">AuthHookType</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:ahSendRequestBody" class="def">ahSendRequestBody</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><div class="doc"><p>Whether to send the request body to the auth hook</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:AuthHook">Instances</h4><details id="i:AuthHook" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AuthHook:Show:1"></span> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:Show" title="Prelude">Show</a> <a href="Hasura-Server-Auth.html#t:AuthHook" title="Hasura.Server.Auth">AuthHook</a></span> <a href="src/Hasura.Server.Auth.WebHook.html#line-46" class="link">Source</a> <a href="#t:AuthHook" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AuthHook:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hasura-Server-Auth-WebHook.html">Hasura.Server.Auth.WebHook</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Hasura-Server-Auth.html#t:AuthHook" title="Hasura.Server.Auth">AuthHook</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:ShowS" title="Prelude">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Hasura-Server-Auth.html#t:AuthHook" title="Hasura.Server.Auth">AuthHook</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Hasura-Server-Auth.html#t:AuthHook" title="Hasura.Server.Auth">AuthHook</a>] -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:ShowS" title="Prelude">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AuthHook:Eq:2"></span> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Hasura-Server-Auth.html#t:AuthHook" title="Hasura.Server.Auth">AuthHook</a></span> <a href="src/Hasura.Server.Auth.WebHook.html#line-46" class="link">Source</a> <a href="#t:AuthHook" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AuthHook:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hasura-Server-Auth-WebHook.html">Hasura.Server.Auth.WebHook</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Hasura-Server-Auth.html#t:AuthHook" title="Hasura.Server.Auth">AuthHook</a> -&gt; <a href="Hasura-Server-Auth.html#t:AuthHook" title="Hasura.Server.Auth">AuthHook</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Hasura-Server-Auth.html#t:AuthHook" title="Hasura.Server.Auth">AuthHook</a> -&gt; <a href="Hasura-Server-Auth.html#t:AuthHook" title="Hasura.Server.Auth">AuthHook</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:2" id="g:2"><h1>JWT related</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:RawJWT" class="def">RawJWT</a> <a href="src/Hasura.Server.Auth.JWT.html#RawJWT" class="link">Source</a> <a href="#t:RawJWT" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:JWTConfig" class="def">JWTConfig</a> <a href="src/Hasura.Server.Auth.JWT.html#JWTConfig" class="link">Source</a> <a href="#t:JWTConfig" class="selflink">#</a></p><div class="doc"><p>The JWT configuration we got from the user.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:JWTConfig" class="def">JWTConfig</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:jcKeyOrUrl" class="def">jcKeyOrUrl</a> :: !(<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/jose-0.11-4569926ca116a4fada7eb025c4bfcfc173c84b5a9c6e75fffe4a036314a069d4/share/doc/html/Crypto-JOSE-JWK.html#t:JWK" title="Crypto.JOSE.JWK">JWK</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/jose-0.11-4569926ca116a4fada7eb025c4bfcfc173c84b5a9c6e75fffe4a036314a069d4/share/doc/html/Crypto-JOSE-Types.html#t:URI" title="Crypto.JOSE.Types">URI</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:jcAudience" class="def">jcAudience</a> :: !(<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/jose-0.11-4569926ca116a4fada7eb025c4bfcfc173c84b5a9c6e75fffe4a036314a069d4/share/doc/html/Crypto-JWT.html#t:Audience" title="Crypto.JWT">Audience</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:jcIssuer" class="def">jcIssuer</a> :: !(<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/jose-0.11-4569926ca116a4fada7eb025c4bfcfc173c84b5a9c6e75fffe4a036314a069d4/share/doc/html/Crypto-JWT.html#t:StringOrURI" title="Crypto.JWT">StringOrURI</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:jcClaims" class="def">jcClaims</a> :: !<a href="Hasura-Server-Auth-JWT.html#t:JWTClaims" title="Hasura.Server.Auth.JWT">JWTClaims</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:jcAllowedSkew" class="def">jcAllowedSkew</a> :: !(<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/time-1.12.2-inplace/Data-Time-Clock.html#t:NominalDiffTime" title="Data.Time.Clock">NominalDiffTime</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:jcHeader" class="def">jcHeader</a> :: !(<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Hasura-Server-Auth-JWT.html#t:JWTHeader" title="Hasura.Server.Auth.JWT">JWTHeader</a>)</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:JWTConfig">Instances</h4><details id="i:JWTConfig" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:JWTConfig:FromJSON:1"></span> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Types-FromJSON.html#t:FromJSON" title="Data.Aeson.Types.FromJSON">FromJSON</a> <a href="Hasura-Server-Auth.html#t:JWTConfig" title="Hasura.Server.Auth">JWTConfig</a></span> <a href="src/Hasura.Server.Auth.JWT.html#line-812" class="link">Source</a> <a href="#t:JWTConfig" class="selflink">#</a></td><td class="doc"><p>Parse from a json string like:
 | `{&quot;type&quot;: <a href="RS256.html">RS256</a>, &quot;key&quot;: &quot;<a href="PEM-encoded-public-key-or-X509-cert">PEM-encoded-public-key-or-X509-cert</a>&quot;}`
 | to JWTConfig</p></td></tr><tr><td colspan="2"><details id="i:id:JWTConfig:FromJSON:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hasura-Server-Auth-JWT.html">Hasura.Server.Auth.JWT</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:parseJSON">parseJSON</a> :: <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Types-Internal.html#t:Value" title="Data.Aeson.Types.Internal">Value</a> -&gt; <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Types-Internal.html#t:Parser" title="Data.Aeson.Types.Internal">Parser</a> <a href="Hasura-Server-Auth.html#t:JWTConfig" title="Hasura.Server.Auth">JWTConfig</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html" class="link">Source</a> <a href="#v:parseJSON" class="selflink">#</a></p><p class="src"><a href="#v:parseJSONList">parseJSONList</a> :: <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Types-Internal.html#t:Value" title="Data.Aeson.Types.Internal">Value</a> -&gt; <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Types-Internal.html#t:Parser" title="Data.Aeson.Types.Internal">Parser</a> [<a href="Hasura-Server-Auth.html#t:JWTConfig" title="Hasura.Server.Auth">JWTConfig</a>] <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html" class="link">Source</a> <a href="#v:parseJSONList" class="selflink">#</a></p><p class="src"><a href="#v:omittedField">omittedField</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Hasura-Server-Auth.html#t:JWTConfig" title="Hasura.Server.Auth">JWTConfig</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html" class="link">Source</a> <a href="#v:omittedField" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:JWTConfig:ToJSON:2"></span> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Types-ToJSON.html#t:ToJSON" title="Data.Aeson.Types.ToJSON">ToJSON</a> <a href="Hasura-Server-Auth.html#t:JWTConfig" title="Hasura.Server.Auth">JWTConfig</a></span> <a href="src/Hasura.Server.Auth.JWT.html#line-784" class="link">Source</a> <a href="#t:JWTConfig" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:JWTConfig:ToJSON:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hasura-Server-Auth-JWT.html">Hasura.Server.Auth.JWT</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toJSON">toJSON</a> :: <a href="Hasura-Server-Auth.html#t:JWTConfig" title="Hasura.Server.Auth">JWTConfig</a> -&gt; <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Types-Internal.html#t:Value" title="Data.Aeson.Types.Internal">Value</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.ToJSON.html" class="link">Source</a> <a href="#v:toJSON" class="selflink">#</a></p><p class="src"><a href="#v:toEncoding">toEncoding</a> :: <a href="Hasura-Server-Auth.html#t:JWTConfig" title="Hasura.Server.Auth">JWTConfig</a> -&gt; <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Encoding-Internal.html#t:Encoding" title="Data.Aeson.Encoding.Internal">Encoding</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.ToJSON.html" class="link">Source</a> <a href="#v:toEncoding" class="selflink">#</a></p><p class="src"><a href="#v:toJSONList">toJSONList</a> :: [<a href="Hasura-Server-Auth.html#t:JWTConfig" title="Hasura.Server.Auth">JWTConfig</a>] -&gt; <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Types-Internal.html#t:Value" title="Data.Aeson.Types.Internal">Value</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.ToJSON.html" class="link">Source</a> <a href="#v:toJSONList" class="selflink">#</a></p><p class="src"><a href="#v:toEncodingList">toEncodingList</a> :: [<a href="Hasura-Server-Auth.html#t:JWTConfig" title="Hasura.Server.Auth">JWTConfig</a>] -&gt; <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Encoding-Internal.html#t:Encoding" title="Data.Aeson.Encoding.Internal">Encoding</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.ToJSON.html" class="link">Source</a> <a href="#v:toEncodingList" class="selflink">#</a></p><p class="src"><a href="#v:omitField">omitField</a> :: <a href="Hasura-Server-Auth.html#t:JWTConfig" title="Hasura.Server.Auth">JWTConfig</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.ToJSON.html" class="link">Source</a> <a href="#v:omitField" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:JWTConfig:Show:3"></span> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:Show" title="Prelude">Show</a> <a href="Hasura-Server-Auth.html#t:JWTConfig" title="Hasura.Server.Auth">JWTConfig</a></span> <a href="src/Hasura.Server.Auth.JWT.html#line-296" class="link">Source</a> <a href="#t:JWTConfig" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:JWTConfig:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hasura-Server-Auth-JWT.html">Hasura.Server.Auth.JWT</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Hasura-Server-Auth.html#t:JWTConfig" title="Hasura.Server.Auth">JWTConfig</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:ShowS" title="Prelude">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Hasura-Server-Auth.html#t:JWTConfig" title="Hasura.Server.Auth">JWTConfig</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Hasura-Server-Auth.html#t:JWTConfig" title="Hasura.Server.Auth">JWTConfig</a>] -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:ShowS" title="Prelude">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:JWTConfig:Eq:4"></span> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Hasura-Server-Auth.html#t:JWTConfig" title="Hasura.Server.Auth">JWTConfig</a></span> <a href="src/Hasura.Server.Auth.JWT.html#line-296" class="link">Source</a> <a href="#t:JWTConfig" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:JWTConfig:Eq:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hasura-Server-Auth-JWT.html">Hasura.Server.Auth.JWT</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Hasura-Server-Auth.html#t:JWTConfig" title="Hasura.Server.Auth">JWTConfig</a> -&gt; <a href="Hasura-Server-Auth.html#t:JWTConfig" title="Hasura.Server.Auth">JWTConfig</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Hasura-Server-Auth.html#t:JWTConfig" title="Hasura.Server.Auth">JWTConfig</a> -&gt; <a href="Hasura-Server-Auth.html#t:JWTConfig" title="Hasura.Server.Auth">JWTConfig</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:JWTConfig:FromEnv:5"></span> <a href="Hasura-Server-Init-Env.html#t:FromEnv" title="Hasura.Server.Init.Env">FromEnv</a> <a href="Hasura-Server-Auth.html#t:JWTConfig" title="Hasura.Server.Auth">JWTConfig</a></span> <a href="src/Hasura.Server.Init.Env.html#line-341" class="link">Source</a> <a href="#t:FromEnv" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:JWTConfig:FromEnv:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hasura-Server-Init-Env.html">Hasura.Server.Init.Env</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fromEnv">fromEnv</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-String.html#t:String" title="Data.String">String</a> <a href="Hasura-Server-Auth.html#t:JWTConfig" title="Hasura.Server.Auth">JWTConfig</a> <a href="src/Hasura.Server.Init.Env.html#fromEnv" class="link">Source</a> <a href="#v:fromEnv" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:JWTConfig:FromEnv:6"></span> <a href="Hasura-Server-Init-Env.html#t:FromEnv" title="Hasura.Server.Init.Env">FromEnv</a> [<a href="Hasura-Server-Auth.html#t:JWTConfig" title="Hasura.Server.Auth">JWTConfig</a>]</span> <a href="src/Hasura.Server.Init.Env.html#line-344" class="link">Source</a> <a href="#t:FromEnv" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:JWTConfig:FromEnv:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hasura-Server-Init-Env.html">Hasura.Server.Init.Env</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fromEnv">fromEnv</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-String.html#t:String" title="Data.String">String</a> [<a href="Hasura-Server-Auth.html#t:JWTConfig" title="Hasura.Server.Auth">JWTConfig</a>] <a href="src/Hasura.Server.Init.Env.html#fromEnv" class="link">Source</a> <a href="#v:fromEnv" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:JWTCtx" class="def">JWTCtx</a> <a href="src/Hasura.Server.Auth.JWT.html#JWTCtx" class="link">Source</a> <a href="#t:JWTCtx" class="selflink">#</a></p><div class="doc"><p>The validated runtime JWT configuration returned by <code>mkJwtCtx</code> in <code>setupAuthMode</code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:JWTCtx" class="def">JWTCtx</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:jcxUrl" class="def">jcxUrl</a> :: !(<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/jose-0.11-4569926ca116a4fada7eb025c4bfcfc173c84b5a9c6e75fffe4a036314a069d4/share/doc/html/Crypto-JOSE-Types.html#t:URI" title="Crypto.JOSE.Types">URI</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:jcxKeyConfig" class="def">jcxKeyConfig</a> :: !(<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> (<a href="Hasura-Server-Auth.html#t:JWKSet" title="Hasura.Server.Auth">JWKSet</a>, <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Internal-Prelude.html#t:UTCTime" title="Data.Aeson.Internal.Prelude">UTCTime</a>))</dfn><div class="doc"><p>This needs to be a mutable variable for <code><a href="Hasura-Server-Auth-JWT.html#v:fetchJwk" title="Hasura.Server.Auth.JWT">fetchJwk</a></code>.
 | We add the expiry time of the JWK to the IORef, to determine
 | if the JWK has expired and needs to be refreshed.</p></div></li><li><dfn class="src"><a id="v:jcxAudience" class="def">jcxAudience</a> :: !(<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/jose-0.11-4569926ca116a4fada7eb025c4bfcfc173c84b5a9c6e75fffe4a036314a069d4/share/doc/html/Crypto-JWT.html#t:Audience" title="Crypto.JWT">Audience</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:jcxIssuer" class="def">jcxIssuer</a> :: !(<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/jose-0.11-4569926ca116a4fada7eb025c4bfcfc173c84b5a9c6e75fffe4a036314a069d4/share/doc/html/Crypto-JWT.html#t:StringOrURI" title="Crypto.JWT">StringOrURI</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:jcxClaims" class="def">jcxClaims</a> :: !<a href="Hasura-Server-Auth-JWT.html#t:JWTClaims" title="Hasura.Server.Auth.JWT">JWTClaims</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:jcxAllowedSkew" class="def">jcxAllowedSkew</a> :: !(<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/time-1.12.2-inplace/Data-Time-Clock.html#t:NominalDiffTime" title="Data.Time.Clock">NominalDiffTime</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:jcxHeader" class="def">jcxHeader</a> :: !<a href="Hasura-Server-Auth-JWT.html#t:JWTHeader" title="Hasura.Server.Auth.JWT">JWTHeader</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:JWTCtx">Instances</h4><details id="i:JWTCtx" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:JWTCtx:Show:1"></span> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:Show" title="Prelude">Show</a> <a href="Hasura-Server-Auth.html#t:JWTCtx" title="Hasura.Server.Auth">JWTCtx</a></span> <a href="src/Hasura.Server.Auth.JWT.html#line-313" class="link">Source</a> <a href="#t:JWTCtx" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:JWTCtx:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hasura-Server-Auth-JWT.html">Hasura.Server.Auth.JWT</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Hasura-Server-Auth.html#t:JWTCtx" title="Hasura.Server.Auth">JWTCtx</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:ShowS" title="Prelude">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Hasura-Server-Auth.html#t:JWTCtx" title="Hasura.Server.Auth">JWTCtx</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Hasura-Server-Auth.html#t:JWTCtx" title="Hasura.Server.Auth">JWTCtx</a>] -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:ShowS" title="Prelude">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:JWTCtx:Eq:2"></span> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Hasura-Server-Auth.html#t:JWTCtx" title="Hasura.Server.Auth">JWTCtx</a></span> <a href="src/Hasura.Server.Auth.JWT.html#line-311" class="link">Source</a> <a href="#t:JWTCtx" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:JWTCtx:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hasura-Server-Auth-JWT.html">Hasura.Server.Auth.JWT</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Hasura-Server-Auth.html#t:JWTCtx" title="Hasura.Server.Auth">JWTCtx</a> -&gt; <a href="Hasura-Server-Auth.html#t:JWTCtx" title="Hasura.Server.Auth">JWTCtx</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Hasura-Server-Auth.html#t:JWTCtx" title="Hasura.Server.Auth">JWTCtx</a> -&gt; <a href="Hasura-Server-Auth.html#t:JWTCtx" title="Hasura.Server.Auth">JWTCtx</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:JWKSet" class="def">JWKSet</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/jose-0.11-4569926ca116a4fada7eb025c4bfcfc173c84b5a9c6e75fffe4a036314a069d4/share/doc/html/src/Crypto.JOSE.JWK.html" class="link">Source</a> <a href="#t:JWKSet" class="selflink">#</a></p><div class="doc"><p>RFC 7517 &#167;5.  JWK Set Format</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:JWKSet" class="def">JWKSet</a> [<a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/jose-0.11-4569926ca116a4fada7eb025c4bfcfc173c84b5a9c6e75fffe4a036314a069d4/share/doc/html/Crypto-JOSE-JWK.html#t:JWK" title="Crypto.JOSE.JWK">JWK</a>]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:JWKSet">Instances</h4><details id="i:JWKSet" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:JWKSet:FromJSON:1"></span> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Types-FromJSON.html#t:FromJSON" title="Data.Aeson.Types.FromJSON">FromJSON</a> <a href="Hasura-Server-Auth.html#t:JWKSet" title="Hasura.Server.Auth">JWKSet</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:JWKSet:FromJSON:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/jose-0.11-4569926ca116a4fada7eb025c4bfcfc173c84b5a9c6e75fffe4a036314a069d4/share/doc/html/Crypto-JOSE-JWK.html">Crypto.JOSE.JWK</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:parseJSON">parseJSON</a> :: <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Types-Internal.html#t:Value" title="Data.Aeson.Types.Internal">Value</a> -&gt; <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Types-Internal.html#t:Parser" title="Data.Aeson.Types.Internal">Parser</a> <a href="Hasura-Server-Auth.html#t:JWKSet" title="Hasura.Server.Auth">JWKSet</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html" class="link">Source</a> <a href="#v:parseJSON" class="selflink">#</a></p><p class="src"><a href="#v:parseJSONList">parseJSONList</a> :: <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Types-Internal.html#t:Value" title="Data.Aeson.Types.Internal">Value</a> -&gt; <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Types-Internal.html#t:Parser" title="Data.Aeson.Types.Internal">Parser</a> [<a href="Hasura-Server-Auth.html#t:JWKSet" title="Hasura.Server.Auth">JWKSet</a>] <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html" class="link">Source</a> <a href="#v:parseJSONList" class="selflink">#</a></p><p class="src"><a href="#v:omittedField">omittedField</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Hasura-Server-Auth.html#t:JWKSet" title="Hasura.Server.Auth">JWKSet</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html" class="link">Source</a> <a href="#v:omittedField" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:JWKSet:ToJSON:2"></span> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Types-ToJSON.html#t:ToJSON" title="Data.Aeson.Types.ToJSON">ToJSON</a> <a href="Hasura-Server-Auth.html#t:JWKSet" title="Hasura.Server.Auth">JWKSet</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:JWKSet:ToJSON:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/jose-0.11-4569926ca116a4fada7eb025c4bfcfc173c84b5a9c6e75fffe4a036314a069d4/share/doc/html/Crypto-JOSE-JWK.html">Crypto.JOSE.JWK</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toJSON">toJSON</a> :: <a href="Hasura-Server-Auth.html#t:JWKSet" title="Hasura.Server.Auth">JWKSet</a> -&gt; <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Types-Internal.html#t:Value" title="Data.Aeson.Types.Internal">Value</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.ToJSON.html" class="link">Source</a> <a href="#v:toJSON" class="selflink">#</a></p><p class="src"><a href="#v:toEncoding">toEncoding</a> :: <a href="Hasura-Server-Auth.html#t:JWKSet" title="Hasura.Server.Auth">JWKSet</a> -&gt; <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Encoding-Internal.html#t:Encoding" title="Data.Aeson.Encoding.Internal">Encoding</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.ToJSON.html" class="link">Source</a> <a href="#v:toEncoding" class="selflink">#</a></p><p class="src"><a href="#v:toJSONList">toJSONList</a> :: [<a href="Hasura-Server-Auth.html#t:JWKSet" title="Hasura.Server.Auth">JWKSet</a>] -&gt; <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Types-Internal.html#t:Value" title="Data.Aeson.Types.Internal">Value</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.ToJSON.html" class="link">Source</a> <a href="#v:toJSONList" class="selflink">#</a></p><p class="src"><a href="#v:toEncodingList">toEncodingList</a> :: [<a href="Hasura-Server-Auth.html#t:JWKSet" title="Hasura.Server.Auth">JWKSet</a>] -&gt; <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Encoding-Internal.html#t:Encoding" title="Data.Aeson.Encoding.Internal">Encoding</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.ToJSON.html" class="link">Source</a> <a href="#v:toEncodingList" class="selflink">#</a></p><p class="src"><a href="#v:omitField">omitField</a> :: <a href="Hasura-Server-Auth.html#t:JWKSet" title="Hasura.Server.Auth">JWKSet</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.ToJSON.html" class="link">Source</a> <a href="#v:omitField" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:JWKSet:Show:3"></span> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:Show" title="Prelude">Show</a> <a href="Hasura-Server-Auth.html#t:JWKSet" title="Hasura.Server.Auth">JWKSet</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:JWKSet:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/jose-0.11-4569926ca116a4fada7eb025c4bfcfc173c84b5a9c6e75fffe4a036314a069d4/share/doc/html/Crypto-JOSE-JWK.html">Crypto.JOSE.JWK</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Hasura-Server-Auth.html#t:JWKSet" title="Hasura.Server.Auth">JWKSet</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:ShowS" title="Prelude">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Hasura-Server-Auth.html#t:JWKSet" title="Hasura.Server.Auth">JWKSet</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Hasura-Server-Auth.html#t:JWKSet" title="Hasura.Server.Auth">JWKSet</a>] -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:ShowS" title="Prelude">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:JWKSet:Eq:4"></span> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Hasura-Server-Auth.html#t:JWKSet" title="Hasura.Server.Auth">JWKSet</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:JWKSet:Eq:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/jose-0.11-4569926ca116a4fada7eb025c4bfcfc173c84b5a9c6e75fffe4a036314a069d4/share/doc/html/Crypto-JOSE-JWK.html">Crypto.JOSE.JWK</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Hasura-Server-Auth.html#t:JWKSet" title="Hasura.Server.Auth">JWKSet</a> -&gt; <a href="Hasura-Server-Auth.html#t:JWKSet" title="Hasura.Server.Auth">JWKSet</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Hasura-Server-Auth.html#t:JWKSet" title="Hasura.Server.Auth">JWKSet</a> -&gt; <a href="Hasura-Server-Auth.html#t:JWKSet" title="Hasura.Server.Auth">JWKSet</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:JWKSet:VerificationKeyStore:5"></span> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/jose-0.11-4569926ca116a4fada7eb025c4bfcfc173c84b5a9c6e75fffe4a036314a069d4/share/doc/html/Crypto-JOSE-JWK-Store.html#t:VerificationKeyStore" title="Crypto.JOSE.JWK.Store">VerificationKeyStore</a> m h s <a href="Hasura-Server-Auth.html#t:JWKSet" title="Hasura.Server.Auth">JWKSet</a></span></td><td class="doc"><p>Use a <code><a href="Hasura-Server-Auth.html#t:JWKSet" title="Hasura.Server.Auth">JWKSet</a></code> as a <code><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/jose-0.11-4569926ca116a4fada7eb025c4bfcfc173c84b5a9c6e75fffe4a036314a069d4/share/doc/html/Crypto-JOSE-JWK-Store.html#t:VerificationKeyStore" title="Crypto.JOSE.JWK.Store">VerificationKeyStore</a></code>.  Can be used with
 any payload type.  Returns all keys in the set; header and
 payload are ignored.  No filtering is performed.</p></td></tr><tr><td colspan="2"><details id="i:id:JWKSet:VerificationKeyStore:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/jose-0.11-4569926ca116a4fada7eb025c4bfcfc173c84b5a9c6e75fffe4a036314a069d4/share/doc/html/Crypto-JOSE-JWK-Store.html">Crypto.JOSE.JWK.Store</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getVerificationKeys">getVerificationKeys</a> :: h -&gt; s -&gt; <a href="Hasura-Server-Auth.html#t:JWKSet" title="Hasura.Server.Auth">JWKSet</a> -&gt; m [<a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/jose-0.11-4569926ca116a4fada7eb025c4bfcfc173c84b5a9c6e75fffe4a036314a069d4/share/doc/html/Crypto-JOSE-JWK.html#t:JWK" title="Crypto.JOSE.JWK">JWK</a>] <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/jose-0.11-4569926ca116a4fada7eb025c4bfcfc173c84b5a9c6e75fffe4a036314a069d4/share/doc/html/src/Crypto.JOSE.JWK.Store.html" class="link">Source</a> <a href="#v:getVerificationKeys" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:processJwt" class="def">processJwt</a> :: (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/binary-parser-0.5.7.6-f0ac707e6923af097e412270ae5b3b843c584dc7e141fb4f8d0870c6638e1e86/share/doc/html/BinaryParser-Prelude.html#t:MonadError" title="BinaryParser.Prelude">MonadError</a> <a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> m) =&gt; [<a href="Hasura-Server-Auth.html#t:JWTCtx" title="Hasura.Server.Auth">JWTCtx</a>] -&gt; <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/http-conduit-2.3.8.3-b4d3a52bd93a2b8def81b39b0736261e80aa50491d35d94136920c33d6e0ae9b/share/doc/html/Network-HTTP-Simple.html#t:RequestHeaders" title="Network.HTTP.Simple">RequestHeaders</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Hasura-Authentication-Role.html#t:RoleName" title="Hasura.Authentication.Role">RoleName</a> -&gt; m (<a href="Hasura-Authentication-User.html#t:UserInfo" title="Hasura.Authentication.User">UserInfo</a>, <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Internal-Prelude.html#t:UTCTime" title="Data.Aeson.Internal.Prelude">UTCTime</a>, [<a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/http-conduit-2.3.8.3-b4d3a52bd93a2b8def81b39b0736261e80aa50491d35d94136920c33d6e0ae9b/share/doc/html/Network-HTTP-Simple.html#t:Header" title="Network.HTTP.Simple">Header</a>], <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Hasura-Server-Auth.html#t:JWTCtx" title="Hasura.Server.Auth">JWTCtx</a>) <a href="src/Hasura.Server.Auth.JWT.html#processJwt" class="link">Source</a> <a href="#v:processJwt" class="selflink">#</a></p><div class="doc"><p>Process the request headers to verify the JWT and extract UserInfo from it
 From the JWT config, we check which header to expect, it can be the <a href="Authorization.html">Authorization</a>
 or <a href="Cookie.html">Cookie</a> header</p><p>If no <a href="Authorization.html">Authorization</a>/<a href="Cookie.html">Cookie</a> header was passed, we will fall back to the
 unauthenticated user role [1], if one was configured at server start.</p><p>When no 'x-hasura-user-role' is specified in the request, the mandatory
 'x-hasura-default-role' [2] from the JWT claims will be used.</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a id="t:UserAuthentication" class="def">UserAuthentication</a> (m :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <span class="keyword">where</span> <a href="src/Hasura.Server.Auth.html#UserAuthentication" class="link">Source</a> <a href="#t:UserAuthentication" class="selflink">#</a></p><div class="doc"><p>Typeclass representing the <code>UserInfo</code> authorization and resolving effect</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:resolveUserInfo" class="def">resolveUserInfo</a> <a href="src/Hasura.Server.Auth.html#resolveUserInfo" class="link">Source</a> <a href="#v:resolveUserInfo" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Hasura-Logging.html#t:Logger" title="Hasura.Logging">Logger</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/Network-HTTP-Client-Transformable.html#t:Manager" title="Network.HTTP.Client.Transformable">Manager</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; [<a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/http-conduit-2.3.8.3-b4d3a52bd93a2b8def81b39b0736261e80aa50491d35d94136920c33d6e0ae9b/share/doc/html/Network-HTTP-Simple.html#t:Header" title="Network.HTTP.Simple">Header</a>]</td><td class="doc"><p>request headers</p></td></tr><tr><td class="src">-&gt; <a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:ReqsText" title="Hasura.GraphQL.Transport.HTTP.Protocol">ReqsText</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; m (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> (<a href="Hasura-Authentication-User.html#t:UserInfo" title="Hasura.Authentication.User">UserInfo</a>, <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Internal-Prelude.html#t:UTCTime" title="Data.Aeson.Internal.Prelude">UTCTime</a>, [<a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/http-conduit-2.3.8.3-b4d3a52bd93a2b8def81b39b0736261e80aa50491d35d94136920c33d6e0ae9b/share/doc/html/Network-HTTP-Simple.html#t:Header" title="Network.HTTP.Simple">Header</a>], <a href="Hasura-Authentication-User.html#t:ExtraUserInfo" title="Hasura.Authentication.User">ExtraUserInfo</a>))</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:UserAuthentication">Instances</h4><details id="i:UserAuthentication" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:UserAuthentication:UserAuthentication:1"></span> <a href="Hasura-Server-Auth.html#t:UserAuthentication" title="Hasura.Server.Auth">UserAuthentication</a> <a href="Hasura-App.html#t:AppM" title="Hasura.App">AppM</a></span> <a href="src/Hasura.App.html#line-729" class="link">Source</a> <a href="#t:UserAuthentication" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:UserAuthentication:UserAuthentication:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hasura-App.html">Hasura.App</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:resolveUserInfo">resolveUserInfo</a> :: <a href="Hasura-Logging.html#t:Logger" title="Hasura.Logging">Logger</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a> -&gt; <a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/Network-HTTP-Client-Transformable.html#t:Manager" title="Network.HTTP.Client.Transformable">Manager</a> -&gt; [<a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/http-conduit-2.3.8.3-b4d3a52bd93a2b8def81b39b0736261e80aa50491d35d94136920c33d6e0ae9b/share/doc/html/Network-HTTP-Simple.html#t:Header" title="Network.HTTP.Simple">Header</a>] -&gt; <a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:ReqsText" title="Hasura.GraphQL.Transport.HTTP.Protocol">ReqsText</a> -&gt; <a href="Hasura-App.html#t:AppM" title="Hasura.App">AppM</a> (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> (<a href="Hasura-Authentication-User.html#t:UserInfo" title="Hasura.Authentication.User">UserInfo</a>, <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Internal-Prelude.html#t:UTCTime" title="Data.Aeson.Internal.Prelude">UTCTime</a>, [<a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/http-conduit-2.3.8.3-b4d3a52bd93a2b8def81b39b0736261e80aa50491d35d94136920c33d6e0ae9b/share/doc/html/Network-HTTP-Simple.html#t:Header" title="Network.HTTP.Simple">Header</a>], <a href="Hasura-Authentication-User.html#t:ExtraUserInfo" title="Hasura.Authentication.User">ExtraUserInfo</a>)) <a href="src/Hasura.Server.Auth.html#resolveUserInfo" class="link">Source</a> <a href="#v:resolveUserInfo" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:mkJwtCtx" class="def">mkJwtCtx</a> :: (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/list-t-1.0.5.7-a9c088a22c96b528949c3d615f362558ac693f07383e5e281f8eb8cdccb32dfb/share/doc/html/ListT-Prelude.html#t:MonadBaseControl" title="ListT.Prelude">MonadBaseControl</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> m, <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/binary-parser-0.5.7.6-f0ac707e6923af097e412270ae5b3b843c584dc7e141fb4f8d0870c6638e1e86/share/doc/html/BinaryParser-Prelude.html#t:MonadError" title="BinaryParser.Prelude">MonadError</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Internal-Prelude.html#t:Text" title="Data.Aeson.Internal.Prelude">Text</a> m) =&gt; <a href="Hasura-Server-Auth.html#t:JWTConfig" title="Hasura.Server.Auth">JWTConfig</a> -&gt; <a href="Hasura-Logging.html#t:Logger" title="Hasura.Logging">Logger</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a> -&gt; <a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/Network-HTTP-Client-Transformable.html#t:Manager" title="Network.HTTP.Client.Transformable">Manager</a> -&gt; m <a href="Hasura-Server-Auth.html#t:JWTCtx" title="Hasura.Server.Auth">JWTCtx</a> <a href="src/Hasura.Server.Auth.html#mkJwtCtx" class="link">Source</a> <a href="#v:mkJwtCtx" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:updateJwkFromUrl" class="def">updateJwkFromUrl</a> :: (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/list-t-1.0.5.7-a9c088a22c96b528949c3d615f362558ac693f07383e5e281f8eb8cdccb32dfb/share/doc/html/ListT-Prelude.html#t:MonadBaseControl" title="ListT.Prelude">MonadBaseControl</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> m) =&gt; <a href="Hasura-Server-Auth.html#t:JWTCtx" title="Hasura.Server.Auth">JWTCtx</a> -&gt; <a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/Network-HTTP-Client-Transformable.html#t:Manager" title="Network.HTTP.Client.Transformable">Manager</a> -&gt; <a href="Hasura-Logging.html#t:Logger" title="Hasura.Logging">Logger</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a> -&gt; m () <a href="src/Hasura.Server.Auth.html#updateJwkFromUrl" class="link">Source</a> <a href="#v:updateJwkFromUrl" class="selflink">#</a></p></div><a href="#g:3" id="g:3"><h1>Exposed for testing</h1></a><div class="top"><p class="src"><a id="v:getUserInfoWithExpTime_" class="def">getUserInfoWithExpTime_</a> <a href="src/Hasura.Server.Auth.html#getUserInfoWithExpTime_" class="link">Source</a> <a href="#v:getUserInfoWithExpTime_" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> m mgr logger. (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/binary-parser-0.5.7.6-f0ac707e6923af097e412270ae5b3b843c584dc7e141fb4f8d0870c6638e1e86/share/doc/html/BinaryParser-Prelude.html#t:MonadError" title="BinaryParser.Prelude">MonadError</a> <a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (logger -&gt; mgr -&gt; <a href="Hasura-Server-Auth.html#t:AuthHook" title="Hasura.Server.Auth">AuthHook</a> -&gt; [<a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/http-conduit-2.3.8.3-b4d3a52bd93a2b8def81b39b0736261e80aa50491d35d94136920c33d6e0ae9b/share/doc/html/Network-HTTP-Simple.html#t:Header" title="Network.HTTP.Simple">Header</a>] -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:ReqsText" title="Hasura.GraphQL.Transport.HTTP.Protocol">ReqsText</a> -&gt; m (<a href="Hasura-Authentication-User.html#t:UserInfo" title="Hasura.Authentication.User">UserInfo</a>, <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Internal-Prelude.html#t:UTCTime" title="Data.Aeson.Internal.Prelude">UTCTime</a>, [<a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/http-conduit-2.3.8.3-b4d3a52bd93a2b8def81b39b0736261e80aa50491d35d94136920c33d6e0ae9b/share/doc/html/Network-HTTP-Simple.html#t:Header" title="Network.HTTP.Simple">Header</a>]))</td><td class="doc"><p>mock <code><a href="Hasura-Server-Auth-WebHook.html#v:userInfoFromAuthHook" title="Hasura.Server.Auth.WebHook">userInfoFromAuthHook</a></code></p></td></tr><tr><td class="src">-&gt; ([<a href="Hasura-Server-Auth.html#t:JWTCtx" title="Hasura.Server.Auth">JWTCtx</a>] -&gt; [<a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/http-conduit-2.3.8.3-b4d3a52bd93a2b8def81b39b0736261e80aa50491d35d94136920c33d6e0ae9b/share/doc/html/Network-HTTP-Simple.html#t:Header" title="Network.HTTP.Simple">Header</a>] -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Hasura-Authentication-Role.html#t:RoleName" title="Hasura.Authentication.Role">RoleName</a> -&gt; m (<a href="Hasura-Authentication-User.html#t:UserInfo" title="Hasura.Authentication.User">UserInfo</a>, <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Internal-Prelude.html#t:UTCTime" title="Data.Aeson.Internal.Prelude">UTCTime</a>, [<a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/http-conduit-2.3.8.3-b4d3a52bd93a2b8def81b39b0736261e80aa50491d35d94136920c33d6e0ae9b/share/doc/html/Network-HTTP-Simple.html#t:Header" title="Network.HTTP.Simple">Header</a>], <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Hasura-Server-Auth.html#t:JWTCtx" title="Hasura.Server.Auth">JWTCtx</a>))</td><td class="doc"><p>mock <code><a href="Hasura-Server-Auth.html#v:processJwt" title="Hasura.Server.Auth">processJwt</a></code></p></td></tr><tr><td class="src">-&gt; logger</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; mgr</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; [<a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/http-conduit-2.3.8.3-b4d3a52bd93a2b8def81b39b0736261e80aa50491d35d94136920c33d6e0ae9b/share/doc/html/Network-HTTP-Simple.html#t:Header" title="Network.HTTP.Simple">Header</a>]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:ReqsText" title="Hasura.GraphQL.Transport.HTTP.Protocol">ReqsText</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; m (<a href="Hasura-Authentication-User.html#t:UserInfo" title="Hasura.Authentication.User">UserInfo</a>, <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Internal-Prelude.html#t:UTCTime" title="Data.Aeson.Internal.Prelude">UTCTime</a>, [<a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/http-conduit-2.3.8.3-b4d3a52bd93a2b8def81b39b0736261e80aa50491d35d94136920c33d6e0ae9b/share/doc/html/Network-HTTP-Simple.html#t:Header" title="Network.HTTP.Simple">Header</a>])</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.28.0</p></div></body></html>