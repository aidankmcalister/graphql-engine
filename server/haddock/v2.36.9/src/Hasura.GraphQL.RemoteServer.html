<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE TemplateHaskell #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html"><span class="hs-identifier">Hasura.GraphQL.RemoteServer</span></a></span><span>
</span><span id="line-4"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#fetchRemoteSchema"><span class="hs-identifier">fetchRemoteSchema</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-5"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#stitchRemoteSchema"><span class="hs-identifier">stitchRemoteSchema</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-6"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#execRemoteGQ"><span class="hs-identifier">execRemoteGQ</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-7"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier">FromIntrospection</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-8"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-9"></span><span class="hs-keyword">where</span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/arrows-extra-1.0.0/opt/doc/html/arrows-extra/src/Control.Arrow.Extended.html/Control.Arrow.Extended.html"><span class="hs-identifier">Control.Arrow.Extended</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">left</span></span><span class="hs-special">)</span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Exception</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">try</span></span><span class="hs-special">)</span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/lens-5.3.2-7ec14d641784087c1f1350eada3cde7884c62d1ab2707daec993ceeca3096d32/share/doc/html/src/Control.Lens.html/Control.Lens.html"><span class="hs-identifier">Control.Lens</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/lens-5.3.2-7ec14d641784087c1f1350eada3cde7884c62d1ab2707daec993ceeca3096d32/share/doc/html/src/Control.Lens.Setter.html/Control.Lens.Setter.html#set"><span class="hs-identifier">set</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/lens-5.3.2-7ec14d641784087c1f1350eada3cde7884c62d1ab2707daec993ceeca3096d32/share/doc/html/src/Control.Lens.Getter.html/Control.Lens.Getter.html#%5E."><span class="hs-operator">(^.)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Control.Monad.Memoize.html"><span class="hs-identifier">Control.Monad.Memoize</span></a></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.html/Data.Aeson.html"><span class="hs-identifier">Data.Aeson</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#.%3A"><span class="hs-operator">(.:)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#.%3A%3F"><span class="hs-operator">(.:?)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.html/Data.Aeson.html"><span class="hs-identifier">Data.Aeson</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">J</span></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString.Lazy</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BL</span></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Environment.html/Data.Environment.html"><span class="hs-identifier">Data.Environment</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Env</span></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/file-embed-0.0.15.0-515808e58f03d959385c4d19dcff901545fbbb17eb4c8312a46b66f913b925ab/share/doc/html/src/Data.FileEmbed.html/Data.FileEmbed.html"><span class="hs-identifier">Data.FileEmbed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/file-embed-0.0.15.0-515808e58f03d959385c4d19dcff901545fbbb17eb4c8312a46b66f913b925ab/share/doc/html/src/Data.FileEmbed.html/Data.FileEmbed.html#makeRelativeToProject"><span class="hs-identifier">makeRelativeToProject</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.HashMap.Strict.Extended.html/Data.HashMap.Strict.Extended.html"><span class="hs-identifier">Data.HashMap.Strict.Extended</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">HashMap</span></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/unordered-containers-0.2.20-6d56f9b3abc6011ddb6e237c415126423ab5ceb5c078221bba2ff80dbe921009/share/doc/html/src/Data.HashSet.html/Data.HashSet.html"><span class="hs-identifier">Data.HashSet</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.List.Extended.html/Data.List.Extended.html"><span class="hs-identifier">Data.List.Extended</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.List.Extended.html/Data.List.Extended.html#duplicates"><span class="hs-identifier">duplicates</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html/Data.Text.Extended.html"><span class="hs-identifier">Data.Text.Extended</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html/Data.Text.Extended.html#dquoteList"><span class="hs-identifier">dquoteList</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html/Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator">(&lt;&lt;&gt;)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Authentication.Header.html"><span class="hs-identifier">Hasura.Authentication.Header</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Authentication.Header.html#mkSetCookieHeaders"><span class="hs-identifier">mkSetCookieHeaders</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Authentication.Role.html"><span class="hs-identifier">Hasura.Authentication.Role</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Authentication.Role.html#adminRoleName"><span class="hs-identifier">adminRoleName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Authentication.Session.html"><span class="hs-identifier">Hasura.Authentication.Session</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Authentication.Session.html#mkClientHeadersForward"><span class="hs-identifier">mkClientHeadersForward</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.Authentication.Session.html#sessionVariablesToHeaders"><span class="hs-identifier">sessionVariablesToHeaders</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Authentication.User.html"><span class="hs-identifier">Hasura.Authentication.User</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Authentication.User.html#UserInfo"><span class="hs-identifier">UserInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.Authentication.User.html#adminUserInfo"><span class="hs-identifier">adminUserInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.Authentication.User.html#_uiSession"><span class="hs-identifier">_uiSession</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html"><span class="hs-identifier">Hasura.Base.Error</span></a></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Monad.html/Hasura.GraphQL.Parser.Monad.html"><span class="hs-identifier">Hasura.GraphQL.Parser.Monad</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Monad.html/Hasura.GraphQL.Parser.Monad.html#Parse"><span class="hs-identifier">Parse</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Name.html/Hasura.GraphQL.Parser.Name.html"><span class="hs-identifier">Hasura.GraphQL.Parser.Name</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">GName</span></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html"><span class="hs-identifier">Hasura.GraphQL.Schema.Common</span></a></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Remote.html"><span class="hs-identifier">Hasura.GraphQL.Schema.Remote</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Remote.html#buildRemoteParser"><span class="hs-identifier">buildRemoteParser</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Typename.html"><span class="hs-identifier">Hasura.GraphQL.Schema.Typename</span></a></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Transport.HTTP.Protocol.html"><span class="hs-identifier">Hasura.GraphQL.Transport.HTTP.Protocol</span></a></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.HTTP.html"><span class="hs-identifier">Hasura.HTTP</span></a></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html/Hasura.Prelude.html"><span class="hs-identifier">Hasura.Prelude</span></a></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.Headers.html"><span class="hs-identifier">Hasura.RQL.DDL.Headers</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.DDL.Headers.html#makeHeadersFromConf"><span class="hs-identifier">makeHeadersFromConf</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Common.html"><span class="hs-identifier">Hasura.RQL.Types.Common</span></a></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Schema.Options.html"><span class="hs-identifier">Hasura.RQL.Types.Schema.Options</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Options</span></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.Metadata.html"><span class="hs-identifier">Hasura.RemoteSchema.Metadata</span></a></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html"><span class="hs-identifier">Hasura.RemoteSchema.SchemaCache.Types</span></a></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Services.Network.html"><span class="hs-identifier">Hasura.Services.Network</span></a></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Tracing.html"><span class="hs-identifier">Hasura.Tracing</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Tracing</span></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Parser.html/Language.GraphQL.Draft.Parser.html"><span class="hs-identifier">Language.GraphQL.Draft.Parser</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">G</span></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html"><span class="hs-identifier">Language.GraphQL.Draft.Syntax</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">G</span></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Language.Haskell.TH.Syntax</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TH</span></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Network.HTTP.Client.Transformable.html/Network.HTTP.Client.Transformable.html"><span class="hs-identifier">Network.HTTP.Client.Transformable</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">HTTP</span></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/network-uri-2.6.4.2-b263325122afad86317f4820b990e7f912731b43c915e95da13f3388a6506f4a/share/doc/html/src/Network.URI.html/Network.URI.html"><span class="hs-identifier">Network.URI</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/network-uri-2.6.4.2-b263325122afad86317f4820b990e7f912731b43c915e95da13f3388a6506f4a/share/doc/html/src/Network.URI.html/Network.URI.html#URI"><span class="hs-identifier">URI</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/wreq-0.5.4.3-486411c980bb5b91021902c1800ffcde9973c5c9a71e88013096ec79aec75234/share/doc/html/src/Network.Wreq.html/Network.Wreq.html"><span class="hs-identifier">Network.Wreq</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Wreq</span></span><span>
</span><span id="line-51"></span><span>
</span><span id="line-52"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-53"></span><span class="hs-comment">-- Core API</span><span>
</span><span id="line-54"></span><span>
</span><span id="line-55"></span><span class="hs-comment">-- | Make an introspection query to the remote graphql server for the data we</span><span>
</span><span id="line-56"></span><span class="hs-comment">-- need to present and stitch the remote schema. This powers add_remote_schema,</span><span>
</span><span id="line-57"></span><span class="hs-comment">-- and also is called by schema cache rebuilding code in &quot;Hasura.RQL.DDL.Schema.Cache&quot;.</span><span>
</span><span id="line-58"></span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#fetchRemoteSchema"><span class="hs-identifier hs-type">fetchRemoteSchema</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-59"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621687865746"><span class="annot"><a href="#local-6989586621687865746"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-60"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621687865746"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadError</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687865746"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.Tracing.Class.html#MonadTrace"><span class="hs-identifier hs-type">Tracing.MonadTrace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687865746"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.Services.Network.html#ProvidesNetwork"><span class="hs-identifier hs-type">ProvidesNetwork</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687865746"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-61"></span><span>  </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Environment.html/Data.Environment.html#Environment"><span class="hs-identifier hs-type">Env.Environment</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-62"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SchemaSampledFeatureFlags"><span class="hs-identifier hs-type">SchemaSampledFeatureFlags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-63"></span><span>  </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#ValidatedRemoteSchemaDef"><span class="hs-identifier hs-type">ValidatedRemoteSchemaDef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-64"></span><span>  </span><span class="annot"><a href="#local-6989586621687865746"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#IntrospectionResult"><span class="hs-identifier hs-type">IntrospectionResult</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BL.ByteString</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#RemoteSchemaInfo"><span class="hs-identifier hs-type">RemoteSchemaInfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span id="fetchRemoteSchema"><span class="annot"><span class="annottext">fetchRemoteSchema :: forall (m :: * -&gt; *).
(MonadIO m, MonadError QErr m, MonadTrace m, ProvidesNetwork m) =&gt;
Environment
-&gt; SchemaSampledFeatureFlags
-&gt; ValidatedRemoteSchemaDef
-&gt; m (IntrospectionResult, ByteString, RemoteSchemaInfo)
</span><a href="Hasura.GraphQL.RemoteServer.html#fetchRemoteSchema"><span class="hs-identifier hs-var hs-var">fetchRemoteSchema</span></a></span></span><span> </span><span id="local-6989586621687866541"><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621687866541"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621687866542"><span class="annot"><span class="annottext">SchemaSampledFeatureFlags
</span><a href="#local-6989586621687866542"><span class="hs-identifier hs-var">schemaSampledFeatureFlags</span></a></span></span><span> </span><span id="local-6989586621687866543"><span class="annot"><span class="annottext">ValidatedRemoteSchemaDef
</span><a href="#local-6989586621687866543"><span class="hs-identifier hs-var">rsDef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-66"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621687866544"><span class="annot"><a href="#local-6989586621687866544"><span class="hs-identifier hs-var">rawIntrospectionResult</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-67"></span><span>    </span><span class="annot"><span class="annottext">Environment
-&gt; HttpPropagator
-&gt; UserInfo
-&gt; [Header]
-&gt; ValidatedRemoteSchemaDef
-&gt; GQLReqOutgoing
-&gt; m (DiffTime, [Header], ByteString)
forall (m :: * -&gt; *).
(MonadIO m, MonadError QErr m, MonadTrace m, ProvidesNetwork m) =&gt;
Environment
-&gt; HttpPropagator
-&gt; UserInfo
-&gt; [Header]
-&gt; ValidatedRemoteSchemaDef
-&gt; GQLReqOutgoing
-&gt; m (DiffTime, [Header], ByteString)
</span><a href="Hasura.GraphQL.RemoteServer.html#execRemoteGQ"><span class="hs-identifier hs-var">execRemoteGQ</span></a></span><span> </span><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621687866541"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">HttpPropagator
</span><a href="Hasura.Tracing.Propagator.B3.html#b3TraceContextPropagator"><span class="hs-identifier hs-var">Tracing.b3TraceContextPropagator</span></a></span><span> </span><span class="annot"><span class="annottext">UserInfo
</span><a href="Hasura.Authentication.User.html#adminUserInfo"><span class="hs-identifier hs-var">adminUserInfo</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">ValidatedRemoteSchemaDef
</span><a href="#local-6989586621687866543"><span class="hs-identifier hs-var">rsDef</span></a></span><span> </span><span class="annot"><span class="annottext">GQLReqOutgoing
</span><a href="Hasura.GraphQL.RemoteServer.html#introspectionQuery"><span class="hs-identifier hs-var">introspectionQuery</span></a></span><span>
</span><span id="line-68"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621687866547"><span class="annot"><a href="#local-6989586621687866547"><span class="hs-identifier hs-var">ir</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621687866548"><span class="annot"><a href="#local-6989586621687866548"><span class="hs-identifier hs-var">rsi</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#stitchRemoteSchema"><span class="hs-identifier hs-type">stitchRemoteSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687866542"><span class="hs-identifier hs-type">schemaSampledFeatureFlags</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687866544"><span class="hs-identifier hs-type">rawIntrospectionResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687866543"><span class="hs-identifier hs-type">rsDef</span></a></span><span>
</span><span id="line-69"></span><span>  </span><span class="hs-comment">-- The 'rawIntrospectionResult' contains the 'Bytestring' response of</span><span>
</span><span id="line-70"></span><span>  </span><span class="hs-comment">-- the introspection result of the remote server. We store this in the</span><span>
</span><span id="line-71"></span><span>  </span><span class="hs-comment">-- 'RemoteSchemaCtx' because we can use this when the 'introspect_remote_schema'</span><span>
</span><span id="line-72"></span><span>  </span><span class="hs-comment">-- is called by simple encoding the result to JSON.</span><span>
</span><span id="line-73"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621687866547"><span class="hs-identifier hs-type">ir</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621687866544"><span class="hs-identifier hs-type">rawIntrospectionResult</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621687866548"><span class="hs-identifier hs-type">rsi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span class="hs-comment">-- | Parses the remote schema introspection result, and check whether it looks</span><span>
</span><span id="line-76"></span><span class="hs-comment">-- like it's a valid GraphQL endpoint even under the configured customization.</span><span>
</span><span id="line-77"></span><span id="local-6989586621687865768"><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#stitchRemoteSchema"><span class="hs-identifier hs-type">stitchRemoteSchema</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-78"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621687865768"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadError</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687865768"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-79"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SchemaSampledFeatureFlags"><span class="hs-identifier hs-type">SchemaSampledFeatureFlags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-80"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">BL.ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-81"></span><span>  </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#ValidatedRemoteSchemaDef"><span class="hs-identifier hs-type">ValidatedRemoteSchemaDef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-82"></span><span>  </span><span class="annot"><a href="#local-6989586621687865768"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#IntrospectionResult"><span class="hs-identifier hs-type">IntrospectionResult</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#RemoteSchemaInfo"><span class="hs-identifier hs-type">RemoteSchemaInfo</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-83"></span><span id="stitchRemoteSchema"><span class="annot"><span class="annottext">stitchRemoteSchema :: forall (m :: * -&gt; *).
(MonadIO m, MonadError QErr m) =&gt;
SchemaSampledFeatureFlags
-&gt; ByteString
-&gt; ValidatedRemoteSchemaDef
-&gt; m (IntrospectionResult, RemoteSchemaInfo)
</span><a href="Hasura.GraphQL.RemoteServer.html#stitchRemoteSchema"><span class="hs-identifier hs-var hs-var">stitchRemoteSchema</span></a></span></span><span> </span><span id="local-6989586621687866588"><span class="annot"><span class="annottext">SchemaSampledFeatureFlags
</span><a href="#local-6989586621687866588"><span class="hs-identifier hs-var">schemaSampledFeatureFlags</span></a></span></span><span> </span><span id="local-6989586621687866589"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621687866589"><span class="hs-identifier hs-var">rawIntrospectionResult</span></a></span></span><span> </span><span id="local-6989586621687866590"><span class="annot"><span class="annottext">rsDef :: ValidatedRemoteSchemaDef
</span><a href="#local-6989586621687866590"><span class="hs-identifier hs-var">rsDef</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#ValidatedRemoteSchemaDef"><span class="hs-identifier hs-type">ValidatedRemoteSchemaDef</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621687866592"><span id="local-6989586621687866593"><span id="local-6989586621687866594"><span id="local-6989586621687866595"><span id="local-6989586621687866596"><span id="local-6989586621687866597"><span class="annot"><span class="annottext">Bool
Int
[HeaderConf]
Maybe RemoteSchemaCustomization
EnvRecord URI
RemoteSchemaName
_vrsdName :: RemoteSchemaName
_vrsdUrl :: EnvRecord URI
_vrsdHeaders :: [HeaderConf]
_vrsdFwdClientHeaders :: Bool
_vrsdTimeoutSeconds :: Int
_vrsdCustomization :: Maybe RemoteSchemaCustomization
_vrsdCustomization :: ValidatedRemoteSchemaDef -&gt; Maybe RemoteSchemaCustomization
_vrsdTimeoutSeconds :: ValidatedRemoteSchemaDef -&gt; Int
_vrsdFwdClientHeaders :: ValidatedRemoteSchemaDef -&gt; Bool
_vrsdHeaders :: ValidatedRemoteSchemaDef -&gt; [HeaderConf]
_vrsdUrl :: ValidatedRemoteSchemaDef -&gt; EnvRecord URI
_vrsdName :: ValidatedRemoteSchemaDef -&gt; RemoteSchemaName
</span><a href="#local-6989586621687866592"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-84"></span><span>  </span><span class="hs-comment">-- Parse the JSON into flat GraphQL type AST.</span><span>
</span><span id="line-85"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span id="local-6989586621687866605"><span class="annot"><a href="#local-6989586621687866605"><span class="hs-identifier hs-var">_rscIntroOriginal</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-86"></span><span>    </span><span class="annot"><span class="annottext">ByteString -&gt; Either String (FromIntrospection IntrospectionResult)
forall a. FromJSON a =&gt; ByteString -&gt; Either String a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Decoding.html/Data.Aeson.Decoding.html#eitherDecode"><span class="hs-identifier hs-var">J.eitherDecode</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621687866589"><span class="hs-identifier hs-var">rawIntrospectionResult</span></a></span><span> </span><span class="annot"><span class="annottext">Either String (FromIntrospection IntrospectionResult)
-&gt; (String -&gt; m (FromIntrospection IntrospectionResult))
-&gt; m (FromIntrospection IntrospectionResult)
forall (m :: * -&gt; *) e a.
Applicative m =&gt;
Either e a -&gt; (e -&gt; m a) -&gt; m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html/Hasura.Prelude.html#onLeft"><span class="hs-operator hs-var">`onLeft`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; m (FromIntrospection IntrospectionResult)
forall (m :: * -&gt; *) a. QErrM m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchema"><span class="hs-identifier hs-var">throwRemoteSchema</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; m (FromIntrospection IntrospectionResult))
-&gt; (String -&gt; Text)
-&gt; String
-&gt; m (FromIntrospection IntrospectionResult)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span class="hs-special">)</span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span>  </span><span class="hs-comment">-- Possibly transform type names from the remote schema, per the user's 'RemoteSchemaDef'.</span><span>
</span><span id="line-89"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687866611"><span class="annot"><a href="#local-6989586621687866611"><span class="hs-identifier hs-var hs-var">rsCustomizer</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntrospectionResult
-&gt; Maybe RemoteSchemaCustomization -&gt; RemoteSchemaCustomizer
</span><a href="Hasura.GraphQL.RemoteServer.html#getCustomizer"><span class="hs-identifier hs-var">getCustomizer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IntrospectionResult -&gt; IntrospectionResult
</span><a href="#local-6989586621687866613"><span class="hs-identifier hs-var">addDefaultRoots</span></a></span><span> </span><span class="annot"><span class="annottext">IntrospectionResult
</span><a href="#local-6989586621687866605"><span class="hs-identifier hs-var">_rscIntroOriginal</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe RemoteSchemaCustomization
</span><a href="#local-6989586621687866597"><span class="hs-identifier hs-var">_vrsdCustomization</span></a></span><span>
</span><span id="line-90"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#validateSchemaCustomizations"><span class="hs-identifier hs-type">validateSchemaCustomizations</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687866611"><span class="hs-identifier hs-type">rsCustomizer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#irDoc"><span class="hs-identifier hs-var">irDoc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687866605"><span class="hs-identifier hs-type">_rscIntroOriginal</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span>
</span><span id="line-92"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687866616"><span class="annot"><a href="#local-6989586621687866616"><span class="hs-identifier hs-var hs-var">remoteSchemaInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#RemoteSchemaInfo"><span class="hs-identifier hs-type">RemoteSchemaInfo</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">RemoteSchemaCustomizer
ValidatedRemoteSchemaDef
rsDef :: ValidatedRemoteSchemaDef
rsCustomizer :: RemoteSchemaCustomizer
rsCustomizer :: RemoteSchemaCustomizer
rsDef :: ValidatedRemoteSchemaDef
</span><a href="#local-6989586621687866590"><span class="hs-glyph hs-var hs-var hs-var hs-var">..</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span>  </span><span class="hs-comment">-- Check that the parsed GraphQL type info is valid by running the schema</span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-comment">-- generation. The result is discarded, as the local schema will be built</span><span>
</span><span id="line-96"></span><span>  </span><span class="hs-comment">-- properly for each role at schema generation time, but this allows us to</span><span>
</span><span id="line-97"></span><span>  </span><span class="hs-comment">-- quickly reject an invalid schema.</span><span>
</span><span id="line-98"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">void</span></span><span>
</span><span id="line-99"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Control.Monad.Memoize.html#runMemoizeT"><span class="hs-identifier hs-type">runMemoizeT</span></a></span><span>
</span><span id="line-100"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#runRemoteSchema"><span class="hs-identifier hs-type">runRemoteSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687866623"><span class="hs-identifier hs-type">minimumValidContext</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Schema.Options.html#RemoteForwardAccurately"><span class="hs-identifier hs-type">Options.RemoteForwardAccurately</span></a></span><span>
</span><span id="line-101"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Remote.html#buildRemoteParser"><span class="hs-identifier hs-type">buildRemoteParser</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Monad.html/Hasura.GraphQL.Parser.Monad.html#Parse"><span class="hs-identifier hs-type">Parse</span></a></span><span>
</span><span id="line-102"></span><span>      </span><span class="annot"><a href="#local-6989586621687866605"><span class="hs-identifier hs-type">_rscIntroOriginal</span></a></span><span>
</span><span id="line-103"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">mempty</span></span><span> </span><span class="hs-comment">-- remote relationships</span><span>
</span><span id="line-104"></span><span>      </span><span class="annot"><a href="#local-6989586621687866616"><span class="hs-identifier hs-type">remoteSchemaInfo</span></a></span><span>
</span><span id="line-105"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621687866605"><span class="hs-identifier hs-type">_rscIntroOriginal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621687866616"><span class="hs-identifier hs-type">remoteSchemaInfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-107"></span><span>    </span><span class="hs-comment">-- If there is no explicit mutation or subscription root type we need to check for</span><span>
</span><span id="line-108"></span><span>    </span><span class="hs-comment">-- objects type definitions with the default names &quot;Mutation&quot; and &quot;Subscription&quot;.</span><span>
</span><span id="line-109"></span><span>    </span><span class="hs-comment">-- If found, we add the default roots explicitly to the IntrospectionResult.</span><span>
</span><span id="line-110"></span><span>    </span><span class="hs-comment">-- This simplifies the customization code.</span><span>
</span><span id="line-111"></span><span>    </span><span class="annot"><a href="#local-6989586621687866613"><span class="hs-identifier hs-type">addDefaultRoots</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#IntrospectionResult"><span class="hs-identifier hs-type">IntrospectionResult</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#IntrospectionResult"><span class="hs-identifier hs-type">IntrospectionResult</span></a></span><span>
</span><span id="line-112"></span><span>    </span><span id="local-6989586621687866613"><span class="annot"><span class="annottext">addDefaultRoots :: IntrospectionResult -&gt; IntrospectionResult
</span><a href="#local-6989586621687866613"><span class="hs-identifier hs-var hs-var">addDefaultRoots</span></a></span></span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#IntrospectionResult"><span class="hs-identifier hs-type">IntrospectionResult</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621687866626"><span id="local-6989586621687866627"><span id="local-6989586621687866628"><span id="local-6989586621687866629"><span class="annot"><span class="annottext">Maybe Name
Name
RemoteSchemaIntrospection
irDoc :: IntrospectionResult -&gt; RemoteSchemaIntrospection
irDoc :: RemoteSchemaIntrospection
irQueryRoot :: Name
irMutationRoot :: Maybe Name
irSubscriptionRoot :: Maybe Name
irSubscriptionRoot :: IntrospectionResult -&gt; Maybe Name
irMutationRoot :: IntrospectionResult -&gt; Maybe Name
irQueryRoot :: IntrospectionResult -&gt; Name
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#irDoc"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-113"></span><span>      </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#IntrospectionResult"><span class="hs-identifier hs-type">IntrospectionResult</span></a></span><span>
</span><span id="line-114"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">irMutationRoot :: Maybe Name
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#irMutationRoot"><span class="hs-identifier hs-var">irMutationRoot</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Name -&gt; Maybe Name
</span><a href="#local-6989586621687866633"><span class="hs-identifier hs-var">getRootTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Name.TypeSystem.html/Hasura.GraphQL.Parser.Name.TypeSystem.html#_Mutation"><span class="hs-identifier hs-var">GName._Mutation</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621687866628"><span class="hs-identifier hs-var">irMutationRoot</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-115"></span><span>          </span><span class="annot"><span class="annottext">irSubscriptionRoot :: Maybe Name
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#irSubscriptionRoot"><span class="hs-identifier hs-var">irSubscriptionRoot</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Name -&gt; Maybe Name
</span><a href="#local-6989586621687866633"><span class="hs-identifier hs-var">getRootTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Name.TypeSystem.html/Hasura.GraphQL.Parser.Name.TypeSystem.html#_Subscription"><span class="hs-identifier hs-var">GName._Subscription</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621687866629"><span class="hs-identifier hs-var">irSubscriptionRoot</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-116"></span><span>          </span><span class="annot"><span class="annottext">Name
RemoteSchemaIntrospection
irDoc :: RemoteSchemaIntrospection
irDoc :: RemoteSchemaIntrospection
irQueryRoot :: Name
irQueryRoot :: Name
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#irDoc"><span class="hs-glyph hs-var hs-var hs-var hs-var">..</span></a></span><span>
</span><span id="line-117"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-118"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-119"></span><span>        </span><span id="local-6989586621687866633"><span class="annot"><span class="annottext">getRootTypeName :: Name -&gt; Maybe Name -&gt; Maybe Name
</span><a href="#local-6989586621687866633"><span class="hs-identifier hs-var hs-var">getRootTypeName</span></a></span></span><span> </span><span id="local-6989586621687866636"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687866636"><span class="hs-identifier hs-var">defaultName</span></a></span></span><span> </span><span id="local-6989586621687866637"><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621687866637"><span class="hs-identifier hs-var">providedName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-120"></span><span>          </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621687866637"><span class="hs-identifier hs-var">providedName</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Name -&gt; Maybe Name -&gt; Maybe Name
forall a. Maybe a -&gt; Maybe a -&gt; Maybe a
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687866636"><span class="hs-identifier hs-var">defaultName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe (ObjectTypeDefinition RemoteSchemaInputValueDefinition)
-&gt; Maybe Name
forall a b. a -&gt; Maybe b -&gt; Maybe a
forall (f :: * -&gt; *) a b. Functor f =&gt; a -&gt; f b -&gt; f a
</span><span class="hs-operator hs-var">&lt;$</span></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaIntrospection
-&gt; Name
-&gt; Maybe (ObjectTypeDefinition RemoteSchemaInputValueDefinition)
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#lookupObject"><span class="hs-identifier hs-var">lookupObject</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaIntrospection
</span><a href="#local-6989586621687866626"><span class="hs-identifier hs-var">irDoc</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687866636"><span class="hs-identifier hs-var">defaultName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span>    </span><span class="hs-comment">-- Minimum valid information required to run schema generation for</span><span>
</span><span id="line-123"></span><span>    </span><span class="hs-comment">-- the remote schema.</span><span>
</span><span id="line-124"></span><span>    </span><span id="local-6989586621687866623"><span class="annot"><span class="annottext">minimumValidContext :: SchemaContext
</span><a href="#local-6989586621687866623"><span class="hs-identifier hs-var hs-var">minimumValidContext</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-125"></span><span>      </span><span class="annot"><span class="annottext">SchemaKind
-&gt; RemoteRelationshipParserBuilder
-&gt; RoleName
-&gt; SchemaSampledFeatureFlags
-&gt; SchemaContext
</span><a href="Hasura.GraphQL.Schema.Common.html#SchemaContext"><span class="hs-identifier hs-var">SchemaContext</span></a></span><span>
</span><span id="line-126"></span><span>        </span><span class="annot"><span class="annottext">SchemaKind
</span><a href="Hasura.GraphQL.Schema.Common.html#HasuraSchema"><span class="hs-identifier hs-var">HasuraSchema</span></a></span><span>
</span><span id="line-127"></span><span>        </span><span class="annot"><span class="annottext">RemoteRelationshipParserBuilder
</span><a href="Hasura.GraphQL.Schema.Common.html#ignoreRemoteRelationship"><span class="hs-identifier hs-var">ignoreRemoteRelationship</span></a></span><span>
</span><span id="line-128"></span><span>        </span><span class="annot"><span class="annottext">RoleName
</span><a href="Hasura.Authentication.Role.html#adminRoleName"><span class="hs-identifier hs-var">adminRoleName</span></a></span><span>
</span><span id="line-129"></span><span>        </span><span class="annot"><span class="annottext">SchemaSampledFeatureFlags
</span><a href="#local-6989586621687866588"><span class="hs-identifier hs-var">schemaSampledFeatureFlags</span></a></span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span class="annot"><span class="hs-comment">-- | Sends a GraphQL query to the given server.</span></span><span>
</span><span id="line-132"></span><span id="local-6989586621687865766"><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#execRemoteGQ"><span class="hs-identifier hs-type">execRemoteGQ</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-133"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621687865766"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-134"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">MonadError</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687865766"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-135"></span><span>    </span><span class="annot"><a href="Hasura.Tracing.Class.html#MonadTrace"><span class="hs-identifier hs-type">Tracing.MonadTrace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687865766"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-136"></span><span>    </span><span class="annot"><a href="Hasura.Services.Network.html#ProvidesNetwork"><span class="hs-identifier hs-type">ProvidesNetwork</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687865766"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-137"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-138"></span><span>  </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Environment.html/Data.Environment.html#Environment"><span class="hs-identifier hs-type">Env.Environment</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-139"></span><span>  </span><span class="annot"><a href="Hasura.Tracing.Propagator.html#HttpPropagator"><span class="hs-identifier hs-type">Tracing.HttpPropagator</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-140"></span><span>  </span><span class="annot"><a href="Hasura.Authentication.User.html#UserInfo"><span class="hs-identifier hs-type">UserInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-141"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/http-types-0.12.3-48808bff700213a8ec5159613d94db74ab5738412a48ffcd3e274142637b29eb/share/doc/html/src/Network.HTTP.Types.Header.html/Network.HTTP.Types.Header.html#Header"><span class="hs-identifier hs-type">HTTP.Header</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-142"></span><span>  </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#ValidatedRemoteSchemaDef"><span class="hs-identifier hs-type">ValidatedRemoteSchemaDef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-143"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.Transport.HTTP.Protocol.html#GQLReqOutgoing"><span class="hs-identifier hs-type">GQLReqOutgoing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-144"></span><span>  </span><span class="hs-comment">-- | Returns the response body and headers, along with the time taken for the</span><span>
</span><span id="line-145"></span><span>  </span><span class="hs-comment">-- HTTP request to complete</span><span>
</span><span id="line-146"></span><span>  </span><span class="annot"><a href="#local-6989586621687865766"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">DiffTime</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/http-types-0.12.3-48808bff700213a8ec5159613d94db74ab5738412a48ffcd3e274142637b29eb/share/doc/html/src/Network.HTTP.Types.Header.html/Network.HTTP.Types.Header.html#Header"><span class="hs-identifier hs-type">HTTP.Header</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BL.ByteString</span></span><span class="hs-special">)</span></span><span>
</span><span id="line-147"></span><span id="execRemoteGQ"><span class="annot"><span class="annottext">execRemoteGQ :: forall (m :: * -&gt; *).
(MonadIO m, MonadError QErr m, MonadTrace m, ProvidesNetwork m) =&gt;
Environment
-&gt; HttpPropagator
-&gt; UserInfo
-&gt; [Header]
-&gt; ValidatedRemoteSchemaDef
-&gt; GQLReqOutgoing
-&gt; m (DiffTime, [Header], ByteString)
</span><a href="Hasura.GraphQL.RemoteServer.html#execRemoteGQ"><span class="hs-identifier hs-var hs-var">execRemoteGQ</span></a></span></span><span> </span><span id="local-6989586621687866707"><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621687866707"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621687866708"><span class="annot"><span class="annottext">HttpPropagator
</span><a href="#local-6989586621687866708"><span class="hs-identifier hs-var">tracesPropagator</span></a></span></span><span> </span><span id="local-6989586621687866709"><span class="annot"><span class="annottext">UserInfo
</span><a href="#local-6989586621687866709"><span class="hs-identifier hs-var">userInfo</span></a></span></span><span> </span><span id="local-6989586621687866710"><span class="annot"><span class="annottext">[Header]
</span><a href="#local-6989586621687866710"><span class="hs-identifier hs-var">reqHdrs</span></a></span></span><span> </span><span id="local-6989586621687866711"><span class="annot"><span class="annottext">ValidatedRemoteSchemaDef
</span><a href="#local-6989586621687866711"><span class="hs-identifier hs-var">rsdef</span></a></span></span><span> </span><span id="local-6989586621687866712"><span class="annot"><span class="annottext">gqlReq :: GQLReqOutgoing
</span><a href="#local-6989586621687866712"><span class="hs-identifier hs-var">gqlReq</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Hasura.GraphQL.Transport.HTTP.Protocol.html#GQLReq"><span class="hs-identifier hs-type">GQLReq</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621687866714"><span id="local-6989586621687866715"><span id="local-6989586621687866716"><span class="annot"><span class="annottext">Maybe VariableValues
Maybe OperationName
SingleOperation
_grOperationName :: Maybe OperationName
_grQuery :: SingleOperation
_grVariables :: Maybe VariableValues
_grVariables :: forall a. GQLReq a -&gt; Maybe VariableValues
_grQuery :: forall a. GQLReq a -&gt; a
_grOperationName :: forall a. GQLReq a -&gt; Maybe OperationName
</span><a href="#local-6989586621687866714"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-148"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687866720"><span class="annot"><span class="annottext">gqlReqUnparsed :: GQLReqUnparsed
</span><a href="#local-6989586621687866720"><span class="hs-identifier hs-var hs-var hs-var">gqlReqUnparsed</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GQLReqOutgoing -&gt; GQLReqUnparsed
</span><a href="Hasura.GraphQL.Transport.HTTP.Protocol.html#renderGQLReqOutgoing"><span class="hs-identifier hs-var">renderGQLReqOutgoing</span></a></span><span> </span><span class="annot"><span class="annottext">GQLReqOutgoing
</span><a href="#local-6989586621687866712"><span class="hs-identifier hs-var">gqlReq</span></a></span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SingleOperation -&gt; OperationType
forall (frag :: * -&gt; *) var.
TypedOperationDefinition frag var -&gt; OperationType
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#_todType"><span class="hs-identifier hs-var">G._todType</span></a></span><span> </span><span class="annot"><span class="annottext">SingleOperation
</span><a href="#local-6989586621687866715"><span class="hs-identifier hs-var">_grQuery</span></a></span><span> </span><span class="annot"><span class="annottext">OperationType -&gt; OperationType -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">OperationType
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#OperationTypeSubscription"><span class="hs-identifier hs-var">G.OperationTypeSubscription</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-151"></span><span>    </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; m ()
forall (m :: * -&gt; *) a. QErrM m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchema"><span class="hs-identifier hs-var">throwRemoteSchema</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;subscription to remote server is not supported&quot;</span></span><span>
</span><span id="line-152"></span><span>  </span><span id="local-6989586621687866725"><span class="annot"><a href="#local-6989586621687866725"><span class="hs-identifier hs-var">confHdrs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Environment -&gt; [HeaderConf] -&gt; m [Header]
forall (m :: * -&gt; *).
MonadError QErr m =&gt;
Environment -&gt; [HeaderConf] -&gt; m [Header]
</span><a href="Hasura.RQL.DDL.Headers.html#makeHeadersFromConf"><span class="hs-identifier hs-var">makeHeadersFromConf</span></a></span><span> </span><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621687866707"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">[HeaderConf]
</span><a href="#local-6989586621687866726"><span class="hs-identifier hs-var">hdrConf</span></a></span><span>
</span><span id="line-153"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687866727"><span class="annot"><a href="#local-6989586621687866727"><span class="hs-identifier hs-var hs-var">clientHdrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Header] -&gt; [Header] -&gt; Bool -&gt; [Header]
forall a. a -&gt; a -&gt; Bool -&gt; a
</span><span class="hs-identifier hs-var">bool</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Header] -&gt; [Header]
</span><a href="Hasura.Authentication.Session.html#mkClientHeadersForward"><span class="hs-identifier hs-var">mkClientHeadersForward</span></a></span><span> </span><span class="annot"><span class="annottext">[Header]
</span><a href="#local-6989586621687866710"><span class="hs-identifier hs-var">reqHdrs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621687866729"><span class="hs-identifier hs-var">fwdClientHdrs</span></a></span><span>
</span><span id="line-154"></span><span>      </span><span class="hs-comment">-- filter out duplicate headers</span><span>
</span><span id="line-155"></span><span>      </span><span class="hs-comment">-- priority: conf headers &gt; resolved userinfo vars &gt; client headers</span><span>
</span><span id="line-156"></span><span>      </span><span id="local-6989586621687866730"><span class="annot"><a href="#local-6989586621687866730"><span class="hs-identifier hs-var hs-var">hdrMaps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-157"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">[Header] -&gt; HashMap HeaderName ByteString
forall k v. (Eq k, Hashable k) =&gt; [(k, v)] -&gt; HashMap k v
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/unordered-containers-0.2.20-6d56f9b3abc6011ddb6e237c415126423ab5ceb5c078221bba2ff80dbe921009/share/doc/html/src/Data.HashMap.Internal.Strict.html/Data.HashMap.Internal.Strict.html#fromList"><span class="hs-identifier hs-var">HashMap.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">[Header]
</span><a href="#local-6989586621687866725"><span class="hs-identifier hs-var">confHdrs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-158"></span><span>          </span><span class="annot"><span class="annottext">[Header] -&gt; HashMap HeaderName ByteString
forall k v. (Eq k, Hashable k) =&gt; [(k, v)] -&gt; HashMap k v
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/unordered-containers-0.2.20-6d56f9b3abc6011ddb6e237c415126423ab5ceb5c078221bba2ff80dbe921009/share/doc/html/src/Data.HashMap.Internal.Strict.html/Data.HashMap.Internal.Strict.html#fromList"><span class="hs-identifier hs-var">HashMap.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">[Header]
</span><a href="#local-6989586621687866732"><span class="hs-identifier hs-var">userInfoToHdrs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-159"></span><span>          </span><span class="annot"><span class="annottext">[Header] -&gt; HashMap HeaderName ByteString
forall k v. (Eq k, Hashable k) =&gt; [(k, v)] -&gt; HashMap k v
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/unordered-containers-0.2.20-6d56f9b3abc6011ddb6e237c415126423ab5ceb5c078221bba2ff80dbe921009/share/doc/html/src/Data.HashMap.Internal.Strict.html/Data.HashMap.Internal.Strict.html#fromList"><span class="hs-identifier hs-var">HashMap.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">[Header]
</span><a href="#local-6989586621687866727"><span class="hs-identifier hs-var">clientHdrs</span></a></span><span>
</span><span id="line-160"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-161"></span><span>      </span><span id="local-6989586621687866733"><span class="annot"><a href="#local-6989586621687866733"><span class="hs-identifier hs-var hs-var">headers</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HashMap HeaderName ByteString -&gt; [Header]
forall k v. HashMap k v -&gt; [(k, v)]
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/unordered-containers-0.2.20-6d56f9b3abc6011ddb6e237c415126423ab5ceb5c078221bba2ff80dbe921009/share/doc/html/src/Data.HashMap.Internal.html/Data.HashMap.Internal.html#toList"><span class="hs-identifier hs-var">HashMap.toList</span></a></span><span> </span><span class="annot"><span class="annottext">(HashMap HeaderName ByteString -&gt; [Header])
-&gt; HashMap HeaderName ByteString -&gt; [Header]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(HashMap HeaderName ByteString
 -&gt; HashMap HeaderName ByteString -&gt; HashMap HeaderName ByteString)
-&gt; HashMap HeaderName ByteString
-&gt; [HashMap HeaderName ByteString]
-&gt; HashMap HeaderName ByteString
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldr</span></span><span> </span><span class="annot"><span class="annottext">HashMap HeaderName ByteString
-&gt; HashMap HeaderName ByteString -&gt; HashMap HeaderName ByteString
forall k v. Eq k =&gt; HashMap k v -&gt; HashMap k v -&gt; HashMap k v
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/unordered-containers-0.2.20-6d56f9b3abc6011ddb6e237c415126423ab5ceb5c078221bba2ff80dbe921009/share/doc/html/src/Data.HashMap.Internal.html/Data.HashMap.Internal.html#union"><span class="hs-identifier hs-var">HashMap.union</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap HeaderName ByteString
forall k v. HashMap k v
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/unordered-containers-0.2.20-6d56f9b3abc6011ddb6e237c415126423ab5ceb5c078221bba2ff80dbe921009/share/doc/html/src/Data.HashMap.Internal.html/Data.HashMap.Internal.html#empty"><span class="hs-identifier hs-var">HashMap.empty</span></a></span><span> </span><span class="annot"><span class="annottext">[HashMap HeaderName ByteString]
</span><a href="#local-6989586621687866730"><span class="hs-identifier hs-var">hdrMaps</span></a></span><span>
</span><span id="line-162"></span><span>      </span><span id="local-6989586621687866738"><span class="annot"><a href="#local-6989586621687866738"><span class="hs-identifier hs-var hs-var">finalHeaders</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Header] -&gt; [Header]
</span><a href="Hasura.HTTP.html#addDefaultHeaders"><span class="hs-identifier hs-var">addDefaultHeaders</span></a></span><span> </span><span class="annot"><span class="annottext">[Header]
</span><a href="#local-6989586621687866733"><span class="hs-identifier hs-var">headers</span></a></span><span>
</span><span id="line-163"></span><span>  </span><span id="local-6989586621687866740"><span class="annot"><a href="#local-6989586621687866740"><span class="hs-identifier hs-var">initReq</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html/Hasura.Prelude.html#onLeft"><span class="hs-identifier hs-type">onLeft</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Network.HTTP.Client.Transformable.html/Network.HTTP.Client.Transformable.html#mkRequestEither"><span class="hs-identifier hs-type">HTTP.mkRequestEither</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html/Hasura.Prelude.html#tshow"><span class="hs-identifier hs-type">tshow</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687866743"><span class="hs-identifier hs-type">url</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchemaHttp"><span class="hs-identifier hs-type">throwRemoteSchemaHttp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687866745"><span class="hs-identifier hs-type">webhookEnvRecord</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-164"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687866746"><span class="annot"><a href="#local-6989586621687866746"><span class="hs-identifier hs-var hs-var">req</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-165"></span><span>        </span><span class="annot"><span class="annottext">Request
</span><a href="#local-6989586621687866740"><span class="hs-identifier hs-var">initReq</span></a></span><span>
</span><span id="line-166"></span><span>          </span><span class="annot"><span class="annottext">Request -&gt; (Request -&gt; Request) -&gt; Request
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">ASetter Request Request ByteString ByteString
-&gt; ByteString -&gt; Request -&gt; Request
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/lens-5.3.2-7ec14d641784087c1f1350eada3cde7884c62d1ab2707daec993ceeca3096d32/share/doc/html/src/Control.Lens.Setter.html/Control.Lens.Setter.html#set"><span class="hs-identifier hs-var">set</span></a></span><span> </span><span class="annot"><span class="annottext">ASetter Request Request ByteString ByteString
Lens' Request ByteString
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Network.HTTP.Client.Transformable.html/Network.HTTP.Client.Transformable.html#method"><span class="hs-identifier hs-var">HTTP.method</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;POST&quot;</span></span><span>
</span><span id="line-167"></span><span>          </span><span class="annot"><span class="annottext">Request -&gt; (Request -&gt; Request) -&gt; Request
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">ASetter Request Request [Header] [Header]
-&gt; [Header] -&gt; Request -&gt; Request
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/lens-5.3.2-7ec14d641784087c1f1350eada3cde7884c62d1ab2707daec993ceeca3096d32/share/doc/html/src/Control.Lens.Setter.html/Control.Lens.Setter.html#set"><span class="hs-identifier hs-var">set</span></a></span><span> </span><span class="annot"><span class="annottext">ASetter Request Request [Header] [Header]
Lens' Request [Header]
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Network.HTTP.Client.Transformable.html/Network.HTTP.Client.Transformable.html#headers"><span class="hs-identifier hs-var">HTTP.headers</span></a></span><span> </span><span class="annot"><span class="annottext">[Header]
</span><a href="#local-6989586621687866738"><span class="hs-identifier hs-var">finalHeaders</span></a></span><span>
</span><span id="line-168"></span><span>          </span><span class="annot"><span class="annottext">Request -&gt; (Request -&gt; Request) -&gt; Request
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">ASetter Request Request RequestBody RequestBody
-&gt; RequestBody -&gt; Request -&gt; Request
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/lens-5.3.2-7ec14d641784087c1f1350eada3cde7884c62d1ab2707daec993ceeca3096d32/share/doc/html/src/Control.Lens.Setter.html/Control.Lens.Setter.html#set"><span class="hs-identifier hs-var">set</span></a></span><span> </span><span class="annot"><span class="annottext">ASetter Request Request RequestBody RequestBody
Lens' Request RequestBody
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Network.HTTP.Client.Transformable.html/Network.HTTP.Client.Transformable.html#body"><span class="hs-identifier hs-var">HTTP.body</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; RequestBody
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/http-client-0.7.17-1b2133de2c2ce095aea721bc3d56fba68148ba6d3c4af69a01586f3a88b4e771/share/doc/html/src/Network.HTTP.Client.Types.html/Network.HTTP.Client.Types.html#RequestBodyLBS"><span class="hs-identifier hs-var">HTTP.RequestBodyLBS</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; RequestBody) -&gt; ByteString -&gt; RequestBody
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">GQLReqUnparsed -&gt; ByteString
forall a. ToJSON a =&gt; a -&gt; ByteString
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.html/Data.Aeson.html#encode"><span class="hs-identifier hs-var">J.encode</span></a></span><span> </span><span class="annot"><span class="annottext">GQLReqUnparsed
</span><a href="#local-6989586621687866720"><span class="hs-identifier hs-var">gqlReqUnparsed</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-169"></span><span>          </span><span class="annot"><span class="annottext">Request -&gt; (Request -&gt; Request) -&gt; Request
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">ASetter Request Request ResponseTimeout ResponseTimeout
-&gt; ResponseTimeout -&gt; Request -&gt; Request
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/lens-5.3.2-7ec14d641784087c1f1350eada3cde7884c62d1ab2707daec993ceeca3096d32/share/doc/html/src/Control.Lens.Setter.html/Control.Lens.Setter.html#set"><span class="hs-identifier hs-var">set</span></a></span><span> </span><span class="annot"><span class="annottext">ASetter Request Request ResponseTimeout ResponseTimeout
Lens' Request ResponseTimeout
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Network.HTTP.Client.Transformable.html/Network.HTTP.Client.Transformable.html#timeout"><span class="hs-identifier hs-var">HTTP.timeout</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; ResponseTimeout
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/http-client-0.7.17-1b2133de2c2ce095aea721bc3d56fba68148ba6d3c4af69a01586f3a88b4e771/share/doc/html/src/Network.HTTP.Client.html/Network.HTTP.Client.html#responseTimeoutMicro"><span class="hs-identifier hs-var">HTTP.responseTimeoutMicro</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621687866755"><span class="hs-identifier hs-var">timeout</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1000000</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-170"></span><span>
</span><span id="line-171"></span><span>  </span><span id="local-6989586621687866757"><span class="annot"><a href="#local-6989586621687866757"><span class="hs-identifier hs-var">manager</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Hasura.Services.Network.html#askHTTPManager"><span class="hs-identifier hs-type">askHTTPManager</span></a></span><span>
</span><span id="line-172"></span><span>  </span><span class="annot"><a href="Hasura.Tracing.Utils.html#traceHTTPRequest"><span class="hs-identifier hs-type">Tracing.traceHTTPRequest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687866708"><span class="hs-identifier hs-type">tracesPropagator</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687866746"><span class="hs-identifier hs-type">req</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621687866760"><span class="annot"><span class="annottext">Request
</span><a href="#local-6989586621687866760"><span class="hs-identifier hs-var">req'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-173"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621687866761"><span class="annot"><a href="#local-6989586621687866761"><span class="hs-identifier hs-var">time</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621687866762"><span class="annot"><a href="#local-6989586621687866762"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m (Either HttpException (Response ByteString))
-&gt; m (DiffTime, Either HttpException (Response ByteString))
forall (m :: * -&gt; *) a. MonadIO m =&gt; m a -&gt; m (DiffTime, a)
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html/Hasura.Prelude.html#withElapsedTime"><span class="hs-identifier hs-var">withElapsedTime</span></a></span><span> </span><span class="annot"><span class="annottext">(m (Either HttpException (Response ByteString))
 -&gt; m (DiffTime, Either HttpException (Response ByteString)))
-&gt; m (Either HttpException (Response ByteString))
-&gt; m (DiffTime, Either HttpException (Response ByteString))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IO (Either HttpException (Response ByteString))
-&gt; m (Either HttpException (Response ByteString))
forall a. IO a -&gt; m a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO (Either HttpException (Response ByteString))
 -&gt; m (Either HttpException (Response ByteString)))
-&gt; IO (Either HttpException (Response ByteString))
-&gt; m (Either HttpException (Response ByteString))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IO (Response ByteString)
-&gt; IO (Either HttpException (Response ByteString))
forall e a. Exception e =&gt; IO a -&gt; IO (Either e a)
</span><span class="hs-identifier hs-var">try</span></span><span> </span><span class="annot"><span class="annottext">(IO (Response ByteString)
 -&gt; IO (Either HttpException (Response ByteString)))
-&gt; IO (Response ByteString)
-&gt; IO (Either HttpException (Response ByteString))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Request -&gt; Manager -&gt; IO (Response ByteString)
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/http-client-0.7.17-1b2133de2c2ce095aea721bc3d56fba68148ba6d3c4af69a01586f3a88b4e771/share/doc/html/src/Network.HTTP.Client.Core.html/Network.HTTP.Client.Core.html#httpLbs"><span class="hs-identifier hs-var">HTTP.httpLbs</span></a></span><span> </span><span class="annot"><span class="annottext">Request
</span><a href="#local-6989586621687866760"><span class="hs-identifier hs-var">req'</span></a></span><span> </span><span class="annot"><span class="annottext">Manager
</span><a href="#local-6989586621687866757"><span class="hs-identifier hs-var">manager</span></a></span><span>
</span><span id="line-174"></span><span>    </span><span id="local-6989586621687866766"><span class="annot"><a href="#local-6989586621687866766"><span class="hs-identifier hs-var">resp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html/Hasura.Prelude.html#onLeft"><span class="hs-identifier hs-type">onLeft</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687866762"><span class="hs-identifier hs-type">res</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchemaHttp"><span class="hs-identifier hs-type">throwRemoteSchemaHttp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687866745"><span class="hs-identifier hs-type">webhookEnvRecord</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-175"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621687866761"><span class="hs-identifier hs-type">time</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.Authentication.Header.html#mkSetCookieHeaders"><span class="hs-identifier hs-type">mkSetCookieHeaders</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687866766"><span class="hs-identifier hs-type">resp</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621687866766"><span class="hs-identifier hs-type">resp</span></a></span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/lens-5.3.2-7ec14d641784087c1f1350eada3cde7884c62d1ab2707daec993ceeca3096d32/share/doc/html/src/Control.Lens.Getter.html/Control.Lens.Getter.html#%5E."><span class="hs-operator hs-type">^.</span></a></span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/wreq-0.5.4.3-486411c980bb5b91021902c1800ffcde9973c5c9a71e88013096ec79aec75234/share/doc/html/src/Network.Wreq.Lens.html/Network.Wreq.Lens.html#responseBody"><span class="hs-identifier hs-type">Wreq.responseBody</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-176"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-177"></span><span>    </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#ValidatedRemoteSchemaDef"><span class="hs-identifier hs-type">ValidatedRemoteSchemaDef</span></a></span><span> </span><span id="local-6989586621687866768"><span class="annot"><span class="annottext">RemoteSchemaName
</span><a href="#local-6989586621687866768"><span class="hs-identifier hs-var">_name</span></a></span></span><span> </span><span id="local-6989586621687866745"><span class="annot"><span class="annottext">EnvRecord URI
</span><a href="#local-6989586621687866745"><span class="hs-identifier hs-var">webhookEnvRecord</span></a></span></span><span> </span><span id="local-6989586621687866726"><span class="annot"><span class="annottext">[HeaderConf]
</span><a href="#local-6989586621687866726"><span class="hs-identifier hs-var">hdrConf</span></a></span></span><span> </span><span id="local-6989586621687866729"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621687866729"><span class="hs-identifier hs-var">fwdClientHdrs</span></a></span></span><span> </span><span id="local-6989586621687866755"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621687866755"><span class="hs-identifier hs-var">timeout</span></a></span></span><span> </span><span id="local-6989586621687866769"><span class="annot"><span class="annottext">Maybe RemoteSchemaCustomization
</span><a href="#local-6989586621687866769"><span class="hs-identifier hs-var">_mPrefix</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ValidatedRemoteSchemaDef
</span><a href="#local-6989586621687866711"><span class="hs-identifier hs-var">rsdef</span></a></span><span>
</span><span id="line-178"></span><span>    </span><span id="local-6989586621687866743"><span class="annot"><span class="annottext">url :: URI
</span><a href="#local-6989586621687866743"><span class="hs-identifier hs-var hs-var">url</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EnvRecord URI -&gt; URI
forall a. EnvRecord a -&gt; a
</span><a href="Hasura.RQL.Types.Common.html#_envVarValue"><span class="hs-identifier hs-var">_envVarValue</span></a></span><span> </span><span class="annot"><span class="annottext">EnvRecord URI
</span><a href="#local-6989586621687866745"><span class="hs-identifier hs-var">webhookEnvRecord</span></a></span><span>
</span><span id="line-179"></span><span>    </span><span id="local-6989586621687866732"><span class="annot"><span class="annottext">userInfoToHdrs :: [Header]
</span><a href="#local-6989586621687866732"><span class="hs-identifier hs-var hs-var">userInfoToHdrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SessionVariables -&gt; [Header]
</span><a href="Hasura.Authentication.Session.html#sessionVariablesToHeaders"><span class="hs-identifier hs-var">sessionVariablesToHeaders</span></a></span><span> </span><span class="annot"><span class="annottext">(SessionVariables -&gt; [Header]) -&gt; SessionVariables -&gt; [Header]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">UserInfo -&gt; SessionVariables
</span><a href="Hasura.Authentication.User.html#_uiSession"><span class="hs-identifier hs-var">_uiSession</span></a></span><span> </span><span class="annot"><span class="annottext">UserInfo
</span><a href="#local-6989586621687866709"><span class="hs-identifier hs-var">userInfo</span></a></span><span>
</span><span id="line-180"></span><span>
</span><span id="line-181"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-182"></span><span class="hs-comment">-- Validation</span><span>
</span><span id="line-183"></span><span>
</span><span id="line-184"></span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#validateSchemaCustomizations"><span class="hs-identifier hs-type">validateSchemaCustomizations</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-185"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621687865830"><span class="annot"><a href="#local-6989586621687865830"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-186"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadError</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687865830"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-187"></span><span>  </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#RemoteSchemaCustomizer"><span class="hs-identifier hs-type">RemoteSchemaCustomizer</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-188"></span><span>  </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#RemoteSchemaIntrospection"><span class="hs-identifier hs-type">RemoteSchemaIntrospection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-189"></span><span>  </span><span class="annot"><a href="#local-6989586621687865830"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-190"></span><span id="validateSchemaCustomizations"><span class="annot"><span class="annottext">validateSchemaCustomizations :: forall (m :: * -&gt; *).
MonadError QErr m =&gt;
RemoteSchemaCustomizer -&gt; RemoteSchemaIntrospection -&gt; m ()
</span><a href="Hasura.GraphQL.RemoteServer.html#validateSchemaCustomizations"><span class="hs-identifier hs-var hs-var">validateSchemaCustomizations</span></a></span></span><span> </span><span id="local-6989586621687866777"><span class="annot"><span class="annottext">RemoteSchemaCustomizer
</span><a href="#local-6989586621687866777"><span class="hs-identifier hs-var">remoteSchemaCustomizer</span></a></span></span><span> </span><span id="local-6989586621687866778"><span class="annot"><span class="annottext">RemoteSchemaIntrospection
</span><a href="#local-6989586621687866778"><span class="hs-identifier hs-var">remoteSchemaIntrospection</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-191"></span><span>  </span><span class="annot"><span class="annottext">RemoteSchemaCustomizer -&gt; RemoteSchemaIntrospection -&gt; m ()
forall (m :: * -&gt; *).
MonadError QErr m =&gt;
RemoteSchemaCustomizer -&gt; RemoteSchemaIntrospection -&gt; m ()
</span><a href="Hasura.GraphQL.RemoteServer.html#validateSchemaCustomizationsConsistent"><span class="hs-identifier hs-var">validateSchemaCustomizationsConsistent</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaCustomizer
</span><a href="#local-6989586621687866777"><span class="hs-identifier hs-var">remoteSchemaCustomizer</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaIntrospection
</span><a href="#local-6989586621687866778"><span class="hs-identifier hs-var">remoteSchemaIntrospection</span></a></span><span>
</span><span id="line-192"></span><span>  </span><span class="annot"><span class="annottext">RemoteSchemaCustomizer -&gt; RemoteSchemaIntrospection -&gt; m ()
forall (m :: * -&gt; *).
MonadError QErr m =&gt;
RemoteSchemaCustomizer -&gt; RemoteSchemaIntrospection -&gt; m ()
</span><a href="Hasura.GraphQL.RemoteServer.html#validateSchemaCustomizationsDistinct"><span class="hs-identifier hs-var">validateSchemaCustomizationsDistinct</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaCustomizer
</span><a href="#local-6989586621687866777"><span class="hs-identifier hs-var">remoteSchemaCustomizer</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaIntrospection
</span><a href="#local-6989586621687866778"><span class="hs-identifier hs-var">remoteSchemaIntrospection</span></a></span><span>
</span><span id="line-193"></span><span>
</span><span id="line-194"></span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#validateSchemaCustomizationsConsistent"><span class="hs-identifier hs-type">validateSchemaCustomizationsConsistent</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-195"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621687866781"><span class="annot"><a href="#local-6989586621687866781"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-196"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadError</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687866781"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-197"></span><span>  </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#RemoteSchemaCustomizer"><span class="hs-identifier hs-type">RemoteSchemaCustomizer</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-198"></span><span>  </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#RemoteSchemaIntrospection"><span class="hs-identifier hs-type">RemoteSchemaIntrospection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-199"></span><span>  </span><span class="annot"><a href="#local-6989586621687866781"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-200"></span><span id="validateSchemaCustomizationsConsistent"><span class="annot"><span class="annottext">validateSchemaCustomizationsConsistent :: forall (m :: * -&gt; *).
MonadError QErr m =&gt;
RemoteSchemaCustomizer -&gt; RemoteSchemaIntrospection -&gt; m ()
</span><a href="Hasura.GraphQL.RemoteServer.html#validateSchemaCustomizationsConsistent"><span class="hs-identifier hs-var hs-var">validateSchemaCustomizationsConsistent</span></a></span></span><span> </span><span id="local-6989586621687866788"><span class="annot"><span class="annottext">RemoteSchemaCustomizer
</span><a href="#local-6989586621687866788"><span class="hs-identifier hs-var">remoteSchemaCustomizer</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#RemoteSchemaIntrospection"><span class="hs-identifier hs-type">RemoteSchemaIntrospection</span></a></span><span> </span><span id="local-6989586621687866790"><span class="annot"><span class="annottext">HashMap
  Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
</span><a href="#local-6989586621687866790"><span class="hs-identifier hs-var">typeDefinitions</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-201"></span><span>  </span><span class="annot"><span class="annottext">(TypeDefinition [Name] RemoteSchemaInputValueDefinition -&gt; m ())
-&gt; HashMap
     Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
-&gt; m ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f ()
</span><span class="hs-identifier hs-var">traverse_</span></span><span> </span><span class="annot"><span class="annottext">TypeDefinition [Name] RemoteSchemaInputValueDefinition -&gt; m ()
forall a. TypeDefinition [Name] a -&gt; m ()
</span><a href="#local-6989586621687866792"><span class="hs-identifier hs-var">validateInterfaceFields</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap
  Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
</span><a href="#local-6989586621687866790"><span class="hs-identifier hs-var">typeDefinitions</span></a></span><span>
</span><span id="line-202"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-203"></span><span>    </span><span id="local-6989586621687866793"><span class="annot"><span class="annottext">customizeFieldName :: CustomizeRemoteFieldName
</span><a href="#local-6989586621687866793"><span class="hs-identifier hs-var hs-var">customizeFieldName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RemoteSchemaCustomizer -&gt; CustomizeRemoteFieldName
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#remoteSchemaCustomizeFieldName"><span class="hs-identifier hs-var">remoteSchemaCustomizeFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaCustomizer
</span><a href="#local-6989586621687866788"><span class="hs-identifier hs-var">remoteSchemaCustomizer</span></a></span><span>
</span><span id="line-204"></span><span>
</span><span id="line-205"></span><span>    </span><span id="local-6989586621687865946"><span class="annot"><a href="#local-6989586621687866792"><span class="hs-identifier hs-type">validateInterfaceFields</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#TypeDefinition"><span class="hs-identifier hs-type">G.TypeDefinition</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.Name.html/Language.GraphQL.Draft.Syntax.Name.html#Name"><span class="hs-identifier hs-type">G.Name</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621687865946"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621687866781"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-206"></span><span>    </span><span id="local-6989586621687866792"><span class="annot"><span class="annottext">validateInterfaceFields :: forall a. TypeDefinition [Name] a -&gt; m ()
</span><a href="#local-6989586621687866792"><span class="hs-identifier hs-var hs-var">validateInterfaceFields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-207"></span><span>      </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#TypeDefinitionInterface"><span class="hs-identifier hs-type">G.TypeDefinitionInterface</span></a></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#InterfaceTypeDefinition"><span class="hs-identifier hs-type">G.InterfaceTypeDefinition</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621687866823"><span id="local-6989586621687866824"><span id="local-6989586621687866825"><span id="local-6989586621687866826"><span id="local-6989586621687866827"><span class="annot"><span class="annottext">[Name]
[FieldDefinition a]
[Directive Void]
Maybe Description
Name
_itdDescription :: Maybe Description
_itdName :: Name
_itdDirectives :: [Directive Void]
_itdFieldsDefinition :: [FieldDefinition a]
_itdPossibleTypes :: [Name]
_itdPossibleTypes :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; possibleTypes
_itdFieldsDefinition :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType
-&gt; [FieldDefinition inputType]
_itdDirectives :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; [Directive Void]
_itdName :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; Name
_itdDescription :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType
-&gt; Maybe Description
</span><a href="#local-6989586621687866823"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-208"></span><span>        </span><span class="annot"><span class="annottext">[Name] -&gt; (Name -&gt; m ()) -&gt; m ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span><span class="hs-identifier hs-var">for_</span></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621687866827"><span class="hs-identifier hs-var">_itdPossibleTypes</span></a></span><span> </span><span class="annot"><span class="annottext">((Name -&gt; m ()) -&gt; m ()) -&gt; (Name -&gt; m ()) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621687866834"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687866834"><span class="hs-identifier hs-var">typeName</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-209"></span><span>          </span><span class="annot"><span class="annottext">[FieldDefinition a] -&gt; (FieldDefinition a -&gt; m ()) -&gt; m ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span><span class="hs-identifier hs-var">for_</span></span><span> </span><span class="annot"><span class="annottext">[FieldDefinition a]
</span><a href="#local-6989586621687866826"><span class="hs-identifier hs-var">_itdFieldsDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">((FieldDefinition a -&gt; m ()) -&gt; m ())
-&gt; (FieldDefinition a -&gt; m ()) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#FieldDefinition"><span class="hs-identifier hs-type">G.FieldDefinition</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621687866836"><span id="local-6989586621687866837"><span id="local-6989586621687866838"><span id="local-6989586621687866839"><span id="local-6989586621687866840"><span class="annot"><span class="annottext">ArgumentsDefinition a
[Directive Void]
Maybe Description
Name
GType
_fldDescription :: Maybe Description
_fldName :: Name
_fldArgumentsDefinition :: ArgumentsDefinition a
_fldType :: GType
_fldDirectives :: [Directive Void]
_fldDirectives :: forall inputType. FieldDefinition inputType -&gt; [Directive Void]
_fldType :: forall inputType. FieldDefinition inputType -&gt; GType
_fldArgumentsDefinition :: forall inputType.
FieldDefinition inputType -&gt; ArgumentsDefinition inputType
_fldName :: forall inputType. FieldDefinition inputType -&gt; Name
_fldDescription :: forall inputType. FieldDefinition inputType -&gt; Maybe Description
</span><a href="#local-6989586621687866836"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-210"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687866846"><span class="annot"><span class="annottext">interfaceCustomizedFieldName :: Name
</span><a href="#local-6989586621687866846"><span class="hs-identifier hs-var hs-var">interfaceCustomizedFieldName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CustomizeRemoteFieldName -&gt; Name -&gt; Name -&gt; Name
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#runCustomizeRemoteFieldName"><span class="hs-identifier hs-var">runCustomizeRemoteFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">CustomizeRemoteFieldName
</span><a href="#local-6989586621687866793"><span class="hs-identifier hs-var">customizeFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687866824"><span class="hs-identifier hs-var">_itdName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687866837"><span class="hs-identifier hs-var">_fldName</span></a></span><span>
</span><span id="line-211"></span><span>                </span><span id="local-6989586621687866848"><span class="annot"><span class="annottext">typeCustomizedFieldName :: Name
</span><a href="#local-6989586621687866848"><span class="hs-identifier hs-var hs-var">typeCustomizedFieldName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CustomizeRemoteFieldName -&gt; Name -&gt; Name -&gt; Name
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#runCustomizeRemoteFieldName"><span class="hs-identifier hs-var">runCustomizeRemoteFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">CustomizeRemoteFieldName
</span><a href="#local-6989586621687866793"><span class="hs-identifier hs-var">customizeFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687866834"><span class="hs-identifier hs-var">typeName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687866837"><span class="hs-identifier hs-var">_fldName</span></a></span><span>
</span><span id="line-212"></span><span>            </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687866846"><span class="hs-identifier hs-var">interfaceCustomizedFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687866848"><span class="hs-identifier hs-var">typeCustomizedFieldName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-213"></span><span>              </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; m ()
forall (m :: * -&gt; *) a. QErrM m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchema"><span class="hs-identifier hs-var">throwRemoteSchema</span></a></span><span>
</span><span id="line-214"></span><span>              </span><span class="annot"><span class="annottext">(Text -&gt; m ()) -&gt; Text -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Remote schema customization inconsistency: field name mapping for field &quot;</span></span><span>
</span><span id="line-215"></span><span>              </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687866837"><span class="hs-identifier hs-var">_fldName</span></a></span><span>
</span><span id="line-216"></span><span>              </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html/Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; of interface &quot;</span></span><span>
</span><span id="line-217"></span><span>              </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687866824"><span class="hs-identifier hs-var">_itdName</span></a></span><span>
</span><span id="line-218"></span><span>              </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html/Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; is inconsistent with mapping for type &quot;</span></span><span>
</span><span id="line-219"></span><span>              </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687866834"><span class="hs-identifier hs-var">typeName</span></a></span><span>
</span><span id="line-220"></span><span>              </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html/Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;. Interface field name maps to &quot;</span></span><span>
</span><span id="line-221"></span><span>              </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687866846"><span class="hs-identifier hs-var">interfaceCustomizedFieldName</span></a></span><span>
</span><span id="line-222"></span><span>              </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html/Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;. Type field name maps to &quot;</span></span><span>
</span><span id="line-223"></span><span>              </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687866848"><span class="hs-identifier hs-var">typeCustomizedFieldName</span></a></span><span>
</span><span id="line-224"></span><span>              </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html/Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;.&quot;</span></span><span>
</span><span id="line-225"></span><span>      </span><span class="annot"><span class="annottext">TypeDefinition [Name] a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; m ()
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-226"></span><span>
</span><span id="line-227"></span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#validateSchemaCustomizationsDistinct"><span class="hs-identifier hs-type">validateSchemaCustomizationsDistinct</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-228"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621687866850"><span class="annot"><a href="#local-6989586621687866850"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-229"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadError</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687866850"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-230"></span><span>  </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#RemoteSchemaCustomizer"><span class="hs-identifier hs-type">RemoteSchemaCustomizer</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-231"></span><span>  </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#RemoteSchemaIntrospection"><span class="hs-identifier hs-type">RemoteSchemaIntrospection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-232"></span><span>  </span><span class="annot"><a href="#local-6989586621687866850"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-233"></span><span id="validateSchemaCustomizationsDistinct"><span class="annot"><span class="annottext">validateSchemaCustomizationsDistinct :: forall (m :: * -&gt; *).
MonadError QErr m =&gt;
RemoteSchemaCustomizer -&gt; RemoteSchemaIntrospection -&gt; m ()
</span><a href="Hasura.GraphQL.RemoteServer.html#validateSchemaCustomizationsDistinct"><span class="hs-identifier hs-var hs-var">validateSchemaCustomizationsDistinct</span></a></span></span><span> </span><span id="local-6989586621687866867"><span class="annot"><span class="annottext">RemoteSchemaCustomizer
</span><a href="#local-6989586621687866867"><span class="hs-identifier hs-var">remoteSchemaCustomizer</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#RemoteSchemaIntrospection"><span class="hs-identifier hs-type">RemoteSchemaIntrospection</span></a></span><span> </span><span id="local-6989586621687866868"><span class="annot"><span class="annottext">HashMap
  Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
</span><a href="#local-6989586621687866868"><span class="hs-identifier hs-var">typeDefinitions</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-234"></span><span>  </span><span class="annot"><span class="annottext">m ()
</span><a href="#local-6989586621687866869"><span class="hs-identifier hs-var">validateTypeMappingsAreDistinct</span></a></span><span>
</span><span id="line-235"></span><span>  </span><span class="annot"><span class="annottext">(TypeDefinition [Name] RemoteSchemaInputValueDefinition -&gt; m ())
-&gt; HashMap
     Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
-&gt; m ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f ()
</span><span class="hs-identifier hs-var">traverse_</span></span><span> </span><span class="annot"><span class="annottext">TypeDefinition [Name] RemoteSchemaInputValueDefinition -&gt; m ()
forall a b. TypeDefinition a b -&gt; m ()
</span><a href="#local-6989586621687866870"><span class="hs-identifier hs-var">validateFieldMappingsAreDistinct</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap
  Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
</span><a href="#local-6989586621687866868"><span class="hs-identifier hs-var">typeDefinitions</span></a></span><span>
</span><span id="line-236"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-237"></span><span>    </span><span id="local-6989586621687866871"><span class="annot"><span class="annottext">customizeTypeName :: MkTypename
</span><a href="#local-6989586621687866871"><span class="hs-identifier hs-var hs-var">customizeTypeName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RemoteSchemaCustomizer -&gt; MkTypename
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#remoteSchemaCustomizeTypeName"><span class="hs-identifier hs-var">remoteSchemaCustomizeTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaCustomizer
</span><a href="#local-6989586621687866867"><span class="hs-identifier hs-var">remoteSchemaCustomizer</span></a></span><span>
</span><span id="line-238"></span><span>    </span><span id="local-6989586621687866873"><span class="annot"><span class="annottext">customizeFieldName :: Name -&gt; Name -&gt; Name
</span><a href="#local-6989586621687866873"><span class="hs-identifier hs-var hs-var">customizeFieldName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CustomizeRemoteFieldName -&gt; Name -&gt; Name -&gt; Name
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#runCustomizeRemoteFieldName"><span class="hs-identifier hs-var">runCustomizeRemoteFieldName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RemoteSchemaCustomizer -&gt; CustomizeRemoteFieldName
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#remoteSchemaCustomizeFieldName"><span class="hs-identifier hs-var">remoteSchemaCustomizeFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaCustomizer
</span><a href="#local-6989586621687866867"><span class="hs-identifier hs-var">remoteSchemaCustomizer</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-239"></span><span>
</span><span id="line-240"></span><span>    </span><span class="annot"><a href="#local-6989586621687866869"><span class="hs-identifier hs-type">validateTypeMappingsAreDistinct</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621687866850"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-241"></span><span>    </span><span id="local-6989586621687866869"><span class="annot"><span class="annottext">validateTypeMappingsAreDistinct :: m ()
</span><a href="#local-6989586621687866869"><span class="hs-identifier hs-var hs-var">validateTypeMappingsAreDistinct</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-242"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687866874"><span class="annot"><span class="annottext">dups :: HashSet Name
</span><a href="#local-6989586621687866874"><span class="hs-identifier hs-var hs-var">dups</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; HashSet Name
forall a. Hashable a =&gt; [a] -&gt; HashSet a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.List.Extended.html/Data.List.Extended.html#duplicates"><span class="hs-identifier hs-var">duplicates</span></a></span><span> </span><span class="annot"><span class="annottext">([Name] -&gt; HashSet Name) -&gt; [Name] -&gt; HashSet Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">MkTypename -&gt; Name -&gt; Name
</span><a href="Hasura.GraphQL.Schema.Typename.html#runMkTypename"><span class="hs-identifier hs-var">runMkTypename</span></a></span><span> </span><span class="annot"><span class="annottext">MkTypename
</span><a href="#local-6989586621687866871"><span class="hs-identifier hs-var">customizeTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Name) -&gt; [Name] -&gt; [Name]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashMap
  Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
-&gt; [Name]
forall k v. HashMap k v -&gt; [k]
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/unordered-containers-0.2.20-6d56f9b3abc6011ddb6e237c415126423ab5ceb5c078221bba2ff80dbe921009/share/doc/html/src/Data.HashMap.Internal.html/Data.HashMap.Internal.html#keys"><span class="hs-identifier hs-var">HashMap.keys</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap
  Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
</span><a href="#local-6989586621687866868"><span class="hs-identifier hs-var">typeDefinitions</span></a></span><span>
</span><span id="line-243"></span><span>      </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HashSet Name -&gt; Bool
forall a. HashSet a -&gt; Bool
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/unordered-containers-0.2.20-6d56f9b3abc6011ddb6e237c415126423ab5ceb5c078221bba2ff80dbe921009/share/doc/html/src/Data.HashSet.Internal.html/Data.HashSet.Internal.html#null"><span class="hs-identifier hs-var">Set.null</span></a></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621687866874"><span class="hs-identifier hs-var">dups</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-244"></span><span>        </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; m ()
forall (m :: * -&gt; *) a. QErrM m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchema"><span class="hs-identifier hs-var">throwRemoteSchema</span></a></span><span>
</span><span id="line-245"></span><span>        </span><span class="annot"><span class="annottext">(Text -&gt; m ()) -&gt; Text -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Type name mappings are not distinct; the following types appear more than once: &quot;</span></span><span>
</span><span id="line-246"></span><span>        </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name -&gt; Text
forall t (f :: * -&gt; *). (ToTxt t, Foldable f) =&gt; f t -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html/Data.Text.Extended.html#dquoteList"><span class="hs-identifier hs-var">dquoteList</span></a></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621687866874"><span class="hs-identifier hs-var">dups</span></a></span><span>
</span><span id="line-247"></span><span>
</span><span id="line-248"></span><span>    </span><span id="local-6989586621687865977"><span id="local-6989586621687865978"><span class="annot"><a href="#local-6989586621687866870"><span class="hs-identifier hs-type">validateFieldMappingsAreDistinct</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#TypeDefinition"><span class="hs-identifier hs-type">G.TypeDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687865977"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687865978"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621687866850"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-249"></span><span>    </span><span id="local-6989586621687866870"><span class="annot"><span class="annottext">validateFieldMappingsAreDistinct :: forall a b. TypeDefinition a b -&gt; m ()
</span><a href="#local-6989586621687866870"><span class="hs-identifier hs-var hs-var">validateFieldMappingsAreDistinct</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-250"></span><span>      </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#TypeDefinitionInterface"><span class="hs-identifier hs-type">G.TypeDefinitionInterface</span></a></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#InterfaceTypeDefinition"><span class="hs-identifier hs-type">G.InterfaceTypeDefinition</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621687866903"><span id="local-6989586621687866904"><span id="local-6989586621687866905"><span id="local-6989586621687866906"><span id="local-6989586621687866907"><span class="annot"><span class="annottext">a
[FieldDefinition b]
[Directive Void]
Maybe Description
Name
_itdPossibleTypes :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; possibleTypes
_itdFieldsDefinition :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType
-&gt; [FieldDefinition inputType]
_itdDirectives :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; [Directive Void]
_itdName :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; Name
_itdDescription :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType
-&gt; Maybe Description
_itdDescription :: Maybe Description
_itdName :: Name
_itdDirectives :: [Directive Void]
_itdFieldsDefinition :: [FieldDefinition b]
_itdPossibleTypes :: a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#_itdPossibleTypes"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-251"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687866908"><span class="annot"><span class="annottext">dups :: HashSet Name
</span><a href="#local-6989586621687866908"><span class="hs-identifier hs-var hs-var">dups</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; HashSet Name
forall a. Hashable a =&gt; [a] -&gt; HashSet a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.List.Extended.html/Data.List.Extended.html#duplicates"><span class="hs-identifier hs-var">duplicates</span></a></span><span> </span><span class="annot"><span class="annottext">([Name] -&gt; HashSet Name) -&gt; [Name] -&gt; HashSet Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Name
</span><a href="#local-6989586621687866873"><span class="hs-identifier hs-var">customizeFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687866904"><span class="hs-identifier hs-var">_itdName</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Name)
-&gt; (FieldDefinition b -&gt; Name) -&gt; FieldDefinition b -&gt; Name
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">FieldDefinition b -&gt; Name
forall inputType. FieldDefinition inputType -&gt; Name
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#_fldName"><span class="hs-identifier hs-var">G._fldName</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldDefinition b -&gt; Name) -&gt; [FieldDefinition b] -&gt; [Name]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[FieldDefinition b]
</span><a href="#local-6989586621687866906"><span class="hs-identifier hs-var">_itdFieldsDefinition</span></a></span><span>
</span><span id="line-252"></span><span>        </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HashSet Name -&gt; Bool
forall a. HashSet a -&gt; Bool
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/unordered-containers-0.2.20-6d56f9b3abc6011ddb6e237c415126423ab5ceb5c078221bba2ff80dbe921009/share/doc/html/src/Data.HashSet.Internal.html/Data.HashSet.Internal.html#null"><span class="hs-identifier hs-var">Set.null</span></a></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621687866908"><span class="hs-identifier hs-var">dups</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-253"></span><span>          </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; m ()
forall (m :: * -&gt; *) a. QErrM m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchema"><span class="hs-identifier hs-var">throwRemoteSchema</span></a></span><span>
</span><span id="line-254"></span><span>          </span><span class="annot"><span class="annottext">(Text -&gt; m ()) -&gt; Text -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Field name mappings for interface type &quot;</span></span><span>
</span><span id="line-255"></span><span>          </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687866904"><span class="hs-identifier hs-var">_itdName</span></a></span><span>
</span><span id="line-256"></span><span>          </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html/Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; are not distinct; the following fields appear more than once: &quot;</span></span><span>
</span><span id="line-257"></span><span>          </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name -&gt; Text
forall t (f :: * -&gt; *). (ToTxt t, Foldable f) =&gt; f t -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html/Data.Text.Extended.html#dquoteList"><span class="hs-identifier hs-var">dquoteList</span></a></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621687866908"><span class="hs-identifier hs-var">dups</span></a></span><span>
</span><span id="line-258"></span><span>      </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#TypeDefinitionObject"><span class="hs-identifier hs-type">G.TypeDefinitionObject</span></a></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#ObjectTypeDefinition"><span class="hs-identifier hs-type">G.ObjectTypeDefinition</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621687866911"><span id="local-6989586621687866912"><span id="local-6989586621687866913"><span id="local-6989586621687866914"><span id="local-6989586621687866915"><span class="annot"><span class="annottext">[Name]
[FieldDefinition b]
[Directive Void]
Maybe Description
Name
_otdDescription :: Maybe Description
_otdName :: Name
_otdImplementsInterfaces :: [Name]
_otdDirectives :: [Directive Void]
_otdFieldsDefinition :: [FieldDefinition b]
_otdFieldsDefinition :: forall inputType.
ObjectTypeDefinition inputType -&gt; [FieldDefinition inputType]
_otdDirectives :: forall inputType.
ObjectTypeDefinition inputType -&gt; [Directive Void]
_otdImplementsInterfaces :: forall inputType. ObjectTypeDefinition inputType -&gt; [Name]
_otdName :: forall inputType. ObjectTypeDefinition inputType -&gt; Name
_otdDescription :: forall inputType.
ObjectTypeDefinition inputType -&gt; Maybe Description
</span><a href="#local-6989586621687866911"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-259"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687866921"><span class="annot"><span class="annottext">dups :: HashSet Name
</span><a href="#local-6989586621687866921"><span class="hs-identifier hs-var hs-var">dups</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; HashSet Name
forall a. Hashable a =&gt; [a] -&gt; HashSet a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.List.Extended.html/Data.List.Extended.html#duplicates"><span class="hs-identifier hs-var">duplicates</span></a></span><span> </span><span class="annot"><span class="annottext">([Name] -&gt; HashSet Name) -&gt; [Name] -&gt; HashSet Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Name
</span><a href="#local-6989586621687866873"><span class="hs-identifier hs-var">customizeFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687866912"><span class="hs-identifier hs-var">_otdName</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Name)
-&gt; (FieldDefinition b -&gt; Name) -&gt; FieldDefinition b -&gt; Name
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">FieldDefinition b -&gt; Name
forall inputType. FieldDefinition inputType -&gt; Name
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#_fldName"><span class="hs-identifier hs-var">G._fldName</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldDefinition b -&gt; Name) -&gt; [FieldDefinition b] -&gt; [Name]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[FieldDefinition b]
</span><a href="#local-6989586621687866915"><span class="hs-identifier hs-var">_otdFieldsDefinition</span></a></span><span>
</span><span id="line-260"></span><span>        </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HashSet Name -&gt; Bool
forall a. HashSet a -&gt; Bool
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/unordered-containers-0.2.20-6d56f9b3abc6011ddb6e237c415126423ab5ceb5c078221bba2ff80dbe921009/share/doc/html/src/Data.HashSet.Internal.html/Data.HashSet.Internal.html#null"><span class="hs-identifier hs-var">Set.null</span></a></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621687866921"><span class="hs-identifier hs-var">dups</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-261"></span><span>          </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; m ()
forall (m :: * -&gt; *) a. QErrM m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchema"><span class="hs-identifier hs-var">throwRemoteSchema</span></a></span><span>
</span><span id="line-262"></span><span>          </span><span class="annot"><span class="annottext">(Text -&gt; m ()) -&gt; Text -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Field name mappings for object type &quot;</span></span><span>
</span><span id="line-263"></span><span>          </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687866912"><span class="hs-identifier hs-var">_otdName</span></a></span><span>
</span><span id="line-264"></span><span>          </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html/Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; are not distinct; the following fields appear more than once: &quot;</span></span><span>
</span><span id="line-265"></span><span>          </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name -&gt; Text
forall t (f :: * -&gt; *). (ToTxt t, Foldable f) =&gt; f t -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html/Data.Text.Extended.html#dquoteList"><span class="hs-identifier hs-var">dquoteList</span></a></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621687866921"><span class="hs-identifier hs-var">dups</span></a></span><span>
</span><span id="line-266"></span><span>      </span><span class="annot"><span class="annottext">TypeDefinition a b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; m ()
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-267"></span><span>
</span><span id="line-268"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-269"></span><span class="hs-comment">-- Introspection</span><span>
</span><span id="line-270"></span><span>
</span><span id="line-271"></span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#introspectionQuery"><span class="hs-identifier hs-type">introspectionQuery</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Transport.HTTP.Protocol.html#GQLReqOutgoing"><span class="hs-identifier hs-type">GQLReqOutgoing</span></a></span><span>
</span><span id="line-272"></span><span id="introspectionQuery"><span class="annot"><span class="annottext">introspectionQuery :: GQLReqOutgoing
</span><a href="Hasura.GraphQL.RemoteServer.html#introspectionQuery"><span class="hs-identifier hs-var hs-var">introspectionQuery</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-273"></span><span>  </span><span class="hs-special">$</span><span class="hs-special">(</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-274"></span><span>       </span><span id="local-6989586621687866937"><span class="annot"><a href="#local-6989586621687866937"><span class="hs-identifier hs-var">fp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/file-embed-0.0.15.0-515808e58f03d959385c4d19dcff901545fbbb17eb4c8312a46b66f913b925ab/share/doc/html/src/Data.FileEmbed.html/Data.FileEmbed.html#makeRelativeToProject"><span class="hs-identifier hs-type">makeRelativeToProject</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;src-rsr/introspection.json&quot;</span></span><span>
</span><span id="line-275"></span><span>       </span><span class="annot"><span class="hs-identifier hs-type">TH.qAddDependentFile</span></span><span> </span><span class="annot"><a href="#local-6989586621687866937"><span class="hs-identifier hs-type">fp</span></a></span><span>
</span><span id="line-276"></span><span>       </span><span id="local-6989586621687866939"><span class="annot"><a href="#local-6989586621687866939"><span class="hs-identifier hs-var">eitherResult</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.runIO</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.html/Data.Aeson.html#eitherDecodeFileStrict"><span class="hs-identifier hs-type">J.eitherDecodeFileStrict</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687866937"><span class="hs-identifier hs-type">fp</span></a></span><span>
</span><span id="line-277"></span><span>       </span><span class="annot"><span class="hs-identifier hs-type">either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">fail</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.lift</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-278"></span><span>         </span><span id="local-6989586621687866943"><span class="annot"><a href="#local-6989586621687866943"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Hasura.GraphQL.Transport.HTTP.Protocol.html#GQLReq"><span class="hs-identifier hs-type">GQLReq</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621687866944"><span id="local-6989586621687866945"><span id="local-6989586621687866946"><span class="annot"><a href="Hasura.GraphQL.Transport.HTTP.Protocol.html#_grVariables"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621687866939"><span class="hs-identifier hs-type">eitherResult</span></a></span><span>
</span><span id="line-279"></span><span>         </span><span id="local-6989586621687866947"><span class="annot"><a href="#local-6989586621687866947"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">T.unpack</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#showQErr"><span class="hs-identifier hs-type">showQErr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Hasura.GraphQL.Transport.HTTP.Protocol.html#getSingleOperation"><span class="hs-identifier hs-type">getSingleOperation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687866943"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-280"></span><span>         </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><a href="Hasura.GraphQL.Transport.HTTP.Protocol.html#GQLReq"><span class="hs-identifier hs-type">GQLReq</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Hasura.GraphQL.Transport.HTTP.Protocol.html#_grQuery"><span class="hs-identifier hs-var">_grQuery</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621687866947"><span class="hs-identifier hs-type">op</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Transport.HTTP.Protocol.html#_grVariables"><span class="hs-glyph hs-var hs-var hs-type hs-type">..</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-281"></span><span>   </span><span class="hs-special">)</span><span>
</span><span id="line-282"></span><span>
</span><span id="line-283"></span><span class="hs-comment">-- | Parsing the introspection query result.  We use this newtype wrapper to</span><span>
</span><span id="line-284"></span><span class="hs-comment">-- avoid orphan instances and parse JSON in the way that we need for GraphQL</span><span>
</span><span id="line-285"></span><span class="hs-comment">-- introspection results.</span><span>
</span><span id="line-286"></span><span class="hs-keyword">newtype</span><span> </span><span id="FromIntrospection"><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-var">FromIntrospection</span></a></span></span><span> </span><span id="local-6989586621687866010"><span class="annot"><a href="#local-6989586621687866010"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="FromIntrospection"><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-var">FromIntrospection</span></a></span></span><span> </span><span class="hs-special">{</span><span id="fromIntrospection"><span class="annot"><span class="annottext">forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var hs-var">fromIntrospection</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621687866010"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-287"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621687866954"><span id="local-6989586621687866959"><span id="local-6989586621687866963"><span class="annot"><span class="annottext">Int -&gt; FromIntrospection a -&gt; ShowS
[FromIntrospection a] -&gt; ShowS
FromIntrospection a -&gt; String
(Int -&gt; FromIntrospection a -&gt; ShowS)
-&gt; (FromIntrospection a -&gt; String)
-&gt; ([FromIntrospection a] -&gt; ShowS)
-&gt; Show (FromIntrospection a)
forall a. Show a =&gt; Int -&gt; FromIntrospection a -&gt; ShowS
forall a. Show a =&gt; [FromIntrospection a] -&gt; ShowS
forall a. Show a =&gt; FromIntrospection a -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: forall a. Show a =&gt; Int -&gt; FromIntrospection a -&gt; ShowS
showsPrec :: Int -&gt; FromIntrospection a -&gt; ShowS
$cshow :: forall a. Show a =&gt; FromIntrospection a -&gt; String
show :: FromIntrospection a -&gt; String
$cshowList :: forall a. Show a =&gt; [FromIntrospection a] -&gt; ShowS
showList :: [FromIntrospection a] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621687866969"><span id="local-6989586621687866973"><span class="annot"><span class="annottext">FromIntrospection a -&gt; FromIntrospection a -&gt; Bool
(FromIntrospection a -&gt; FromIntrospection a -&gt; Bool)
-&gt; (FromIntrospection a -&gt; FromIntrospection a -&gt; Bool)
-&gt; Eq (FromIntrospection a)
forall a.
Eq a =&gt;
FromIntrospection a -&gt; FromIntrospection a -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: forall a.
Eq a =&gt;
FromIntrospection a -&gt; FromIntrospection a -&gt; Bool
== :: FromIntrospection a -&gt; FromIntrospection a -&gt; Bool
$c/= :: forall a.
Eq a =&gt;
FromIntrospection a -&gt; FromIntrospection a -&gt; Bool
/= :: FromIntrospection a -&gt; FromIntrospection a -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621687866979"><span id="local-6989586621687866981"><span class="annot"><span class="annottext">(forall x. FromIntrospection a -&gt; Rep (FromIntrospection a) x)
-&gt; (forall x. Rep (FromIntrospection a) x -&gt; FromIntrospection a)
-&gt; Generic (FromIntrospection a)
forall x. Rep (FromIntrospection a) x -&gt; FromIntrospection a
forall x. FromIntrospection a -&gt; Rep (FromIntrospection a) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall a x. Rep (FromIntrospection a) x -&gt; FromIntrospection a
forall a x. FromIntrospection a -&gt; Rep (FromIntrospection a) x
$cfrom :: forall a x. FromIntrospection a -&gt; Rep (FromIntrospection a) x
from :: forall x. FromIntrospection a -&gt; Rep (FromIntrospection a) x
$cto :: forall a x. Rep (FromIntrospection a) x -&gt; FromIntrospection a
to :: forall x. Rep (FromIntrospection a) x -&gt; FromIntrospection a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621687866987"><span id="local-6989586621687866989"><span class="annot"><span class="annottext">(forall a b.
 (a -&gt; b) -&gt; FromIntrospection a -&gt; FromIntrospection b)
-&gt; (forall a b. a -&gt; FromIntrospection b -&gt; FromIntrospection a)
-&gt; Functor FromIntrospection
forall a b. a -&gt; FromIntrospection b -&gt; FromIntrospection a
forall a b. (a -&gt; b) -&gt; FromIntrospection a -&gt; FromIntrospection b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall a b. (a -&gt; b) -&gt; FromIntrospection a -&gt; FromIntrospection b
fmap :: forall a b. (a -&gt; b) -&gt; FromIntrospection a -&gt; FromIntrospection b
$c&lt;$ :: forall a b. a -&gt; FromIntrospection b -&gt; FromIntrospection a
&lt;$ :: forall a b. a -&gt; FromIntrospection b -&gt; FromIntrospection a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-288"></span><span>
</span><span id="line-289"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621687866994"><span id="local-6989586621687866998"><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#FromJSON"><span class="hs-identifier hs-type">J.FromJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#Description"><span class="hs-identifier hs-type">G.Description</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-290"></span><span>  </span><span id="local-6989586621687867005"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser (FromIntrospection Description)
</span><a href="#local-6989586621687867005"><span class="hs-identifier hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Text -&gt; FromIntrospection Description)
-&gt; Parser Text -&gt; Parser (FromIntrospection Description)
forall a b. (a -&gt; b) -&gt; Parser a -&gt; Parser b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Description -&gt; FromIntrospection Description
forall a. a -&gt; FromIntrospection a
</span><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-var">FromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">(Description -&gt; FromIntrospection Description)
-&gt; (Text -&gt; Description) -&gt; Text -&gt; FromIntrospection Description
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Description
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#Description"><span class="hs-identifier hs-var">G.Description</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Parser Text -&gt; Parser (FromIntrospection Description))
-&gt; (Value -&gt; Parser Text)
-&gt; Value
-&gt; Parser (FromIntrospection Description)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser Text
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#parseJSON"><span class="hs-identifier hs-var">J.parseJSON</span></a></span><span>
</span><span id="line-291"></span><span>
</span><span id="line-292"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621687866030"><span id="local-6989586621687867011"><span id="local-6989586621687867015"><span class="hs-special">(</span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#FromJSON"><span class="hs-identifier hs-type">J.FromJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687866030"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#FromJSON"><span class="hs-identifier hs-type">J.FromJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#FieldDefinition"><span class="hs-identifier hs-type">G.FieldDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687866030"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-293"></span><span>  </span><span id="local-6989586621687867040"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser (FromIntrospection (FieldDefinition a))
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#parseJSON"><span class="hs-identifier hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Object -&gt; Parser (FromIntrospection (FieldDefinition a)))
-&gt; Value
-&gt; Parser (FromIntrospection (FieldDefinition a))
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#withObject"><span class="hs-identifier hs-var">J.withObject</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;FieldDefinition&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object -&gt; Parser (FromIntrospection (FieldDefinition a)))
 -&gt; Value -&gt; Parser (FromIntrospection (FieldDefinition a)))
-&gt; (Object -&gt; Parser (FromIntrospection (FieldDefinition a)))
-&gt; Value
-&gt; Parser (FromIntrospection (FieldDefinition a))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621687867042"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621687867042"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-294"></span><span>    </span><span id="local-6989586621687867043"><span class="annot"><a href="#local-6989586621687867043"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621687867042"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Name
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#.%3A"><span class="hs-operator hs-var">.:</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;name&quot;</span></span><span>
</span><span id="line-295"></span><span>    </span><span id="local-6989586621687867044"><span class="annot"><a href="#local-6989586621687867044"><span class="hs-identifier hs-var">desc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">fmap</span></span><span> </span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;$&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621687867042"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#.%3A%3F"><span class="hs-operator hs-type">.:?</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;description&quot;</span></span><span>
</span><span id="line-296"></span><span>    </span><span id="local-6989586621687867045"><span class="annot"><a href="#local-6989586621687867045"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">fmap</span></span><span> </span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;$&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621687867042"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#.%3A"><span class="hs-operator hs-type">.:</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;args&quot;</span></span><span>
</span><span id="line-297"></span><span>    </span><span id="local-6989586621687867046"><span class="annot"><a href="#local-6989586621687867046"><span class="hs-identifier hs-var">type'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;$&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621687867042"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#.%3A"><span class="hs-operator hs-type">.:</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;type&quot;</span></span><span>
</span><span id="line-298"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687867047"><span class="annot"><a href="#local-6989586621687867047"><span class="hs-identifier hs-var hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-299"></span><span>          </span><span class="annot"><span class="annottext">Maybe Description
-&gt; Name -&gt; [a] -&gt; GType -&gt; [Directive Void] -&gt; FieldDefinition a
forall inputType.
Maybe Description
-&gt; Name
-&gt; ArgumentsDefinition inputType
-&gt; GType
-&gt; [Directive Void]
-&gt; FieldDefinition inputType
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#FieldDefinition"><span class="hs-identifier hs-var">G.FieldDefinition</span></a></span><span>
</span><span id="line-300"></span><span>            </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621687867044"><span class="hs-identifier hs-var">desc</span></a></span><span>
</span><span id="line-301"></span><span>            </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867043"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-302"></span><span>            </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621687867045"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-303"></span><span>            </span><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621687867046"><span class="hs-identifier hs-var">type'</span></a></span><span>
</span><span id="line-304"></span><span>            </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-305"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687867047"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621687867050"><span id="local-6989586621687867053"><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#FromJSON"><span class="hs-identifier hs-type">J.FromJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#GType"><span class="hs-identifier hs-type">G.GType</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-308"></span><span>  </span><span id="local-6989586621687867088"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser (FromIntrospection GType)
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#parseJSON"><span class="hs-identifier hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Object -&gt; Parser (FromIntrospection GType))
-&gt; Value
-&gt; Parser (FromIntrospection GType)
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#withObject"><span class="hs-identifier hs-var">J.withObject</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;GType&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object -&gt; Parser (FromIntrospection GType))
 -&gt; Value -&gt; Parser (FromIntrospection GType))
-&gt; (Object -&gt; Parser (FromIntrospection GType))
-&gt; Value
-&gt; Parser (FromIntrospection GType)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621687867089"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621687867089"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-309"></span><span>    </span><span id="local-6989586621687867090"><span class="annot"><a href="#local-6989586621687867090"><span class="hs-identifier hs-var">kind</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621687867089"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Text
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#.%3A"><span class="hs-operator hs-var">.:</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;kind&quot;</span></span><span>
</span><span id="line-310"></span><span>    </span><span id="local-6989586621687867091"><span class="annot"><a href="#local-6989586621687867091"><span class="hs-identifier hs-var">mName</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621687867089"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#.%3A%3F"><span class="hs-operator hs-type">.:?</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;name&quot;</span></span><span>
</span><span id="line-311"></span><span>    </span><span id="local-6989586621687867092"><span class="annot"><a href="#local-6989586621687867092"><span class="hs-identifier hs-var">mType</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621687867089"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#.%3A%3F"><span class="hs-operator hs-type">.:?</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;ofType&quot;</span></span><span>
</span><span id="line-312"></span><span>    </span><span id="local-6989586621687867093"><span class="annot"><a href="#local-6989586621687867093"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621687867090"><span class="hs-identifier hs-type">kind</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621687867091"><span class="hs-identifier hs-type">mName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621687867092"><span class="hs-identifier hs-type">mType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-313"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;NON_NULL&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621687867094"><span class="annot"><span class="annottext">FromIntrospection GType
</span><a href="#local-6989586621687867094"><span class="hs-identifier hs-var">typ</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GType -&gt; Parser GType
forall a. a -&gt; Parser a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(GType -&gt; Parser GType) -&gt; GType -&gt; Parser GType
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">GType -&gt; GType
</span><a href="#local-6989586621687867095"><span class="hs-identifier hs-var">mkNotNull</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FromIntrospection GType -&gt; GType
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">FromIntrospection GType
</span><a href="#local-6989586621687867094"><span class="hs-identifier hs-var">typ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-314"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;NON_NULL&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (FromIntrospection GType)
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Parser GType
forall (m :: * -&gt; *) a. MonadFail m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#pErr"><span class="hs-identifier hs-var">pErr</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;NON_NULL should have `ofType`&quot;</span></span><span>
</span><span id="line-315"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LIST&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621687867097"><span class="annot"><span class="annottext">FromIntrospection GType
</span><a href="#local-6989586621687867097"><span class="hs-identifier hs-var">typ</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-316"></span><span>        </span><span class="annot"><span class="annottext">GType -&gt; Parser GType
forall a. a -&gt; Parser a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(GType -&gt; Parser GType) -&gt; GType -&gt; Parser GType
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Nullability -&gt; GType -&gt; GType
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#TypeList"><span class="hs-identifier hs-var">G.TypeList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Nullability
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#Nullability"><span class="hs-identifier hs-var">G.Nullability</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FromIntrospection GType -&gt; GType
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">FromIntrospection GType
</span><a href="#local-6989586621687867097"><span class="hs-identifier hs-var">typ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-317"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LIST&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (FromIntrospection GType)
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Parser GType
forall (m :: * -&gt; *) a. MonadFail m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#pErr"><span class="hs-identifier hs-var">pErr</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LIST should have `ofType`&quot;</span></span><span>
</span><span id="line-318"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621687867100"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867100"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (FromIntrospection GType)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GType -&gt; Parser GType
forall a. a -&gt; Parser a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(GType -&gt; Parser GType) -&gt; GType -&gt; Parser GType
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Nullability -&gt; Name -&gt; GType
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#TypeNamed"><span class="hs-identifier hs-var">G.TypeNamed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Nullability
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#Nullability"><span class="hs-identifier hs-var">G.Nullability</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867100"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-319"></span><span>      </span><span class="annot"><span class="annottext">(Text, Maybe Name, Maybe (FromIntrospection GType))
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Parser GType
forall (m :: * -&gt; *) a. MonadFail m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#pErr"><span class="hs-identifier hs-var">pErr</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Parser GType) -&gt; Text -&gt; Parser GType
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;kind: &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621687867090"><span class="hs-identifier hs-var">kind</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; should have name&quot;</span></span><span>
</span><span id="line-320"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687867093"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-321"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-322"></span><span>      </span><span id="local-6989586621687867095"><span class="annot"><span class="annottext">mkNotNull :: GType -&gt; GType
</span><a href="#local-6989586621687867095"><span class="hs-identifier hs-var hs-var">mkNotNull</span></a></span></span><span> </span><span id="local-6989586621687867102"><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621687867102"><span class="hs-identifier hs-var">typ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621687867102"><span class="hs-identifier hs-var">typ</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-323"></span><span>        </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#TypeList"><span class="hs-identifier hs-type">G.TypeList</span></a></span><span> </span><span class="annot"><span class="annottext">Nullability
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621687867103"><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621687867103"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Nullability -&gt; GType -&gt; GType
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#TypeList"><span class="hs-identifier hs-var">G.TypeList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Nullability
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#Nullability"><span class="hs-identifier hs-var">G.Nullability</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621687867103"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-324"></span><span>        </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#TypeNamed"><span class="hs-identifier hs-type">G.TypeNamed</span></a></span><span> </span><span class="annot"><span class="annottext">Nullability
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621687867104"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867104"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Nullability -&gt; Name -&gt; GType
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#TypeNamed"><span class="hs-identifier hs-var">G.TypeNamed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Nullability
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#Nullability"><span class="hs-identifier hs-var">G.Nullability</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867104"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-325"></span><span>
</span><span id="line-326"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621687867107"><span id="local-6989586621687867111"><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#FromJSON"><span class="hs-identifier hs-type">J.FromJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#InputValueDefinition"><span class="hs-identifier hs-type">G.InputValueDefinition</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-327"></span><span>  </span><span id="local-6989586621687867132"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser (FromIntrospection InputValueDefinition)
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#parseJSON"><span class="hs-identifier hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Object -&gt; Parser (FromIntrospection InputValueDefinition))
-&gt; Value
-&gt; Parser (FromIntrospection InputValueDefinition)
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#withObject"><span class="hs-identifier hs-var">J.withObject</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;InputValueDefinition&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object -&gt; Parser (FromIntrospection InputValueDefinition))
 -&gt; Value -&gt; Parser (FromIntrospection InputValueDefinition))
-&gt; (Object -&gt; Parser (FromIntrospection InputValueDefinition))
-&gt; Value
-&gt; Parser (FromIntrospection InputValueDefinition)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621687867133"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621687867133"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-328"></span><span>    </span><span id="local-6989586621687867134"><span class="annot"><a href="#local-6989586621687867134"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621687867133"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Name
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#.%3A"><span class="hs-operator hs-var">.:</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;name&quot;</span></span><span>
</span><span id="line-329"></span><span>    </span><span id="local-6989586621687867135"><span class="annot"><a href="#local-6989586621687867135"><span class="hs-identifier hs-var">desc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">fmap</span></span><span> </span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;$&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621687867133"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#.%3A%3F"><span class="hs-operator hs-type">.:?</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;description&quot;</span></span><span>
</span><span id="line-330"></span><span>    </span><span id="local-6989586621687867136"><span class="annot"><a href="#local-6989586621687867136"><span class="hs-identifier hs-var">type'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;$&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621687867133"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#.%3A"><span class="hs-operator hs-type">.:</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;type&quot;</span></span><span>
</span><span id="line-331"></span><span>    </span><span id="local-6989586621687867137"><span class="annot"><a href="#local-6989586621687867137"><span class="hs-identifier hs-var">defVal</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">fmap</span></span><span> </span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;$&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621687867133"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#.%3A%3F"><span class="hs-operator hs-type">.:?</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;defaultValue&quot;</span></span><span>
</span><span id="line-332"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#InputValueDefinition"><span class="hs-identifier hs-type">G.InputValueDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687867135"><span class="hs-identifier hs-type">desc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687867134"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687867136"><span class="hs-identifier hs-type">type'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687867137"><span class="hs-identifier hs-type">defVal</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-333"></span><span>
</span><span id="line-334"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621687867141"><span id="local-6989586621687867144"><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#FromJSON"><span class="hs-identifier hs-type">J.FromJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#Value"><span class="hs-identifier hs-type">G.Value</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-335"></span><span>  </span><span id="local-6989586621687867150"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser (FromIntrospection (Value Void))
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#parseJSON"><span class="hs-identifier hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Text -&gt; Parser (FromIntrospection (Value Void)))
-&gt; Value
-&gt; Parser (FromIntrospection (Value Void))
forall a. String -&gt; (Text -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#withText"><span class="hs-identifier hs-var">J.withText</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Value Void&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Text -&gt; Parser (FromIntrospection (Value Void)))
 -&gt; Value -&gt; Parser (FromIntrospection (Value Void)))
-&gt; (Text -&gt; Parser (FromIntrospection (Value Void)))
-&gt; Value
-&gt; Parser (FromIntrospection (Value Void))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621687867152"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621687867152"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-336"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687867155"><span class="annot"><span class="annottext">parseValueConst :: Text -&gt; Either Text (Value Void)
</span><a href="#local-6989586621687867155"><span class="hs-identifier hs-var hs-var">parseValueConst</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Parser (Value Void) -&gt; Text -&gt; Either Text (Value Void)
forall a. Parser a -&gt; Text -&gt; Either Text a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Parser.html/Language.GraphQL.Draft.Parser.html#runParser"><span class="hs-identifier hs-var">G.runParser</span></a></span><span> </span><span class="annot"><span class="annottext">Parser (Value Void)
forall var. Variable var =&gt; Parser (Value var)
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Parser.html/Language.GraphQL.Draft.Parser.html#value"><span class="hs-identifier hs-var">G.value</span></a></span><span>
</span><span id="line-337"></span><span>     </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Value Void -&gt; FromIntrospection (Value Void)
forall a. a -&gt; FromIntrospection a
</span><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-var">FromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">(Value Void -&gt; FromIntrospection (Value Void))
-&gt; Parser (Value Void) -&gt; Parser (FromIntrospection (Value Void))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Either Text (Value Void)
-&gt; (Text -&gt; Parser (Value Void)) -&gt; Parser (Value Void)
forall (m :: * -&gt; *) e a.
Applicative m =&gt;
Either e a -&gt; (e -&gt; m a) -&gt; m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html/Hasura.Prelude.html#onLeft"><span class="hs-identifier hs-var">onLeft</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Either Text (Value Void)
</span><a href="#local-6989586621687867155"><span class="hs-identifier hs-var">parseValueConst</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621687867152"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Parser (Value Void)
forall a. String -&gt; Parser a
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><span class="hs-identifier hs-var">fail</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Parser (Value Void))
-&gt; (Text -&gt; String) -&gt; Text -&gt; Parser (Value Void)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><span class="hs-identifier hs-var">T.unpack</span></span><span class="hs-special">)</span><span>
</span><span id="line-338"></span><span>
</span><span id="line-339"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621687867160"><span id="local-6989586621687867164"><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#FromJSON"><span class="hs-identifier hs-type">J.FromJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#EnumValueDefinition"><span class="hs-identifier hs-type">G.EnumValueDefinition</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-340"></span><span>  </span><span id="local-6989586621687867176"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser (FromIntrospection EnumValueDefinition)
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#parseJSON"><span class="hs-identifier hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Object -&gt; Parser (FromIntrospection EnumValueDefinition))
-&gt; Value
-&gt; Parser (FromIntrospection EnumValueDefinition)
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#withObject"><span class="hs-identifier hs-var">J.withObject</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;EnumValueDefinition&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object -&gt; Parser (FromIntrospection EnumValueDefinition))
 -&gt; Value -&gt; Parser (FromIntrospection EnumValueDefinition))
-&gt; (Object -&gt; Parser (FromIntrospection EnumValueDefinition))
-&gt; Value
-&gt; Parser (FromIntrospection EnumValueDefinition)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621687867177"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621687867177"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-341"></span><span>    </span><span id="local-6989586621687867178"><span class="annot"><a href="#local-6989586621687867178"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621687867177"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser EnumValue
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#.%3A"><span class="hs-operator hs-var">.:</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;name&quot;</span></span><span>
</span><span id="line-342"></span><span>    </span><span id="local-6989586621687867179"><span class="annot"><a href="#local-6989586621687867179"><span class="hs-identifier hs-var">desc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">fmap</span></span><span> </span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;$&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621687867177"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#.%3A%3F"><span class="hs-operator hs-type">.:?</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;description&quot;</span></span><span>
</span><span id="line-343"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#EnumValueDefinition"><span class="hs-identifier hs-type">G.EnumValueDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687867179"><span class="hs-identifier hs-type">desc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687867178"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-344"></span><span>
</span><span id="line-345"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621687867183"><span id="local-6989586621687867187"><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#FromJSON"><span class="hs-identifier hs-type">J.FromJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#TypeDefinition"><span class="hs-identifier hs-type">G.TypeDefinition</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.Name.html/Language.GraphQL.Draft.Syntax.Name.html#Name"><span class="hs-identifier hs-type">G.Name</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#InputValueDefinition"><span class="hs-identifier hs-type">G.InputValueDefinition</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-346"></span><span>  </span><span id="local-6989586621687867295"><span class="annot"><span class="annottext">parseJSON :: Value
-&gt; Parser
     (FromIntrospection (TypeDefinition [Name] InputValueDefinition))
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#parseJSON"><span class="hs-identifier hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Object
    -&gt; Parser
         (FromIntrospection (TypeDefinition [Name] InputValueDefinition)))
-&gt; Value
-&gt; Parser
     (FromIntrospection (TypeDefinition [Name] InputValueDefinition))
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#withObject"><span class="hs-identifier hs-var">J.withObject</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;TypeDefinition&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object
  -&gt; Parser
       (FromIntrospection (TypeDefinition [Name] InputValueDefinition)))
 -&gt; Value
 -&gt; Parser
      (FromIntrospection (TypeDefinition [Name] InputValueDefinition)))
-&gt; (Object
    -&gt; Parser
         (FromIntrospection (TypeDefinition [Name] InputValueDefinition)))
-&gt; Value
-&gt; Parser
     (FromIntrospection (TypeDefinition [Name] InputValueDefinition))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621687867296"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621687867296"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-347"></span><span>    </span><span id="local-6989586621687867297"><span class="annot"><a href="#local-6989586621687867297"><span class="hs-identifier hs-var">kind</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier">Text</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621687867296"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Text
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#.%3A"><span class="hs-operator hs-var">.:</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;kind&quot;</span></span><span>
</span><span id="line-348"></span><span>    </span><span id="local-6989586621687867298"><span class="annot"><a href="#local-6989586621687867298"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621687867296"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#.%3A"><span class="hs-operator hs-type">.:</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;name&quot;</span></span><span>
</span><span id="line-349"></span><span>    </span><span id="local-6989586621687867299"><span class="annot"><a href="#local-6989586621687867299"><span class="hs-identifier hs-var">desc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">fmap</span></span><span> </span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;$&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621687867296"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#.%3A%3F"><span class="hs-operator hs-type">.:?</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;description&quot;</span></span><span>
</span><span id="line-350"></span><span>    </span><span id="local-6989586621687867300"><span class="annot"><a href="#local-6989586621687867300"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621687867297"><span class="hs-identifier hs-type">kind</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-351"></span><span>      </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;SCALAR&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-352"></span><span>        </span><span class="annot"><span class="annottext">TypeDefinition [Name] InputValueDefinition
-&gt; Parser (TypeDefinition [Name] InputValueDefinition)
forall a. a -&gt; Parser a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(TypeDefinition [Name] InputValueDefinition
 -&gt; Parser (TypeDefinition [Name] InputValueDefinition))
-&gt; TypeDefinition [Name] InputValueDefinition
-&gt; Parser (TypeDefinition [Name] InputValueDefinition)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ScalarTypeDefinition -&gt; TypeDefinition [Name] InputValueDefinition
forall possibleTypes inputType.
ScalarTypeDefinition -&gt; TypeDefinition possibleTypes inputType
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#TypeDefinitionScalar"><span class="hs-identifier hs-var">G.TypeDefinitionScalar</span></a></span><span> </span><span class="annot"><span class="annottext">(ScalarTypeDefinition
 -&gt; TypeDefinition [Name] InputValueDefinition)
-&gt; ScalarTypeDefinition
-&gt; TypeDefinition [Name] InputValueDefinition
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Maybe Description
-&gt; Name -&gt; [Directive Void] -&gt; ScalarTypeDefinition
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#ScalarTypeDefinition"><span class="hs-identifier hs-var">G.ScalarTypeDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621687867299"><span class="hs-identifier hs-var">desc</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867298"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-353"></span><span>      </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;OBJECT&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-354"></span><span>        </span><span id="local-6989586621687867303"><span class="annot"><a href="#local-6989586621687867303"><span class="hs-identifier hs-var">fields</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621687867296"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object
-&gt; Key
-&gt; Parser
     (Maybe [FromIntrospection (FieldDefinition InputValueDefinition)])
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#.%3A%3F"><span class="hs-operator hs-var">.:?</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;fields&quot;</span></span><span>
</span><span id="line-355"></span><span>        </span><span id="local-6989586621687867304"><span class="annot"><a href="#local-6989586621687867304"><span class="hs-identifier hs-var">interfaces</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier">Maybe</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier">FromIntrospection</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">G.TypeDefinition</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier">G.Name</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-identifier">G.InputValueDefinition</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621687867296"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#.%3A%3F"><span class="hs-operator hs-type">.:?</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;interfaces&quot;</span></span><span>
</span><span id="line-356"></span><span>        </span><span id="local-6989586621687867305"><span class="annot"><a href="#local-6989586621687867305"><span class="hs-identifier hs-var">implIfaces</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">for</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">foldMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">fmap</span></span><span> </span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621687867304"><span class="hs-identifier hs-type">interfaces</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-357"></span><span>          </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#TypeDefinitionInterface"><span class="hs-identifier hs-type">G.TypeDefinitionInterface</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#InterfaceTypeDefinition"><span class="hs-identifier hs-type">G.InterfaceTypeDefinition</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621687867308"><span id="local-6989586621687867309"><span id="local-6989586621687867310"><span id="local-6989586621687867311"><span id="local-6989586621687867312"><span class="annot"><span class="annottext">[Name]
[FieldDefinition InputValueDefinition]
[Directive Void]
Maybe Description
Name
_itdPossibleTypes :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; possibleTypes
_itdFieldsDefinition :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType
-&gt; [FieldDefinition inputType]
_itdDirectives :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; [Directive Void]
_itdName :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; Name
_itdDescription :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType
-&gt; Maybe Description
_itdDescription :: Maybe Description
_itdName :: Name
_itdDirectives :: [Directive Void]
_itdFieldsDefinition :: [FieldDefinition InputValueDefinition]
_itdPossibleTypes :: [Name]
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#_itdPossibleTypes"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Parser Name
forall a. a -&gt; Parser a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867309"><span class="hs-identifier hs-var">_itdName</span></a></span><span>
</span><span id="line-358"></span><span>          </span><span class="annot"><span class="annottext">TypeDefinition [Name] InputValueDefinition
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Parser Name
forall (m :: * -&gt; *) a. MonadFail m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#pErr"><span class="hs-identifier hs-var">pErr</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Parser Name) -&gt; Text -&gt; Parser Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Error: object type &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.Name.html/Language.GraphQL.Draft.Syntax.Name.html#unName"><span class="hs-identifier hs-var">G.unName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867298"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; can only implement interfaces&quot;</span></span><span>
</span><span id="line-359"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687867314"><span class="annot"><a href="#local-6989586621687867314"><span class="hs-identifier hs-var hs-var">flds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([FromIntrospection (FieldDefinition InputValueDefinition)]
 -&gt; [FieldDefinition InputValueDefinition])
-&gt; Maybe [FromIntrospection (FieldDefinition InputValueDefinition)]
-&gt; [FieldDefinition InputValueDefinition]
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Maybe a -&gt; m
forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><span class="hs-identifier hs-var">foldMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(FromIntrospection (FieldDefinition InputValueDefinition)
 -&gt; FieldDefinition InputValueDefinition)
-&gt; [FromIntrospection (FieldDefinition InputValueDefinition)]
-&gt; [FieldDefinition InputValueDefinition]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">FromIntrospection (FieldDefinition InputValueDefinition)
-&gt; FieldDefinition InputValueDefinition
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe [FromIntrospection (FieldDefinition InputValueDefinition)]
</span><a href="#local-6989586621687867303"><span class="hs-identifier hs-var">fields</span></a></span><span>
</span><span id="line-360"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#TypeDefinitionObject"><span class="hs-identifier hs-type">G.TypeDefinitionObject</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#ObjectTypeDefinition"><span class="hs-identifier hs-type">G.ObjectTypeDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687867299"><span class="hs-identifier hs-type">desc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687867298"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687867305"><span class="hs-identifier hs-type">implIfaces</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621687867314"><span class="hs-identifier hs-type">flds</span></a></span><span>
</span><span id="line-361"></span><span>      </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;INTERFACE&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-362"></span><span>        </span><span id="local-6989586621687867315"><span class="annot"><a href="#local-6989586621687867315"><span class="hs-identifier hs-var">fields</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621687867296"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object
-&gt; Key
-&gt; Parser
     (Maybe [FromIntrospection (FieldDefinition InputValueDefinition)])
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#.%3A%3F"><span class="hs-operator hs-var">.:?</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;fields&quot;</span></span><span>
</span><span id="line-363"></span><span>        </span><span id="local-6989586621687867316"><span class="annot"><a href="#local-6989586621687867316"><span class="hs-identifier hs-var">possibleTypes</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier">Maybe</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier">FromIntrospection</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">G.TypeDefinition</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier">G.Name</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-identifier">G.InputValueDefinition</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621687867296"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#.%3A%3F"><span class="hs-operator hs-type">.:?</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;possibleTypes&quot;</span></span><span>
</span><span id="line-364"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687867317"><span class="annot"><a href="#local-6989586621687867317"><span class="hs-identifier hs-var hs-var">flds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[FieldDefinition InputValueDefinition]
-&gt; ([FromIntrospection (FieldDefinition InputValueDefinition)]
    -&gt; [FieldDefinition InputValueDefinition])
-&gt; Maybe [FromIntrospection (FieldDefinition InputValueDefinition)]
-&gt; [FieldDefinition InputValueDefinition]
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(FromIntrospection (FieldDefinition InputValueDefinition)
 -&gt; FieldDefinition InputValueDefinition)
-&gt; [FromIntrospection (FieldDefinition InputValueDefinition)]
-&gt; [FieldDefinition InputValueDefinition]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">FromIntrospection (FieldDefinition InputValueDefinition)
-&gt; FieldDefinition InputValueDefinition
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe [FromIntrospection (FieldDefinition InputValueDefinition)]
</span><a href="#local-6989586621687867315"><span class="hs-identifier hs-var">fields</span></a></span><span>
</span><span id="line-365"></span><span>        </span><span class="hs-comment">-- TODO (non PDV) track which interfaces implement which other interfaces, after a</span><span>
</span><span id="line-366"></span><span>        </span><span class="hs-comment">-- GraphQL spec &gt; Jun 2018 is released.</span><span>
</span><span id="line-367"></span><span>        </span><span id="local-6989586621687867319"><span class="annot"><a href="#local-6989586621687867319"><span class="hs-identifier hs-var">possTps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">for</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">foldMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">fmap</span></span><span> </span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621687867316"><span class="hs-identifier hs-type">possibleTypes</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-368"></span><span>          </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#TypeDefinitionObject"><span class="hs-identifier hs-type">G.TypeDefinitionObject</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#ObjectTypeDefinition"><span class="hs-identifier hs-type">G.ObjectTypeDefinition</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621687867320"><span id="local-6989586621687867321"><span id="local-6989586621687867322"><span id="local-6989586621687867323"><span id="local-6989586621687867324"><span class="annot"><span class="annottext">[Name]
[FieldDefinition InputValueDefinition]
[Directive Void]
Maybe Description
Name
_otdFieldsDefinition :: forall inputType.
ObjectTypeDefinition inputType -&gt; [FieldDefinition inputType]
_otdDirectives :: forall inputType.
ObjectTypeDefinition inputType -&gt; [Directive Void]
_otdImplementsInterfaces :: forall inputType. ObjectTypeDefinition inputType -&gt; [Name]
_otdName :: forall inputType. ObjectTypeDefinition inputType -&gt; Name
_otdDescription :: forall inputType.
ObjectTypeDefinition inputType -&gt; Maybe Description
_otdDescription :: Maybe Description
_otdName :: Name
_otdImplementsInterfaces :: [Name]
_otdDirectives :: [Directive Void]
_otdFieldsDefinition :: [FieldDefinition InputValueDefinition]
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#_otdFieldsDefinition"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Parser Name
forall a. a -&gt; Parser a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867321"><span class="hs-identifier hs-var">_otdName</span></a></span><span>
</span><span id="line-369"></span><span>          </span><span class="annot"><span class="annottext">TypeDefinition [Name] InputValueDefinition
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Parser Name
forall (m :: * -&gt; *) a. MonadFail m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#pErr"><span class="hs-identifier hs-var">pErr</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Parser Name) -&gt; Text -&gt; Parser Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Error: interface type &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.Name.html/Language.GraphQL.Draft.Syntax.Name.html#unName"><span class="hs-identifier hs-var">G.unName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867298"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; can only be implemented by objects&quot;</span></span><span>
</span><span id="line-370"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#TypeDefinitionInterface"><span class="hs-identifier hs-type">G.TypeDefinitionInterface</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#InterfaceTypeDefinition"><span class="hs-identifier hs-type">G.InterfaceTypeDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687867299"><span class="hs-identifier hs-type">desc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687867298"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621687867317"><span class="hs-identifier hs-type">flds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687867319"><span class="hs-identifier hs-type">possTps</span></a></span><span>
</span><span id="line-371"></span><span>      </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;UNION&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-372"></span><span>        </span><span id="local-6989586621687867325"><span class="annot"><a href="#local-6989586621687867325"><span class="hs-identifier hs-var">possibleTypes</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier">FromIntrospection</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">G.TypeDefinition</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier">G.Name</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-identifier">G.InputValueDefinition</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621687867296"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object
-&gt; Key
-&gt; Parser
     [FromIntrospection (TypeDefinition [Name] InputValueDefinition)]
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#.%3A"><span class="hs-operator hs-var">.:</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;possibleTypes&quot;</span></span><span>
</span><span id="line-373"></span><span>        </span><span id="local-6989586621687867326"><span class="annot"><a href="#local-6989586621687867326"><span class="hs-identifier hs-var">possibleTypes'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">for</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;$&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621687867325"><span class="hs-identifier hs-type">possibleTypes</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-374"></span><span>          </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#TypeDefinitionObject"><span class="hs-identifier hs-type">G.TypeDefinitionObject</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#ObjectTypeDefinition"><span class="hs-identifier hs-type">G.ObjectTypeDefinition</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621687867327"><span id="local-6989586621687867328"><span id="local-6989586621687867329"><span id="local-6989586621687867330"><span id="local-6989586621687867331"><span class="annot"><span class="annottext">[Name]
[FieldDefinition InputValueDefinition]
[Directive Void]
Maybe Description
Name
_otdFieldsDefinition :: forall inputType.
ObjectTypeDefinition inputType -&gt; [FieldDefinition inputType]
_otdDirectives :: forall inputType.
ObjectTypeDefinition inputType -&gt; [Directive Void]
_otdImplementsInterfaces :: forall inputType. ObjectTypeDefinition inputType -&gt; [Name]
_otdName :: forall inputType. ObjectTypeDefinition inputType -&gt; Name
_otdDescription :: forall inputType.
ObjectTypeDefinition inputType -&gt; Maybe Description
_otdDescription :: Maybe Description
_otdName :: Name
_otdImplementsInterfaces :: [Name]
_otdDirectives :: [Directive Void]
_otdFieldsDefinition :: [FieldDefinition InputValueDefinition]
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#_otdFieldsDefinition"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Parser Name
forall a. a -&gt; Parser a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867328"><span class="hs-identifier hs-var">_otdName</span></a></span><span>
</span><span id="line-375"></span><span>          </span><span class="annot"><span class="annottext">TypeDefinition [Name] InputValueDefinition
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Parser Name
forall (m :: * -&gt; *) a. MonadFail m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#pErr"><span class="hs-identifier hs-var">pErr</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Parser Name) -&gt; Text -&gt; Parser Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Error: union type &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.Name.html/Language.GraphQL.Draft.Syntax.Name.html#unName"><span class="hs-identifier hs-var">G.unName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867298"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; can only be implemented by objects&quot;</span></span><span>
</span><span id="line-376"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#TypeDefinitionUnion"><span class="hs-identifier hs-type">G.TypeDefinitionUnion</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#UnionTypeDefinition"><span class="hs-identifier hs-type">G.UnionTypeDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687867299"><span class="hs-identifier hs-type">desc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687867298"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621687867326"><span class="hs-identifier hs-type">possibleTypes'</span></a></span><span>
</span><span id="line-377"></span><span>      </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;ENUM&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-378"></span><span>        </span><span id="local-6989586621687867334"><span class="annot"><a href="#local-6989586621687867334"><span class="hs-identifier hs-var">vals</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(FromIntrospection EnumValueDefinition -&gt; EnumValueDefinition)
-&gt; [FromIntrospection EnumValueDefinition] -&gt; [EnumValueDefinition]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">FromIntrospection EnumValueDefinition -&gt; EnumValueDefinition
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">([FromIntrospection EnumValueDefinition] -&gt; [EnumValueDefinition])
-&gt; Parser [FromIntrospection EnumValueDefinition]
-&gt; Parser [EnumValueDefinition]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621687867296"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser [FromIntrospection EnumValueDefinition]
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#.%3A"><span class="hs-operator hs-var">.:</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;enumValues&quot;</span></span><span>
</span><span id="line-379"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#TypeDefinitionEnum"><span class="hs-identifier hs-type">G.TypeDefinitionEnum</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#EnumTypeDefinition"><span class="hs-identifier hs-type">G.EnumTypeDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687867299"><span class="hs-identifier hs-type">desc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687867298"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621687867334"><span class="hs-identifier hs-type">vals</span></a></span><span>
</span><span id="line-380"></span><span>      </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;INPUT_OBJECT&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-381"></span><span>        </span><span id="local-6989586621687867337"><span class="annot"><a href="#local-6989586621687867337"><span class="hs-identifier hs-var">inputFields</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">([FromIntrospection InputValueDefinition]
 -&gt; [InputValueDefinition])
-&gt; Maybe [FromIntrospection InputValueDefinition]
-&gt; [InputValueDefinition]
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Maybe a -&gt; m
forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><span class="hs-identifier hs-var">foldMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(FromIntrospection InputValueDefinition -&gt; InputValueDefinition)
-&gt; [FromIntrospection InputValueDefinition]
-&gt; [InputValueDefinition]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">FromIntrospection InputValueDefinition -&gt; InputValueDefinition
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Maybe [FromIntrospection InputValueDefinition]
 -&gt; [InputValueDefinition])
-&gt; Parser (Maybe [FromIntrospection InputValueDefinition])
-&gt; Parser [InputValueDefinition]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621687867296"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object
-&gt; Key -&gt; Parser (Maybe [FromIntrospection InputValueDefinition])
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#.%3A%3F"><span class="hs-operator hs-var">.:?</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;inputFields&quot;</span></span><span>
</span><span id="line-382"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#TypeDefinitionInputObject"><span class="hs-identifier hs-type">G.TypeDefinitionInputObject</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#InputObjectTypeDefinition"><span class="hs-identifier hs-type">G.InputObjectTypeDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687867299"><span class="hs-identifier hs-type">desc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687867298"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621687867337"><span class="hs-identifier hs-type">inputFields</span></a></span><span>
</span><span id="line-383"></span><span>      </span><span class="annot"><span class="annottext">Text
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Parser (TypeDefinition [Name] InputValueDefinition)
forall (m :: * -&gt; *) a. MonadFail m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#pErr"><span class="hs-identifier hs-var">pErr</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Parser (TypeDefinition [Name] InputValueDefinition))
-&gt; Text -&gt; Parser (TypeDefinition [Name] InputValueDefinition)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;unknown kind: &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621687867297"><span class="hs-identifier hs-var">kind</span></a></span><span>
</span><span id="line-384"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687867300"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-385"></span><span>
</span><span id="line-386"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621687867342"><span id="local-6989586621687867345"><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#FromJSON"><span class="hs-identifier hs-type">J.FromJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#IntrospectionResult"><span class="hs-identifier hs-type">IntrospectionResult</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-387"></span><span>  </span><span id="local-6989586621687867390"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser (FromIntrospection IntrospectionResult)
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#parseJSON"><span class="hs-identifier hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Object -&gt; Parser (FromIntrospection IntrospectionResult))
-&gt; Value
-&gt; Parser (FromIntrospection IntrospectionResult)
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#withObject"><span class="hs-identifier hs-var">J.withObject</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;SchemaDocument&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object -&gt; Parser (FromIntrospection IntrospectionResult))
 -&gt; Value -&gt; Parser (FromIntrospection IntrospectionResult))
-&gt; (Object -&gt; Parser (FromIntrospection IntrospectionResult))
-&gt; Value
-&gt; Parser (FromIntrospection IntrospectionResult)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621687867391"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621687867391"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-388"></span><span>    </span><span id="local-6989586621687867392"><span class="annot"><a href="#local-6989586621687867392"><span class="hs-identifier hs-var">data'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621687867391"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Object
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#.%3A"><span class="hs-operator hs-var">.:</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;data&quot;</span></span><span>
</span><span id="line-389"></span><span>    </span><span id="local-6989586621687867393"><span class="annot"><a href="#local-6989586621687867393"><span class="hs-identifier hs-var">schema</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621687867392"><span class="hs-identifier hs-type">data'</span></a></span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#.%3A"><span class="hs-operator hs-type">.:</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;__schema&quot;</span></span><span>
</span><span id="line-390"></span><span>    </span><span class="hs-comment">-- the list of types</span><span>
</span><span id="line-391"></span><span>    </span><span id="local-6989586621687867394"><span class="annot"><a href="#local-6989586621687867394"><span class="hs-identifier hs-var">types</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621687867393"><span class="hs-identifier hs-type">schema</span></a></span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#.%3A"><span class="hs-operator hs-type">.:</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;types&quot;</span></span><span>
</span><span id="line-392"></span><span>    </span><span class="hs-comment">-- query root</span><span>
</span><span id="line-393"></span><span>    </span><span id="local-6989586621687867395"><span class="annot"><a href="#local-6989586621687867395"><span class="hs-identifier hs-var">queryType</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621687867393"><span class="hs-identifier hs-type">schema</span></a></span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#.%3A"><span class="hs-operator hs-type">.:</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;queryType&quot;</span></span><span>
</span><span id="line-394"></span><span>    </span><span id="local-6989586621687867396"><span class="annot"><a href="#local-6989586621687867396"><span class="hs-identifier hs-var">queryRoot</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621687867395"><span class="hs-identifier hs-type">queryType</span></a></span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#.%3A"><span class="hs-operator hs-type">.:</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;name&quot;</span></span><span>
</span><span id="line-395"></span><span>    </span><span class="hs-comment">-- mutation root</span><span>
</span><span id="line-396"></span><span>    </span><span id="local-6989586621687867397"><span class="annot"><a href="#local-6989586621687867397"><span class="hs-identifier hs-var">mMutationType</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621687867393"><span class="hs-identifier hs-type">schema</span></a></span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#.%3A%3F"><span class="hs-operator hs-type">.:?</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;mutationType&quot;</span></span><span>
</span><span id="line-397"></span><span>    </span><span id="local-6989586621687867398"><span class="annot"><a href="#local-6989586621687867398"><span class="hs-identifier hs-var">mutationRoot</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">for</span></span><span> </span><span class="annot"><a href="#local-6989586621687867397"><span class="hs-identifier hs-type">mMutationType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">.:</span></span><span> </span><span class="annot"><span class="hs-string">&quot;name&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-398"></span><span>    </span><span class="hs-comment">-- subscription root</span><span>
</span><span id="line-399"></span><span>    </span><span id="local-6989586621687867399"><span class="annot"><a href="#local-6989586621687867399"><span class="hs-identifier hs-var">mSubsType</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621687867393"><span class="hs-identifier hs-type">schema</span></a></span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/src/Data.Aeson.Types.FromJSON.html/Data.Aeson.Types.FromJSON.html#.%3A%3F"><span class="hs-operator hs-type">.:?</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;subscriptionType&quot;</span></span><span>
</span><span id="line-400"></span><span>    </span><span id="local-6989586621687867400"><span class="annot"><a href="#local-6989586621687867400"><span class="hs-identifier hs-var">subsRoot</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">for</span></span><span> </span><span class="annot"><a href="#local-6989586621687867399"><span class="hs-identifier hs-type">mSubsType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">.:</span></span><span> </span><span class="annot"><span class="hs-string">&quot;name&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-401"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687867401"><span class="annot"><a href="#local-6989586621687867401"><span class="hs-identifier hs-var hs-var">types'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-402"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(FromIntrospection (TypeDefinition [Name] InputValueDefinition)
 -&gt; FromIntrospection
      (TypeDefinition [Name] RemoteSchemaInputValueDefinition))
-&gt; [FromIntrospection (TypeDefinition [Name] InputValueDefinition)]
-&gt; [FromIntrospection
      (TypeDefinition [Name] RemoteSchemaInputValueDefinition)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">((FromIntrospection (TypeDefinition [Name] InputValueDefinition)
  -&gt; FromIntrospection
       (TypeDefinition [Name] RemoteSchemaInputValueDefinition))
 -&gt; [FromIntrospection (TypeDefinition [Name] InputValueDefinition)]
 -&gt; [FromIntrospection
       (TypeDefinition [Name] RemoteSchemaInputValueDefinition)])
-&gt; ((InputValueDefinition -&gt; RemoteSchemaInputValueDefinition)
    -&gt; FromIntrospection (TypeDefinition [Name] InputValueDefinition)
    -&gt; FromIntrospection
         (TypeDefinition [Name] RemoteSchemaInputValueDefinition))
-&gt; (InputValueDefinition -&gt; RemoteSchemaInputValueDefinition)
-&gt; [FromIntrospection (TypeDefinition [Name] InputValueDefinition)]
-&gt; [FromIntrospection
      (TypeDefinition [Name] RemoteSchemaInputValueDefinition)]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(TypeDefinition [Name] InputValueDefinition
 -&gt; TypeDefinition [Name] RemoteSchemaInputValueDefinition)
-&gt; FromIntrospection (TypeDefinition [Name] InputValueDefinition)
-&gt; FromIntrospection
     (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
forall a b. (a -&gt; b) -&gt; FromIntrospection a -&gt; FromIntrospection b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">((TypeDefinition [Name] InputValueDefinition
  -&gt; TypeDefinition [Name] RemoteSchemaInputValueDefinition)
 -&gt; FromIntrospection (TypeDefinition [Name] InputValueDefinition)
 -&gt; FromIntrospection
      (TypeDefinition [Name] RemoteSchemaInputValueDefinition))
-&gt; ((InputValueDefinition -&gt; RemoteSchemaInputValueDefinition)
    -&gt; TypeDefinition [Name] InputValueDefinition
    -&gt; TypeDefinition [Name] RemoteSchemaInputValueDefinition)
-&gt; (InputValueDefinition -&gt; RemoteSchemaInputValueDefinition)
-&gt; FromIntrospection (TypeDefinition [Name] InputValueDefinition)
-&gt; FromIntrospection
     (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(InputValueDefinition -&gt; RemoteSchemaInputValueDefinition)
-&gt; TypeDefinition [Name] InputValueDefinition
-&gt; TypeDefinition [Name] RemoteSchemaInputValueDefinition
forall a b.
(a -&gt; b) -&gt; TypeDefinition [Name] a -&gt; TypeDefinition [Name] b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span class="hs-special">)</span><span>
</span><span id="line-403"></span><span>            </span><span class="hs-comment">-- presets are only defined for non-admin roles,</span><span>
</span><span id="line-404"></span><span>            </span><span class="hs-comment">-- an admin will not have any presets</span><span>
</span><span id="line-405"></span><span>            </span><span class="hs-comment">-- defined and the admin will be the one,</span><span>
</span><span id="line-406"></span><span>            </span><span class="hs-comment">-- who'll be adding the remote schema,</span><span>
</span><span id="line-407"></span><span>            </span><span class="hs-comment">-- hence presets are set to `Nothing`</span><span>
</span><span id="line-408"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">InputValueDefinition
-&gt; Maybe (Value RemoteSchemaVariable)
-&gt; RemoteSchemaInputValueDefinition
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#RemoteSchemaInputValueDefinition"><span class="hs-operator hs-var">`RemoteSchemaInputValueDefinition`</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Value RemoteSchemaVariable)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span>
</span><span id="line-409"></span><span>            </span><span class="annot"><span class="annottext">[FromIntrospection (TypeDefinition [Name] InputValueDefinition)]
</span><a href="#local-6989586621687867394"><span class="hs-identifier hs-var">types</span></a></span><span>
</span><span id="line-410"></span><span>        </span><span id="local-6989586621687867403"><span class="annot"><a href="#local-6989586621687867403"><span class="hs-identifier hs-var hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-411"></span><span>          </span><span class="annot"><span class="annottext">RemoteSchemaIntrospection
-&gt; Name -&gt; Maybe Name -&gt; Maybe Name -&gt; IntrospectionResult
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#IntrospectionResult"><span class="hs-identifier hs-var">IntrospectionResult</span></a></span><span>
</span><span id="line-412"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HashMap
  Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
-&gt; RemoteSchemaIntrospection
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#RemoteSchemaIntrospection"><span class="hs-identifier hs-var">RemoteSchemaIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">(HashMap
   Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
 -&gt; RemoteSchemaIntrospection)
-&gt; HashMap
     Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
-&gt; RemoteSchemaIntrospection
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(TypeDefinition [Name] RemoteSchemaInputValueDefinition -&gt; Name)
-&gt; [TypeDefinition [Name] RemoteSchemaInputValueDefinition]
-&gt; HashMap
     Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
forall k v. Hashable k =&gt; (v -&gt; k) -&gt; [v] -&gt; HashMap k v
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.HashMap.Strict.Extended.html/Data.HashMap.Strict.Extended.html#fromListOn"><span class="hs-identifier hs-var">HashMap.fromListOn</span></a></span><span> </span><span class="annot"><span class="annottext">TypeDefinition [Name] RemoteSchemaInputValueDefinition -&gt; Name
forall possibleTypes inputType.
TypeDefinition possibleTypes inputType -&gt; Name
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#getTypeName"><span class="hs-identifier hs-var">getTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">([TypeDefinition [Name] RemoteSchemaInputValueDefinition]
 -&gt; HashMap
      Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition))
-&gt; [TypeDefinition [Name] RemoteSchemaInputValueDefinition]
-&gt; HashMap
     Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FromIntrospection
  (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
-&gt; TypeDefinition [Name] RemoteSchemaInputValueDefinition
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">(FromIntrospection
   (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
 -&gt; TypeDefinition [Name] RemoteSchemaInputValueDefinition)
-&gt; [FromIntrospection
      (TypeDefinition [Name] RemoteSchemaInputValueDefinition)]
-&gt; [TypeDefinition [Name] RemoteSchemaInputValueDefinition]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[FromIntrospection
   (TypeDefinition [Name] RemoteSchemaInputValueDefinition)]
</span><a href="#local-6989586621687867401"><span class="hs-identifier hs-var">types'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-413"></span><span>            </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867396"><span class="hs-identifier hs-var">queryRoot</span></a></span><span>
</span><span id="line-414"></span><span>            </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621687867398"><span class="hs-identifier hs-var">mutationRoot</span></a></span><span>
</span><span id="line-415"></span><span>            </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621687867400"><span class="hs-identifier hs-var">subsRoot</span></a></span><span>
</span><span id="line-416"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687867403"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-417"></span><span>
</span><span id="line-418"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-419"></span><span class="hs-comment">-- Customization</span><span>
</span><span id="line-420"></span><span>
</span><span id="line-421"></span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#getCustomizer"><span class="hs-identifier hs-type">getCustomizer</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#IntrospectionResult"><span class="hs-identifier hs-type">IntrospectionResult</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.Metadata.Customization.html#RemoteSchemaCustomization"><span class="hs-identifier hs-type">RemoteSchemaCustomization</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#RemoteSchemaCustomizer"><span class="hs-identifier hs-type">RemoteSchemaCustomizer</span></a></span><span>
</span><span id="line-422"></span><span id="getCustomizer"><span class="annot"><span class="annottext">getCustomizer :: IntrospectionResult
-&gt; Maybe RemoteSchemaCustomization -&gt; RemoteSchemaCustomizer
</span><a href="Hasura.GraphQL.RemoteServer.html#getCustomizer"><span class="hs-identifier hs-var hs-var">getCustomizer</span></a></span></span><span> </span><span class="annot"><span class="annottext">IntrospectionResult
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe RemoteSchemaCustomization
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RemoteSchemaCustomizer
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#identityCustomizer"><span class="hs-identifier hs-var">identityCustomizer</span></a></span><span>
</span><span id="line-423"></span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#getCustomizer"><span class="hs-identifier hs-var">getCustomizer</span></a></span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#IntrospectionResult"><span class="hs-identifier hs-type">IntrospectionResult</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621687867407"><span id="local-6989586621687867408"><span id="local-6989586621687867409"><span id="local-6989586621687867410"><span class="annot"><span class="annottext">Maybe Name
Name
RemoteSchemaIntrospection
irDoc :: IntrospectionResult -&gt; RemoteSchemaIntrospection
irSubscriptionRoot :: IntrospectionResult -&gt; Maybe Name
irMutationRoot :: IntrospectionResult -&gt; Maybe Name
irQueryRoot :: IntrospectionResult -&gt; Name
irDoc :: RemoteSchemaIntrospection
irQueryRoot :: Name
irMutationRoot :: Maybe Name
irSubscriptionRoot :: Maybe Name
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#irDoc"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.Metadata.Customization.html#RemoteSchemaCustomization"><span class="hs-identifier hs-type">RemoteSchemaCustomization</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621687867412"><span id="local-6989586621687867413"><span id="local-6989586621687867414"><span class="annot"><span class="annottext">Maybe [RemoteFieldCustomization]
Maybe Name
Maybe RemoteTypeCustomization
_rscRootFieldsNamespace :: Maybe Name
_rscTypeNames :: Maybe RemoteTypeCustomization
_rscFieldNames :: Maybe [RemoteFieldCustomization]
_rscFieldNames :: RemoteSchemaCustomization -&gt; Maybe [RemoteFieldCustomization]
_rscTypeNames :: RemoteSchemaCustomization -&gt; Maybe RemoteTypeCustomization
_rscRootFieldsNamespace :: RemoteSchemaCustomization -&gt; Maybe Name
</span><a href="#local-6989586621687867412"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#RemoteSchemaCustomizer"><span class="hs-identifier hs-type">RemoteSchemaCustomizer</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">Maybe Name
HashMap Name (HashMap Name Name)
HashMap Name Name
_rscNamespaceFieldName :: Maybe Name
_rscCustomizeTypeName :: HashMap Name Name
_rscCustomizeFieldName :: HashMap Name (HashMap Name Name)
_rscCustomizeFieldName :: HashMap Name (HashMap Name Name)
_rscCustomizeTypeName :: HashMap Name Name
_rscNamespaceFieldName :: Maybe Name
</span><a href="#local-6989586621687867419"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-424"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-425"></span><span>    </span><span id="local-6989586621687867425"><span class="annot"><span class="annottext">rootTypeNames :: HashSet Name
</span><a href="#local-6989586621687867425"><span class="hs-identifier hs-var hs-var">rootTypeNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-426"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Maybe Name -&gt; Bool
forall a. Maybe a -&gt; Bool
</span><span class="hs-identifier hs-var">isNothing</span></span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621687867412"><span class="hs-identifier hs-var">_rscRootFieldsNamespace</span></a></span><span>
</span><span id="line-427"></span><span>        </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; HashSet Name
forall a. (Eq a, Hashable a) =&gt; [a] -&gt; HashSet a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/unordered-containers-0.2.20-6d56f9b3abc6011ddb6e237c415126423ab5ceb5c078221bba2ff80dbe921009/share/doc/html/src/Data.HashSet.Internal.html/Data.HashSet.Internal.html#fromList"><span class="hs-identifier hs-var">Set.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([Name] -&gt; HashSet Name) -&gt; [Name] -&gt; HashSet Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Maybe Name] -&gt; [Name]
forall a. [Maybe a] -&gt; [a]
forall (f :: * -&gt; *) a. Filterable f =&gt; f (Maybe a) -&gt; f a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/witherable-0.5-ed5d92584b79c1fa03d7efeb1159ae93eef86189605b088dd8806eb40d0b16f5/share/doc/html/src/Witherable.html/Witherable.html#catMaybes"><span class="hs-identifier hs-var">catMaybes</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Name -&gt; Maybe Name
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867408"><span class="hs-identifier hs-var">irQueryRoot</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621687867409"><span class="hs-identifier hs-var">irMutationRoot</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621687867410"><span class="hs-identifier hs-var">irSubscriptionRoot</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-428"></span><span>        </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">HashSet Name
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-429"></span><span>    </span><span class="hs-comment">-- root type names should not be prefixed or suffixed unless</span><span>
</span><span id="line-430"></span><span>    </span><span class="hs-comment">-- there is a custom root namespace field</span><span>
</span><span id="line-431"></span><span>    </span><span id="local-6989586621687867429"><span class="annot"><span class="annottext">protectedTypeNames :: HashSet Name
</span><a href="#local-6989586621687867429"><span class="hs-identifier hs-var hs-var">protectedTypeNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Name.html/Hasura.GraphQL.Parser.Name.html#builtInScalars"><span class="hs-identifier hs-var">GName.builtInScalars</span></a></span><span> </span><span class="annot"><span class="annottext">HashSet Name -&gt; HashSet Name -&gt; HashSet Name
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621687867425"><span class="hs-identifier hs-var">rootTypeNames</span></a></span><span>
</span><span id="line-432"></span><span>    </span><span id="local-6989586621687867431"><span class="annot"><span class="annottext">nameFilter :: Name -&gt; Bool
</span><a href="#local-6989586621687867431"><span class="hs-identifier hs-var hs-var">nameFilter</span></a></span></span><span> </span><span id="local-6989586621687867432"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867432"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;__&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Bool
</span><span class="hs-operator hs-var">`T.isPrefixOf`</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.Name.html/Language.GraphQL.Draft.Syntax.Name.html#unName"><span class="hs-identifier hs-var">G.unName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867432"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867432"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; HashSet Name -&gt; Bool
forall a. (Eq a, Hashable a) =&gt; a -&gt; HashSet a -&gt; Bool
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/unordered-containers-0.2.20-6d56f9b3abc6011ddb6e237c415126423ab5ceb5c078221bba2ff80dbe921009/share/doc/html/src/Data.HashSet.Internal.html/Data.HashSet.Internal.html#member"><span class="hs-operator hs-var">`Set.member`</span></a></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621687867429"><span class="hs-identifier hs-var">protectedTypeNames</span></a></span><span>
</span><span id="line-433"></span><span>
</span><span id="line-434"></span><span>    </span><span class="annot"><a href="#local-6989586621687867437"><span class="hs-identifier hs-type">mkPrefixSuffixMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.Name.html/Language.GraphQL.Draft.Syntax.Name.html#Name"><span class="hs-identifier hs-type">G.Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.Name.html/Language.GraphQL.Draft.Syntax.Name.html#Name"><span class="hs-identifier hs-type">G.Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.Name.html/Language.GraphQL.Draft.Syntax.Name.html#Name"><span class="hs-identifier hs-type">G.Name</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/unordered-containers-0.2.20-6d56f9b3abc6011ddb6e237c415126423ab5ceb5c078221bba2ff80dbe921009/share/doc/html/src/Data.HashMap.Internal.html/Data.HashMap.Internal.html#HashMap"><span class="hs-identifier hs-type">HashMap</span></a></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.Name.html/Language.GraphQL.Draft.Syntax.Name.html#Name"><span class="hs-identifier hs-type">G.Name</span></a></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.Name.html/Language.GraphQL.Draft.Syntax.Name.html#Name"><span class="hs-identifier hs-type">G.Name</span></a></span><span>
</span><span id="line-435"></span><span>    </span><span id="local-6989586621687867437"><span class="annot"><span class="annottext">mkPrefixSuffixMap :: Maybe Name -&gt; Maybe Name -&gt; [Name] -&gt; HashMap Name Name
</span><a href="#local-6989586621687867437"><span class="hs-identifier hs-var hs-var">mkPrefixSuffixMap</span></a></span></span><span> </span><span id="local-6989586621687867438"><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621687867438"><span class="hs-identifier hs-var">mPrefix</span></a></span></span><span> </span><span id="local-6989586621687867439"><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621687867439"><span class="hs-identifier hs-var">mSuffix</span></a></span></span><span> </span><span id="local-6989586621687867440"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621687867440"><span class="hs-identifier hs-var">names</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Name, Name)] -&gt; HashMap Name Name
forall k v. (Eq k, Hashable k) =&gt; [(k, v)] -&gt; HashMap k v
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/unordered-containers-0.2.20-6d56f9b3abc6011ddb6e237c415126423ab5ceb5c078221bba2ff80dbe921009/share/doc/html/src/Data.HashMap.Internal.Strict.html/Data.HashMap.Internal.Strict.html#fromList"><span class="hs-identifier hs-var">HashMap.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([(Name, Name)] -&gt; HashMap Name Name)
-&gt; [(Name, Name)] -&gt; HashMap Name Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621687867438"><span class="hs-identifier hs-var">mPrefix</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621687867439"><span class="hs-identifier hs-var">mSuffix</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-436"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Name
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-437"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621687867441"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867441"><span class="hs-identifier hs-var">prefix</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Name -&gt; (Name, Name)) -&gt; [Name] -&gt; [(Name, Name)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621687867442"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867442"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867442"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867441"><span class="hs-identifier hs-var">prefix</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Name
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867442"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621687867440"><span class="hs-identifier hs-var">names</span></a></span><span>
</span><span id="line-438"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Name
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621687867443"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867443"><span class="hs-identifier hs-var">suffix</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Name -&gt; (Name, Name)) -&gt; [Name] -&gt; [(Name, Name)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621687867444"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867444"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867444"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867444"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Name
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867443"><span class="hs-identifier hs-var">suffix</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621687867440"><span class="hs-identifier hs-var">names</span></a></span><span>
</span><span id="line-439"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621687867445"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867445"><span class="hs-identifier hs-var">prefix</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621687867446"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867446"><span class="hs-identifier hs-var">suffix</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Name -&gt; (Name, Name)) -&gt; [Name] -&gt; [(Name, Name)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621687867447"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867447"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867447"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867445"><span class="hs-identifier hs-var">prefix</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Name
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867447"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Name
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867446"><span class="hs-identifier hs-var">suffix</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621687867440"><span class="hs-identifier hs-var">names</span></a></span><span>
</span><span id="line-440"></span><span>
</span><span id="line-441"></span><span>    </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#RemoteSchemaIntrospection"><span class="hs-identifier hs-type">RemoteSchemaIntrospection</span></a></span><span> </span><span id="local-6989586621687867448"><span class="annot"><span class="annottext">HashMap
  Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
</span><a href="#local-6989586621687867448"><span class="hs-identifier hs-var">typeDefinitions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RemoteSchemaIntrospection
</span><a href="#local-6989586621687867407"><span class="hs-identifier hs-var">irDoc</span></a></span><span>
</span><span id="line-442"></span><span>    </span><span id="local-6989586621687867449"><span class="annot"><span class="annottext">typesToRename :: [Name]
</span><a href="#local-6989586621687867449"><span class="hs-identifier hs-var hs-var">typesToRename</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Bool) -&gt; [Name] -&gt; [Name]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Bool
</span><a href="#local-6989586621687867431"><span class="hs-identifier hs-var">nameFilter</span></a></span><span> </span><span class="annot"><span class="annottext">([Name] -&gt; [Name]) -&gt; [Name] -&gt; [Name]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HashMap
  Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
-&gt; [Name]
forall k v. HashMap k v -&gt; [k]
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/unordered-containers-0.2.20-6d56f9b3abc6011ddb6e237c415126423ab5ceb5c078221bba2ff80dbe921009/share/doc/html/src/Data.HashMap.Internal.html/Data.HashMap.Internal.html#keys"><span class="hs-identifier hs-var">HashMap.keys</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap
  Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
</span><a href="#local-6989586621687867448"><span class="hs-identifier hs-var">typeDefinitions</span></a></span><span>
</span><span id="line-443"></span><span>
</span><span id="line-444"></span><span>    </span><span class="hs-comment">-- NOTE: We are creating a root type name mapping, this will be used to</span><span>
</span><span id="line-445"></span><span>    </span><span class="hs-comment">-- prefix the root field names with the root field namespace. We are doing</span><span>
</span><span id="line-446"></span><span>    </span><span class="hs-comment">-- this inorder to reduce typename conflicts while adding the root field</span><span>
</span><span id="line-447"></span><span>    </span><span class="hs-comment">-- namespace. Please note that this will have lower precedence order than</span><span>
</span><span id="line-448"></span><span>    </span><span class="hs-comment">-- the _rtcMapping. This means that a user can still change the root type</span><span>
</span><span id="line-449"></span><span>    </span><span class="hs-comment">-- name.</span><span>
</span><span id="line-450"></span><span>    </span><span id="local-6989586621687867450"><span class="annot"><span class="annottext">rootTypeNameMap :: HashMap Name Name
</span><a href="#local-6989586621687867450"><span class="hs-identifier hs-var hs-var">rootTypeNameMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-451"></span><span>      </span><span class="annot"><span class="annottext">Maybe Name -&gt; Maybe Name -&gt; [Name] -&gt; HashMap Name Name
</span><a href="#local-6989586621687867437"><span class="hs-identifier hs-var">mkPrefixSuffixMap</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621687867412"><span class="hs-identifier hs-var">_rscRootFieldsNamespace</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Name
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-452"></span><span>        </span><span class="annot"><span class="annottext">([Name] -&gt; HashMap Name Name) -&gt; [Name] -&gt; HashMap Name Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Maybe Name] -&gt; [Name]
forall a. [Maybe a] -&gt; [a]
forall (f :: * -&gt; *) a. Filterable f =&gt; f (Maybe a) -&gt; f a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/witherable-0.5-ed5d92584b79c1fa03d7efeb1159ae93eef86189605b088dd8806eb40d0b16f5/share/doc/html/src/Witherable.html/Witherable.html#catMaybes"><span class="hs-identifier hs-var">catMaybes</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Name -&gt; Maybe Name
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687867408"><span class="hs-identifier hs-var">irQueryRoot</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621687867409"><span class="hs-identifier hs-var">irMutationRoot</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621687867410"><span class="hs-identifier hs-var">irSubscriptionRoot</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-453"></span><span>
</span><span id="line-454"></span><span>    </span><span id="local-6989586621687867451"><span class="annot"><span class="annottext">typeRenameMap :: HashMap Name Name
</span><a href="#local-6989586621687867451"><span class="hs-identifier hs-var hs-var">typeRenameMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-455"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe RemoteTypeCustomization
</span><a href="#local-6989586621687867413"><span class="hs-identifier hs-var">_rscTypeNames</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-456"></span><span>        </span><span class="annot"><span class="annottext">Maybe RemoteTypeCustomization
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HashMap Name Name
</span><a href="#local-6989586621687867450"><span class="hs-identifier hs-var">rootTypeNameMap</span></a></span><span>
</span><span id="line-457"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.Metadata.Customization.html#RemoteTypeCustomization"><span class="hs-identifier hs-type">RemoteTypeCustomization</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621687867453"><span id="local-6989586621687867454"><span id="local-6989586621687867455"><span class="annot"><span class="annottext">Maybe Name
HashMap Name Name
_rtcPrefix :: Maybe Name
_rtcSuffix :: Maybe Name
_rtcMapping :: HashMap Name Name
_rtcMapping :: RemoteTypeCustomization -&gt; HashMap Name Name
_rtcSuffix :: RemoteTypeCustomization -&gt; Maybe Name
_rtcPrefix :: RemoteTypeCustomization -&gt; Maybe Name
</span><a href="#local-6989586621687867453"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-458"></span><span>          </span><span class="annot"><span class="annottext">HashMap Name Name
</span><a href="#local-6989586621687867455"><span class="hs-identifier hs-var">_rtcMapping</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name Name -&gt; HashMap Name Name -&gt; HashMap Name Name
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashMap Name Name
</span><a href="#local-6989586621687867450"><span class="hs-identifier hs-var">rootTypeNameMap</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name Name -&gt; HashMap Name Name -&gt; HashMap Name Name
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe Name -&gt; Maybe Name -&gt; [Name] -&gt; HashMap Name Name
</span><a href="#local-6989586621687867437"><span class="hs-identifier hs-var">mkPrefixSuffixMap</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621687867453"><span class="hs-identifier hs-var">_rtcPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621687867454"><span class="hs-identifier hs-var">_rtcSuffix</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621687867449"><span class="hs-identifier hs-var">typesToRename</span></a></span><span>
</span><span id="line-459"></span><span>
</span><span id="line-460"></span><span>    </span><span class="annot"><a href="#local-6989586621687867459"><span class="hs-identifier hs-type">typeFieldMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/unordered-containers-0.2.20-6d56f9b3abc6011ddb6e237c415126423ab5ceb5c078221bba2ff80dbe921009/share/doc/html/src/Data.HashMap.Internal.html/Data.HashMap.Internal.html#HashMap"><span class="hs-identifier hs-type">HashMap</span></a></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.Name.html/Language.GraphQL.Draft.Syntax.Name.html#Name"><span class="hs-identifier hs-type">G.Name</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.Name.html/Language.GraphQL.Draft.Syntax.Name.html#Name"><span class="hs-identifier hs-type">G.Name</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- typeName -&gt; fieldNames</span><span>
</span><span id="line-461"></span><span>    </span><span id="local-6989586621687867459"><span class="annot"><span class="annottext">typeFieldMap :: HashMap Name [Name]
</span><a href="#local-6989586621687867459"><span class="hs-identifier hs-var hs-var">typeFieldMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-462"></span><span>      </span><span class="annot"><span class="annottext">(TypeDefinition [Name] RemoteSchemaInputValueDefinition
 -&gt; Maybe [Name])
-&gt; HashMap
     Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
-&gt; HashMap Name [Name]
forall a b. (a -&gt; Maybe b) -&gt; HashMap Name a -&gt; HashMap Name b
forall (f :: * -&gt; *) a b.
Filterable f =&gt;
(a -&gt; Maybe b) -&gt; f a -&gt; f b
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/witherable-0.5-ed5d92584b79c1fa03d7efeb1159ae93eef86189605b088dd8806eb40d0b16f5/share/doc/html/src/Witherable.html/Witherable.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">TypeDefinition [Name] RemoteSchemaInputValueDefinition
-&gt; Maybe [Name]
forall {possibleTypes} {inputType}.
TypeDefinition possibleTypes inputType -&gt; Maybe [Name]
</span><a href="#local-6989586621687867461"><span class="hs-identifier hs-var">getFieldsNames</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap
  Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
</span><a href="#local-6989586621687867448"><span class="hs-identifier hs-var">typeDefinitions</span></a></span><span>
</span><span id="line-463"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-464"></span><span>        </span><span id="local-6989586621687867461"><span class="annot"><span class="annottext">getFieldsNames :: TypeDefinition possibleTypes inputType -&gt; Maybe [Name]
</span><a href="#local-6989586621687867461"><span class="hs-identifier hs-var hs-var">getFieldsNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-465"></span><span>          </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#TypeDefinitionObject"><span class="hs-identifier hs-type">G.TypeDefinitionObject</span></a></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#ObjectTypeDefinition"><span class="hs-identifier hs-type">G.ObjectTypeDefinition</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621687867464"><span id="local-6989586621687867465"><span id="local-6989586621687867466"><span id="local-6989586621687867467"><span id="local-6989586621687867468"><span class="annot"><span class="annottext">[Name]
[FieldDefinition inputType]
[Directive Void]
Maybe Description
Name
_otdFieldsDefinition :: forall inputType.
ObjectTypeDefinition inputType -&gt; [FieldDefinition inputType]
_otdDirectives :: forall inputType.
ObjectTypeDefinition inputType -&gt; [Directive Void]
_otdImplementsInterfaces :: forall inputType. ObjectTypeDefinition inputType -&gt; [Name]
_otdName :: forall inputType. ObjectTypeDefinition inputType -&gt; Name
_otdDescription :: forall inputType.
ObjectTypeDefinition inputType -&gt; Maybe Description
_otdDescription :: Maybe Description
_otdName :: Name
_otdImplementsInterfaces :: [Name]
_otdDirectives :: [Directive Void]
_otdFieldsDefinition :: [FieldDefinition inputType]
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#_otdFieldsDefinition"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; Maybe [Name]
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">([Name] -&gt; Maybe [Name]) -&gt; [Name] -&gt; Maybe [Name]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FieldDefinition inputType -&gt; Name
forall inputType. FieldDefinition inputType -&gt; Name
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#_fldName"><span class="hs-identifier hs-var">G._fldName</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldDefinition inputType -&gt; Name)
-&gt; [FieldDefinition inputType] -&gt; [Name]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[FieldDefinition inputType]
</span><a href="#local-6989586621687867468"><span class="hs-identifier hs-var">_otdFieldsDefinition</span></a></span><span>
</span><span id="line-466"></span><span>          </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#TypeDefinitionInterface"><span class="hs-identifier hs-type">G.TypeDefinitionInterface</span></a></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#InterfaceTypeDefinition"><span class="hs-identifier hs-type">G.InterfaceTypeDefinition</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621687867469"><span id="local-6989586621687867470"><span id="local-6989586621687867471"><span id="local-6989586621687867472"><span id="local-6989586621687867473"><span class="annot"><span class="annottext">possibleTypes
[FieldDefinition inputType]
[Directive Void]
Maybe Description
Name
_itdPossibleTypes :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; possibleTypes
_itdFieldsDefinition :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType
-&gt; [FieldDefinition inputType]
_itdDirectives :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; [Directive Void]
_itdName :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; Name
_itdDescription :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType
-&gt; Maybe Description
_itdDescription :: Maybe Description
_itdName :: Name
_itdDirectives :: [Directive Void]
_itdFieldsDefinition :: [FieldDefinition inputType]
_itdPossibleTypes :: possibleTypes
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#_itdPossibleTypes"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; Maybe [Name]
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">([Name] -&gt; Maybe [Name]) -&gt; [Name] -&gt; Maybe [Name]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FieldDefinition inputType -&gt; Name
forall inputType. FieldDefinition inputType -&gt; Name
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html/Language.GraphQL.Draft.Syntax.html#_fldName"><span class="hs-identifier hs-var">G._fldName</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldDefinition inputType -&gt; Name)
-&gt; [FieldDefinition inputType] -&gt; [Name]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[FieldDefinition inputType]
</span><a href="#local-6989586621687867472"><span class="hs-identifier hs-var">_itdFieldsDefinition</span></a></span><span>
</span><span id="line-467"></span><span>          </span><span class="annot"><span class="annottext">TypeDefinition possibleTypes inputType
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe [Name]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-468"></span><span>
</span><span id="line-469"></span><span>    </span><span id="local-6989586621687867477"><span class="annot"><span class="annottext">mkFieldRenameMap :: RemoteFieldCustomization -&gt; [Name] -&gt; HashMap Name Name
</span><a href="#local-6989586621687867477"><span class="hs-identifier hs-var hs-var">mkFieldRenameMap</span></a></span></span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.Metadata.Customization.html#RemoteFieldCustomization"><span class="hs-identifier hs-type">RemoteFieldCustomization</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621687867479"><span id="local-6989586621687867480"><span id="local-6989586621687867481"><span id="local-6989586621687867482"><span class="annot"><span class="annottext">Maybe Name
HashMap Name Name
Name
_rfcParentType :: Name
_rfcPrefix :: Maybe Name
_rfcSuffix :: Maybe Name
_rfcMapping :: HashMap Name Name
_rfcMapping :: RemoteFieldCustomization -&gt; HashMap Name Name
_rfcSuffix :: RemoteFieldCustomization -&gt; Maybe Name
_rfcPrefix :: RemoteFieldCustomization -&gt; Maybe Name
_rfcParentType :: RemoteFieldCustomization -&gt; Name
</span><a href="#local-6989586621687867479"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621687867487"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621687867487"><span class="hs-identifier hs-var">fieldNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-470"></span><span>      </span><span class="annot"><span class="annottext">HashMap Name Name
</span><a href="#local-6989586621687867482"><span class="hs-identifier hs-var">_rfcMapping</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name Name -&gt; HashMap Name Name -&gt; HashMap Name Name
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe Name -&gt; Maybe Name -&gt; [Name] -&gt; HashMap Name Name
</span><a href="#local-6989586621687867437"><span class="hs-identifier hs-var">mkPrefixSuffixMap</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621687867480"><span class="hs-identifier hs-var">_rfcPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621687867481"><span class="hs-identifier hs-var">_rfcSuffix</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621687867487"><span class="hs-identifier hs-var">fieldNames</span></a></span><span>
</span><span id="line-471"></span><span>
</span><span id="line-472"></span><span>    </span><span id="local-6989586621687867488"><span class="annot"><span class="annottext">fieldRenameMap :: HashMap Name (HashMap Name Name)
</span><a href="#local-6989586621687867488"><span class="hs-identifier hs-var hs-var">fieldRenameMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-473"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe [RemoteFieldCustomization]
</span><a href="#local-6989586621687867414"><span class="hs-identifier hs-var">_rscFieldNames</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-474"></span><span>        </span><span class="annot"><span class="annottext">Maybe [RemoteFieldCustomization]
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HashMap Name (HashMap Name Name)
forall k v. HashMap k v
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/unordered-containers-0.2.20-6d56f9b3abc6011ddb6e237c415126423ab5ceb5c078221bba2ff80dbe921009/share/doc/html/src/Data.HashMap.Internal.html/Data.HashMap.Internal.html#empty"><span class="hs-identifier hs-var">HashMap.empty</span></a></span><span>
</span><span id="line-475"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621687867489"><span class="annot"><span class="annottext">[RemoteFieldCustomization]
</span><a href="#local-6989586621687867489"><span class="hs-identifier hs-var">fieldNameCustomizations</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-476"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687867490"><span class="annot"><span class="annottext">customizationMap :: HashMap Name RemoteFieldCustomization
</span><a href="#local-6989586621687867490"><span class="hs-identifier hs-var hs-var">customizationMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Name, RemoteFieldCustomization)]
-&gt; HashMap Name RemoteFieldCustomization
forall k v. (Eq k, Hashable k) =&gt; [(k, v)] -&gt; HashMap k v
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/unordered-containers-0.2.20-6d56f9b3abc6011ddb6e237c415126423ab5ceb5c078221bba2ff80dbe921009/share/doc/html/src/Data.HashMap.Internal.Strict.html/Data.HashMap.Internal.Strict.html#fromList"><span class="hs-identifier hs-var">HashMap.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([(Name, RemoteFieldCustomization)]
 -&gt; HashMap Name RemoteFieldCustomization)
-&gt; [(Name, RemoteFieldCustomization)]
-&gt; HashMap Name RemoteFieldCustomization
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(RemoteFieldCustomization -&gt; (Name, RemoteFieldCustomization))
-&gt; [RemoteFieldCustomization] -&gt; [(Name, RemoteFieldCustomization)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621687867491"><span class="annot"><span class="annottext">RemoteFieldCustomization
</span><a href="#local-6989586621687867491"><span class="hs-identifier hs-var">rfc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RemoteFieldCustomization -&gt; Name
</span><a href="Hasura.RemoteSchema.Metadata.Customization.html#_rfcParentType"><span class="hs-identifier hs-var">_rfcParentType</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteFieldCustomization
</span><a href="#local-6989586621687867491"><span class="hs-identifier hs-var">rfc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RemoteFieldCustomization
</span><a href="#local-6989586621687867491"><span class="hs-identifier hs-var">rfc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[RemoteFieldCustomization]
</span><a href="#local-6989586621687867489"><span class="hs-identifier hs-var">fieldNameCustomizations</span></a></span><span>
</span><span id="line-477"></span><span>           </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(RemoteFieldCustomization -&gt; [Name] -&gt; HashMap Name Name)
-&gt; HashMap Name RemoteFieldCustomization
-&gt; HashMap Name [Name]
-&gt; HashMap Name (HashMap Name Name)
forall k v1 v2 v3.
Eq k =&gt;
(v1 -&gt; v2 -&gt; v3) -&gt; HashMap k v1 -&gt; HashMap k v2 -&gt; HashMap k v3
</span><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/unordered-containers-0.2.20-6d56f9b3abc6011ddb6e237c415126423ab5ceb5c078221bba2ff80dbe921009/share/doc/html/src/Data.HashMap.Internal.Strict.html/Data.HashMap.Internal.Strict.html#intersectionWith"><span class="hs-identifier hs-var">HashMap.intersectionWith</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteFieldCustomization -&gt; [Name] -&gt; HashMap Name Name
</span><a href="#local-6989586621687867477"><span class="hs-identifier hs-var">mkFieldRenameMap</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name RemoteFieldCustomization
</span><a href="#local-6989586621687867490"><span class="hs-identifier hs-var">customizationMap</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name [Name]
</span><a href="#local-6989586621687867459"><span class="hs-identifier hs-var">typeFieldMap</span></a></span><span>
</span><span id="line-478"></span><span>
</span><span id="line-479"></span><span>    </span><span id="local-6989586621687867419"><span class="annot"><span class="annottext">_rscNamespaceFieldName :: Maybe Name
</span><a href="#local-6989586621687867419"><span class="hs-identifier hs-var hs-var">_rscNamespaceFieldName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621687867412"><span class="hs-identifier hs-var">_rscRootFieldsNamespace</span></a></span><span>
</span><span id="line-480"></span><span>    </span><span id="local-6989586621687867420"><span class="annot"><span class="annottext">_rscCustomizeTypeName :: HashMap Name Name
</span><a href="#local-6989586621687867420"><span class="hs-identifier hs-var hs-var">_rscCustomizeTypeName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HashMap Name Name
</span><a href="#local-6989586621687867451"><span class="hs-identifier hs-var">typeRenameMap</span></a></span><span>
</span><span id="line-481"></span><span>    </span><span id="local-6989586621687867421"><span class="annot"><span class="annottext">_rscCustomizeFieldName :: HashMap Name (HashMap Name Name)
</span><a href="#local-6989586621687867421"><span class="hs-identifier hs-var hs-var">_rscCustomizeFieldName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HashMap Name (HashMap Name Name)
</span><a href="#local-6989586621687867488"><span class="hs-identifier hs-var">fieldRenameMap</span></a></span><span>
</span><span id="line-482"></span><span>
</span><span id="line-483"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-484"></span><span class="hs-comment">-- Local error handling</span><span>
</span><span id="line-485"></span><span>
</span><span id="line-486"></span><span id="local-6989586621687866038"><span id="local-6989586621687866039"><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#pErr"><span class="hs-identifier hs-type">pErr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadFail</span></span><span> </span><span class="annot"><a href="#local-6989586621687866038"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621687866038"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687866039"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-487"></span><span id="pErr"><span class="annot"><span class="annottext">pErr :: forall (m :: * -&gt; *) a. MonadFail m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#pErr"><span class="hs-identifier hs-var hs-var">pErr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; m a
forall a. String -&gt; m a
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><span class="hs-identifier hs-var">fail</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m a) -&gt; (Text -&gt; String) -&gt; Text -&gt; m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><span class="hs-identifier hs-var">T.unpack</span></span><span>
</span><span id="line-488"></span><span>
</span><span id="line-489"></span><span id="local-6989586621687865822"><span id="local-6989586621687865824"><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchema"><span class="hs-identifier hs-type">throwRemoteSchema</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#QErrM"><span class="hs-identifier hs-type">QErrM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687865822"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621687865822"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687865824"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-490"></span><span id="throwRemoteSchema"><span class="annot"><span class="annottext">throwRemoteSchema :: forall (m :: * -&gt; *) a. QErrM m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchema"><span class="hs-identifier hs-var hs-var">throwRemoteSchema</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Code -&gt; Text -&gt; m a
forall (m :: * -&gt; *) a. QErrM m =&gt; Code -&gt; Text -&gt; m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#throw400"><span class="hs-identifier hs-var">throw400</span></a></span><span> </span><span class="annot"><span class="annottext">Code
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#RemoteSchemaError"><span class="hs-identifier hs-var">RemoteSchemaError</span></a></span><span>
</span><span id="line-491"></span><span>
</span><span id="line-492"></span><span id="local-6989586621687865902"><span id="local-6989586621687865903"><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchemaHttp"><span class="hs-identifier hs-type">throwRemoteSchemaHttp</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-493"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#QErrM"><span class="hs-identifier hs-type">QErrM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687865902"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-494"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.Common.html#EnvRecord"><span class="hs-identifier hs-type">EnvRecord</span></a></span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/network-uri-2.6.4.2-b263325122afad86317f4820b990e7f912731b43c915e95da13f3388a6506f4a/share/doc/html/src/Network.URI.html/Network.URI.html#URI"><span class="hs-identifier hs-type">URI</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-495"></span><span>  </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/http-client-0.7.17-1b2133de2c2ce095aea721bc3d56fba68148ba6d3c4af69a01586f3a88b4e771/share/doc/html/src/Network.HTTP.Client.Types.html/Network.HTTP.Client.Types.html#HttpException"><span class="hs-identifier hs-type">HTTP.HttpException</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-496"></span><span>  </span><span class="annot"><a href="#local-6989586621687865902"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687865903"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-497"></span><span id="throwRemoteSchemaHttp"><span class="annot"><span class="annottext">throwRemoteSchemaHttp :: forall (m :: * -&gt; *) a.
QErrM m =&gt;
EnvRecord URI -&gt; HttpException -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchemaHttp"><span class="hs-identifier hs-var hs-var">throwRemoteSchemaHttp</span></a></span></span><span> </span><span id="local-6989586621687867501"><span class="annot"><span class="annottext">EnvRecord URI
</span><a href="#local-6989586621687867501"><span class="hs-identifier hs-var">urlEnvRecord</span></a></span></span><span> </span><span id="local-6989586621687867502"><span class="annot"><span class="annottext">HttpException
</span><a href="#local-6989586621687867502"><span class="hs-identifier hs-var">exception</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-498"></span><span>  </span><span class="annot"><span class="annottext">QErr -&gt; m a
forall a. QErr -&gt; m a
forall e (m :: * -&gt; *) a. MonadError e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">throwError</span></span><span>
</span><span id="line-499"></span><span>    </span><span class="annot"><span class="annottext">(QErr -&gt; m a) -&gt; QErr -&gt; m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EnvRecord URI -&gt; QErr
forall {a}. EnvRecord a -&gt; QErr
</span><a href="#local-6989586621687867504"><span class="hs-identifier hs-var">baseError</span></a></span><span> </span><span class="annot"><span class="annottext">EnvRecord URI
</span><a href="#local-6989586621687867501"><span class="hs-identifier hs-var">urlEnvRecord</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-500"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#qeInternal"><span class="hs-identifier hs-var">qeInternal</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#ExtraInternal"><span class="hs-identifier hs-type">ExtraInternal</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Hasura.HTTP.html#getHttpExceptionJson"><span class="hs-identifier hs-type">getHttpExceptionJson</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.HTTP.html#ShowErrorInfo"><span class="hs-identifier hs-type">ShowErrorInfo</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Hasura.HTTP.html#HttpException"><span class="hs-identifier hs-type">HttpException</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687867502"><span class="hs-identifier hs-type">exception</span></a></span><span>
</span><span id="line-501"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-502"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-503"></span><span>    </span><span id="local-6989586621687867504"><span class="annot"><span class="annottext">baseError :: EnvRecord a -&gt; QErr
</span><a href="#local-6989586621687867504"><span class="hs-identifier hs-var hs-var">baseError</span></a></span></span><span> </span><span id="local-6989586621687867510"><span class="annot"><span class="annottext">EnvRecord a
</span><a href="#local-6989586621687867510"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Code -&gt; Text -&gt; QErr
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#err400"><span class="hs-identifier hs-var">err400</span></a></span><span> </span><span class="annot"><span class="annottext">Code
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html/Hasura.Base.Error.html#RemoteSchemaError"><span class="hs-identifier hs-var">RemoteSchemaError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EnvRecord a -&gt; Text
forall {a}. EnvRecord a -&gt; Text
</span><a href="#local-6989586621687867512"><span class="hs-identifier hs-var">httpExceptMsg</span></a></span><span> </span><span class="annot"><span class="annottext">EnvRecord a
</span><a href="#local-6989586621687867510"><span class="hs-identifier hs-var">val</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-504"></span><span>    </span><span id="local-6989586621687867512"><span class="annot"><span class="annottext">httpExceptMsg :: EnvRecord a -&gt; Text
</span><a href="#local-6989586621687867512"><span class="hs-identifier hs-var hs-var">httpExceptMsg</span></a></span></span><span> </span><span id="local-6989586621687867517"><span class="annot"><span class="annottext">EnvRecord a
</span><a href="#local-6989586621687867517"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;HTTP exception occurred while sending the request to &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text
forall a. Show a =&gt; a -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html/Hasura.Prelude.html#tshow"><span class="hs-identifier hs-var">tshow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EnvRecord a -&gt; Text
forall {a}. EnvRecord a -&gt; Text
</span><a href="Hasura.RQL.Types.Common.html#_envVarName"><span class="hs-identifier hs-var">_envVarName</span></a></span><span> </span><span class="annot"><span class="annottext">EnvRecord a
</span><a href="#local-6989586621687867517"><span class="hs-identifier hs-var">val</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-505"></span></pre></body></html>