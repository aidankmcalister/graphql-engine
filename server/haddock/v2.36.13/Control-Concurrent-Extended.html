<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Control.Concurrent.Extended</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">graphql-engine-1.0.0: GraphQL API over Postgres</span><ul class="links" id="page-menu"><li id="quick-jump-button"><a href="#">Quick Jump</a></li><li><a href="src/Control.Concurrent.Extended.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Control.Concurrent.Extended</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Robust forking</a></li><li><a href="#g:2">Concurrency in MonadError</a></li><li><a href="#g:3">Deprecated</a></li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:ThreadId">ThreadId</a></li><li class="src short"><a href="#v:forkIO">forkIO</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> () -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a></li><li class="src short"><a href="#v:forkOS">forkOS</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> () -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a></li><li class="src short"><a href="#v:forkOn">forkOn</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> () -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a></li><li class="src short"><a href="#v:forkIOWithUnmask">forkIOWithUnmask</a> :: ((<span class="keyword">forall</span> a. <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a) -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> ()) -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a></li><li class="src short"><a href="#v:forkOnWithUnmask">forkOnWithUnmask</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; ((<span class="keyword">forall</span> a. <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a) -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> ()) -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a></li><li class="src short"><a href="#v:myThreadId">myThreadId</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:MVar">MVar</a> a</li><li class="src short"><a href="#v:newEmptyMVar">newEmptyMVar</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a)</li><li class="src short"><a href="#v:newMVar">newMVar</a> :: a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a)</li><li class="src short"><a href="#v:takeMVar">takeMVar</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a</li><li class="src short"><a href="#v:readMVar">readMVar</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a</li><li class="src short"><a href="#v:putMVar">putMVar</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> ()</li><li class="src short"><a href="#v:tryTakeMVar">tryTakeMVar</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a)</li><li class="src short"><a href="#v:tryPutMVar">tryPutMVar</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:tryReadMVar">tryReadMVar</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a)</li><li class="src short"><a href="#v:isEmptyMVar">isEmptyMVar</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:addMVarFinalizer">addMVarFinalizer</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> () -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> ()</li><li class="src short"><a href="#v:getNumCapabilities">getNumCapabilities</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:setNumCapabilities">setNumCapabilities</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> ()</li><li class="src short"><a href="#v:killThread">killThread</a> :: <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> ()</li><li class="src short"><a href="#v:throwTo">throwTo</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Exception.html#t:Exception" title="Control.Exception">Exception</a> e =&gt; <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> -&gt; e -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> ()</li><li class="src short"><a href="#v:yield">yield</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> ()</li><li class="src short"><a href="#v:threadCapability">threadCapability</a> :: <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>)</li><li class="src short"><a href="#v:mkWeakThreadId">mkWeakThreadId</a> :: <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/System-Mem-Weak.html#t:Weak" title="System.Mem.Weak">Weak</a> <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a>)</li><li class="src short"><a href="#v:withMVar">withMVar</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; (a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> b) -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> b</li><li class="src short"><a href="#v:modifyMVar_">modifyMVar_</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; (a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a) -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> ()</li><li class="src short"><a href="#v:swapMVar">swapMVar</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a</li><li class="src short"><a href="#v:withMVarMasked">withMVarMasked</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; (a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> b) -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> b</li><li class="src short"><a href="#v:modifyMVar">modifyMVar</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; (a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> (a, b)) -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> b</li><li class="src short"><a href="#v:modifyMVarMasked_">modifyMVarMasked_</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; (a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a) -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> ()</li><li class="src short"><a href="#v:modifyMVarMasked">modifyMVarMasked</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; (a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> (a, b)) -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> b</li><li class="src short"><a href="#v:mkWeakMVar">mkWeakMVar</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> () -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/System-Mem-Weak.html#t:Weak" title="System.Mem.Weak">Weak</a> (<a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a))</li><li class="src short"><a href="#v:threadWaitRead">threadWaitRead</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/ghc-internal-9.1001.0-inplace/GHC-Internal-System-Posix-Types.html#t:Fd" title="GHC.Internal.System.Posix.Types">Fd</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> ()</li><li class="src short"><a href="#v:threadWaitWrite">threadWaitWrite</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/ghc-internal-9.1001.0-inplace/GHC-Internal-System-Posix-Types.html#t:Fd" title="GHC.Internal.System.Posix.Types">Fd</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> ()</li><li class="src short"><a href="#v:threadWaitReadSTM">threadWaitReadSTM</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/ghc-internal-9.1001.0-inplace/GHC-Internal-System-Posix-Types.html#t:Fd" title="GHC.Internal.System.Posix.Types">Fd</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/GHC-Conc-Sync.html#t:STM" title="GHC.Conc.Sync">STM</a> (), <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> ())</li><li class="src short"><a href="#v:threadWaitWriteSTM">threadWaitWriteSTM</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/ghc-internal-9.1001.0-inplace/GHC-Internal-System-Posix-Types.html#t:Fd" title="GHC.Internal.System.Posix.Types">Fd</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/GHC-Conc-Sync.html#t:STM" title="GHC.Conc.Sync">STM</a> (), <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> ())</li><li class="src short"><a href="#v:rtsSupportsBoundThreads">rtsSupportsBoundThreads</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:forkOSWithUnmask">forkOSWithUnmask</a> :: ((<span class="keyword">forall</span> a. <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a) -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> ()) -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a></li><li class="src short"><a href="#v:isCurrentThreadBound">isCurrentThreadBound</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:runInBoundThread">runInBoundThread</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a</li><li class="src short"><a href="#v:runInUnboundThread">runInUnboundThread</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a</li><li class="src short"><span class="keyword">data</span> <a href="#t:QSem">QSem</a></li><li class="src short"><a href="#v:newQSem">newQSem</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> <a href="Control-Concurrent-Extended.html#t:QSem" title="Control.Concurrent.Extended">QSem</a></li><li class="src short"><a href="#v:waitQSem">waitQSem</a> :: <a href="Control-Concurrent-Extended.html#t:QSem" title="Control.Concurrent.Extended">QSem</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> ()</li><li class="src short"><a href="#v:signalQSem">signalQSem</a> :: <a href="Control-Concurrent-Extended.html#t:QSem" title="Control.Concurrent.Extended">QSem</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:QSemN">QSemN</a></li><li class="src short"><a href="#v:newQSemN">newQSemN</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> <a href="Control-Concurrent-Extended.html#t:QSemN" title="Control.Concurrent.Extended">QSemN</a></li><li class="src short"><a href="#v:waitQSemN">waitQSemN</a> :: <a href="Control-Concurrent-Extended.html#t:QSemN" title="Control.Concurrent.Extended">QSemN</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> ()</li><li class="src short"><a href="#v:signalQSemN">signalQSemN</a> :: <a href="Control-Concurrent-Extended.html#t:QSemN" title="Control.Concurrent.Extended">QSemN</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:Chan">Chan</a> a</li><li class="src short"><a href="#v:newChan">newChan</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="Control-Concurrent-Extended.html#t:Chan" title="Control.Concurrent.Extended">Chan</a> a)</li><li class="src short"><a href="#v:writeChan">writeChan</a> :: <a href="Control-Concurrent-Extended.html#t:Chan" title="Control.Concurrent.Extended">Chan</a> a -&gt; a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> ()</li><li class="src short"><a href="#v:readChan">readChan</a> :: <a href="Control-Concurrent-Extended.html#t:Chan" title="Control.Concurrent.Extended">Chan</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a</li><li class="src short"><a href="#v:dupChan">dupChan</a> :: <a href="Control-Concurrent-Extended.html#t:Chan" title="Control.Concurrent.Extended">Chan</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="Control-Concurrent-Extended.html#t:Chan" title="Control.Concurrent.Extended">Chan</a> a)</li><li class="src short"><a href="#v:getChanContents">getChanContents</a> :: <a href="Control-Concurrent-Extended.html#t:Chan" title="Control.Concurrent.Extended">Chan</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> [a]</li><li class="src short"><a href="#v:writeList2Chan">writeList2Chan</a> :: <a href="Control-Concurrent-Extended.html#t:Chan" title="Control.Concurrent.Extended">Chan</a> a -&gt; [a] -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> ()</li><li class="src short"><a href="#v:forkFinally">forkFinally</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a -&gt; (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Exception.html#t:SomeException" title="Control.Exception">SomeException</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> ()) -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a></li><li class="src short"><a href="#v:sleep">sleep</a> :: <a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/Data-Time-Clock-Units.html#t:DiffTime" title="Data.Time.Clock.Units">DiffTime</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> ()</li><li class="src short"><span class="keyword">type</span> <a href="#t:ForkableMonadIO">ForkableMonadIO</a> (m :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) = (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/list-t-1.0.5.7-a9c088a22c96b528949c3d615f362558ac693f07383e5e281f8eb8cdccb32dfb/share/doc/html/ListT-Prelude.html#t:MonadBaseControl" title="ListT.Prelude">MonadBaseControl</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> m, <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/constraints-0.14.2-ff824dad83d629e0fa70449d98d0e80ecc50be2f324c7bd62638caa7179948ea/share/doc/html/Data-Constraint-Forall.html#t:Forall" title="Data.Constraint.Forall">Forall</a> (<a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/lifted-async-0.10.2.5-7453f3a39fe1c149b1fdd3dbcd3716b82112049f5f698aafbd6eb5b568cc41a4/share/doc/html/Control-Concurrent-Async-Lifted-Safe.html#t:Pure" title="Control.Concurrent.Async.Lifted.Safe">Pure</a> m))</li><li class="src short"><a href="#v:forkImmortal">forkImmortal</a> :: <a href="Control-Concurrent-Extended.html#t:ForkableMonadIO" title="Control.Concurrent.Extended">ForkableMonadIO</a> m =&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Hasura-Logging.html#t:Logger" title="Hasura.Logging">Logger</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a> -&gt; m <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Internal-Prelude.html#t:Void" title="Data.Aeson.Internal.Prelude">Void</a> -&gt; m <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/immortal-0.2.2.1-83f0896f3c9fa80f58a39a835fbc28f3c476beede5c2f431960b94f99f3ea852/share/doc/html/Control-Immortal.html#t:Thread" title="Control.Immortal">Thread</a></li><li class="src short"><a href="#v:forkManagedT">forkManagedT</a> :: <a href="Control-Concurrent-Extended.html#t:ForkableMonadIO" title="Control.Concurrent.Extended">ForkableMonadIO</a> m =&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Hasura-Logging.html#t:Logger" title="Hasura.Logging">Logger</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a> -&gt; m <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Internal-Prelude.html#t:Void" title="Data.Aeson.Internal.Prelude">Void</a> -&gt; <a href="Control-Monad-Trans-Managed.html#t:ManagedT" title="Control.Monad.Trans.Managed">ManagedT</a> m <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/immortal-0.2.2.1-83f0896f3c9fa80f58a39a835fbc28f3c476beede5c2f431960b94f99f3ea852/share/doc/html/Control-Immortal.html#t:Thread" title="Control.Immortal">Thread</a></li><li class="src short"><a href="#v:forkManagedTWithGracefulShutdown">forkManagedTWithGracefulShutdown</a> :: <a href="Control-Concurrent-Extended.html#t:ForkableMonadIO" title="Control.Concurrent.Extended">ForkableMonadIO</a> m =&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Hasura-Logging.html#t:Logger" title="Hasura.Logging">Logger</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a> -&gt; <a href="Control-Concurrent-Extended.html#t:ThreadShutdown" title="Control.Concurrent.Extended">ThreadShutdown</a> m -&gt; m (<a href="Control-Concurrent-Extended.html#t:Forever" title="Control.Concurrent.Extended">Forever</a> m) -&gt; <a href="Control-Monad-Trans-Managed.html#t:ManagedT" title="Control.Monad.Trans.Managed">ManagedT</a> m <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/immortal-0.2.2.1-83f0896f3c9fa80f58a39a835fbc28f3c476beede5c2f431960b94f99f3ea852/share/doc/html/Control-Immortal.html#t:Thread" title="Control.Immortal">Thread</a></li><li class="src short"><a href="#v:forConcurrentlyEIO">forConcurrentlyEIO</a> :: (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/binary-parser-0.5.7.6-f0ac707e6923af097e412270ae5b3b843c584dc7e141fb4f8d0870c6638e1e86/share/doc/html/BinaryParser-Prelude.html#t:MonadError" title="BinaryParser.Prelude">MonadError</a> e m) =&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; [a] -&gt; (a -&gt; <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/binary-parser-0.5.7.6-f0ac707e6923af097e412270ae5b3b843c584dc7e141fb4f8d0870c6638e1e86/share/doc/html/BinaryParser-Prelude.html#t:ExceptT" title="BinaryParser.Prelude">ExceptT</a> e <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> b) -&gt; m [b]</li><li class="src short"><a href="#v:concurrentlyEIO">concurrentlyEIO</a> :: (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/binary-parser-0.5.7.6-f0ac707e6923af097e412270ae5b3b843c584dc7e141fb4f8d0870c6638e1e86/share/doc/html/BinaryParser-Prelude.html#t:MonadError" title="BinaryParser.Prelude">MonadError</a> e m) =&gt; <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/binary-parser-0.5.7.6-f0ac707e6923af097e412270ae5b3b843c584dc7e141fb4f8d0870c6638e1e86/share/doc/html/BinaryParser-Prelude.html#t:ExceptT" title="BinaryParser.Prelude">ExceptT</a> e <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a -&gt; <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/binary-parser-0.5.7.6-f0ac707e6923af097e412270ae5b3b843c584dc7e141fb4f8d0870c6638e1e86/share/doc/html/BinaryParser-Prelude.html#t:ExceptT" title="BinaryParser.Prelude">ExceptT</a> e <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> b -&gt; m (a, b)</li><li class="src short"><span class="keyword">data</span> <a href="#t:ImmortalThreadLog">ImmortalThreadLog</a><ul class="subs"><li>= <a href="#v:ImmortalThreadUnexpectedException">ImmortalThreadUnexpectedException</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-String.html#t:String" title="Data.String">String</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Exception.html#t:SomeException" title="Control.Exception">SomeException</a></li><li>| <a href="#v:ImmortalThreadStopping">ImmortalThreadStopping</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-String.html#t:String" title="Data.String">String</a></li><li>| <a href="#v:ImmortalThreadRestarted">ImmortalThreadRestarted</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-String.html#t:String" title="Data.String">String</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:ThreadState">ThreadState</a><ul class="subs"><li>= <a href="#v:ThreadForked">ThreadForked</a></li><li>| <a href="#v:ThreadBlocking">ThreadBlocking</a></li><li>| <a href="#v:ThreadShutdownInitiated">ThreadShutdownInitiated</a></li></ul></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:ThreadShutdown">ThreadShutdown</a> (m :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) = <a href="#v:ThreadShutdown">ThreadShutdown</a> {<ul class="subs"><li><a href="#v:tsThreadShutdown">tsThreadShutdown</a> :: m ()</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:Forever">Forever</a> (m :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) = <a href="#v:Forever">Forever</a> a (a -&gt; m a)</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ThreadId" class="def">ThreadId</a> <a href="#t:ThreadId" class="selflink">#</a></p><div class="doc"><p>A <code><a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a></code> is an abstract type representing a handle to a thread.
<code><a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a></code> is an instance of <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a></code>, <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a></code> and <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:Show" title="Prelude">Show</a></code>, where
the <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a></code> instance implements an arbitrary total ordering over
<code><a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a></code>s. The <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:Show" title="Prelude">Show</a></code> instance lets you convert an arbitrary-valued
<code><a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a></code> to string form; showing a <code><a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a></code> value is occasionally
useful when debugging or diagnosing the behaviour of a concurrent
program.</p><p><em>Note</em>: in GHC, if you have a <code><a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a></code>, you essentially have
a pointer to the thread itself. This means the thread itself can't be
garbage collected until you drop the <code><a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a></code>. This misfeature would
be difficult to correct while continuing to support <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/GHC-Conc-Sync.html#v:threadStatus" title="GHC.Conc.Sync">threadStatus</a></code>.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ThreadId">Instances</h4><details id="i:ThreadId" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ThreadId:NFData:1"></span> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/crypton-0.33-79d6cca98dd875896f69886a3a3272f9eaff20c96b4484c7bbd5a1eaf2e7b481/share/doc/html/Crypto-Internal-DeepSeq.html#t:NFData" title="Crypto.Internal.DeepSeq">NFData</a> <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a></span></td><td class="doc"><p><em>Since: deepseq-1.4.0.0</em></p></td></tr><tr><td colspan="2"><details id="i:id:ThreadId:NFData:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/deepseq-1.5.0.0-inplace/Control-DeepSeq.html">Control.DeepSeq</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:rnf">rnf</a> :: <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> -&gt; () <a href="#v:rnf" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ThreadId:Show:2"></span> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:Show" title="Prelude">Show</a> <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a></span></td><td class="doc"><p>@since base-4.2.0.0</p></td></tr><tr><td colspan="2"><details id="i:id:ThreadId:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/ghc-internal-9.1001.0-inplace/GHC-Internal-Conc-Sync.html">GHC.Internal.Conc.Sync</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:ShowS" title="Prelude">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a>] -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:ShowS" title="Prelude">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ThreadId:Eq:3"></span> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a></span></td><td class="doc"><p>@since base-4.2.0.0</p></td></tr><tr><td colspan="2"><details id="i:id:ThreadId:Eq:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/ghc-internal-9.1001.0-inplace/GHC-Internal-Conc-Sync.html">GHC.Internal.Conc.Sync</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> -&gt; <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> -&gt; <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ThreadId:Ord:4"></span> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a></span></td><td class="doc"><p>@since base-4.2.0.0</p></td></tr><tr><td colspan="2"><details id="i:id:ThreadId:Ord:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/ghc-internal-9.1001.0-inplace/GHC-Internal-Conc-Sync.html">GHC.Internal.Conc.Sync</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> -&gt; <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> -&gt; <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> -&gt; <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> -&gt; <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> -&gt; <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> -&gt; <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> -&gt; <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> -&gt; <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> -&gt; <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> <a href="#v:min" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ThreadId:Hashable:5"></span> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/deferred-folds-0.9.18.6-e04c504505d7ff283d3694beec27890cccc4d771eb49c6f59e7a737441741704/share/doc/html/DeferredFolds-Prelude.html#t:Hashable" title="DeferredFolds.Prelude">Hashable</a> <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ThreadId:Hashable:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/hashable-1.4.7.0-cfd29695fd0b31e5c790219100a5096e2815ad440d116f2e5536e6c908f79a63/share/doc/html/Data-Hashable-Class.html">Data.Hashable.Class</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:hashWithSalt">hashWithSalt</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/hashable-1.4.7.0-cfd29695fd0b31e5c790219100a5096e2815ad440d116f2e5536e6c908f79a63/share/doc/html/src/Data.Hashable.Class.html" class="link">Source</a> <a href="#v:hashWithSalt" class="selflink">#</a></p><p class="src"><a href="#v:hash">hash</a> :: <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/hashable-1.4.7.0-cfd29695fd0b31e5c790219100a5096e2815ad440d116f2e5536e6c908f79a63/share/doc/html/src/Data.Hashable.Class.html" class="link">Source</a> <a href="#v:hash" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ThreadId:PrimUnlifted:6"></span> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/primitive-unlifted-2.1.0.0-9e9202e6ded745d6bcfd96f2cfd0cfaf66e0389e66bae34ee4a1e002e1733655/share/doc/html/Data-Primitive-Unlifted-Class.html#t:PrimUnlifted" title="Data.Primitive.Unlifted.Class">PrimUnlifted</a> <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ThreadId:PrimUnlifted:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/primitive-unlifted-2.1.0.0-9e9202e6ded745d6bcfd96f2cfd0cfaf66e0389e66bae34ee4a1e002e1733655/share/doc/html/Data-Primitive-Unlifted-Class.html">Data.Primitive.Unlifted.Class</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:if:D:R:UnliftedThreadId:Unlifted:1"></span> <span class="keyword">type</span> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/primitive-unlifted-2.1.0.0-9e9202e6ded745d6bcfd96f2cfd0cfaf66e0389e66bae34ee4a1e002e1733655/share/doc/html/Data-Primitive-Unlifted-Class.html#t:Unlifted" title="Data.Primitive.Unlifted.Class">Unlifted</a> <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:if:D:R:UnliftedThreadId:Unlifted:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/primitive-unlifted-2.1.0.0-9e9202e6ded745d6bcfd96f2cfd0cfaf66e0389e66bae34ee4a1e002e1733655/share/doc/html/Data-Primitive-Unlifted-Class.html">Data.Primitive.Unlifted.Class</a></p> <div class="src"><span class="keyword">type</span> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/primitive-unlifted-2.1.0.0-9e9202e6ded745d6bcfd96f2cfd0cfaf66e0389e66bae34ee4a1e002e1733655/share/doc/html/Data-Primitive-Unlifted-Class.html#t:Unlifted" title="Data.Primitive.Unlifted.Class">Unlifted</a> <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> = <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/GHC-Exts.html#t:ThreadId-35-" title="GHC.Exts">ThreadId#</a></div></details></td></tr></table></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toUnlifted-35-">toUnlifted#</a> :: <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> -&gt; <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/primitive-unlifted-2.1.0.0-9e9202e6ded745d6bcfd96f2cfd0cfaf66e0389e66bae34ee4a1e002e1733655/share/doc/html/Data-Primitive-Unlifted-Class.html#t:Unlifted" title="Data.Primitive.Unlifted.Class">Unlifted</a> <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/primitive-unlifted-2.1.0.0-9e9202e6ded745d6bcfd96f2cfd0cfaf66e0389e66bae34ee4a1e002e1733655/share/doc/html/src/Data.Primitive.Unlifted.Class.html" class="link">Source</a> <a href="#v:toUnlifted-35-" class="selflink">#</a></p><p class="src"><a href="#v:fromUnlifted-35-">fromUnlifted#</a> :: <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/primitive-unlifted-2.1.0.0-9e9202e6ded745d6bcfd96f2cfd0cfaf66e0389e66bae34ee4a1e002e1733655/share/doc/html/Data-Primitive-Unlifted-Class.html#t:Unlifted" title="Data.Primitive.Unlifted.Class">Unlifted</a> <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> -&gt; <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/primitive-unlifted-2.1.0.0-9e9202e6ded745d6bcfd96f2cfd0cfaf66e0389e66bae34ee4a1e002e1733655/share/doc/html/src/Data.Primitive.Unlifted.Class.html" class="link">Source</a> <a href="#v:fromUnlifted-35-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ThreadId:Unlifted:7"></span> <span class="keyword">type</span> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/primitive-unlifted-2.1.0.0-9e9202e6ded745d6bcfd96f2cfd0cfaf66e0389e66bae34ee4a1e002e1733655/share/doc/html/Data-Primitive-Unlifted-Class.html#t:Unlifted" title="Data.Primitive.Unlifted.Class">Unlifted</a> <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ThreadId:Unlifted:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/primitive-unlifted-2.1.0.0-9e9202e6ded745d6bcfd96f2cfd0cfaf66e0389e66bae34ee4a1e002e1733655/share/doc/html/Data-Primitive-Unlifted-Class.html">Data.Primitive.Unlifted.Class</a></p> <div class="src"><span class="keyword">type</span> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/primitive-unlifted-2.1.0.0-9e9202e6ded745d6bcfd96f2cfd0cfaf66e0389e66bae34ee4a1e002e1733655/share/doc/html/Data-Primitive-Unlifted-Class.html#t:Unlifted" title="Data.Primitive.Unlifted.Class">Unlifted</a> <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> = <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/GHC-Exts.html#t:ThreadId-35-" title="GHC.Exts">ThreadId#</a></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:forkIO" class="def">forkIO</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> () -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> <a href="#v:forkIO" class="selflink">#</a></p><div class="doc"><p>Creates a new thread to run the <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a></code> computation passed as the
first argument, and returns the <code><a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a></code> of the newly created
thread.</p><p>The new thread will be a lightweight, <em>unbound</em> thread.  Foreign calls
made by this thread are not guaranteed to be made by any particular OS
thread; if you need foreign calls to be made by a particular OS
thread, then use <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Concurrent.html#v:forkOS" title="Control.Concurrent">forkOS</a></code> instead.</p><p>The new thread inherits the <em>masked</em> state of the parent (see
<code><a href="GHC-Control-Exception.html#v:mask" title="GHC.Control.Exception">mask</a></code>).</p><p>The newly created thread has an exception handler that discards the
exceptions <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Exception.html#t:BlockedIndefinitelyOnMVar" title="Control.Exception">BlockedIndefinitelyOnMVar</a></code>, <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Exception.html#t:BlockedIndefinitelyOnSTM" title="Control.Exception">BlockedIndefinitelyOnSTM</a></code>, and
<code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Exception.html#v:ThreadKilled" title="Control.Exception">ThreadKilled</a></code>, and passes all other exceptions to the uncaught
exception handler.</p><p>WARNING: Exceptions in the new thread will not be rethrown in the thread that
created it. This means that you might be completely unaware of the problem
if/when this happens.  You may want to use the
<a href="https://hackage.haskell.org/package/async">async</a> library instead.</p></div></div><div class="top"><p class="src"><a id="v:forkOS" class="def">forkOS</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> () -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> <a href="#v:forkOS" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Control-Concurrent-Extended.html#v:forkIO" title="Control.Concurrent.Extended">forkIO</a></code>, this sparks off a new thread to run the <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a></code>
computation passed as the first argument, and returns the <code><a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a></code>
of the newly created thread.</p><p>However, <code><a href="Control-Concurrent-Extended.html#v:forkOS" title="Control.Concurrent.Extended">forkOS</a></code> creates a <em>bound</em> thread, which is necessary if you
need to call foreign (non-Haskell) libraries that make use of
thread-local state, such as OpenGL (see <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Concurrent.html#boundthreads">Control.Concurrent</a>).</p><p>Using <code><a href="Control-Concurrent-Extended.html#v:forkOS" title="Control.Concurrent.Extended">forkOS</a></code> instead of <code><a href="Control-Concurrent-Extended.html#v:forkIO" title="Control.Concurrent.Extended">forkIO</a></code> makes no difference at all to the
scheduling behaviour of the Haskell runtime system.  It is a common
misconception that you need to use <code><a href="Control-Concurrent-Extended.html#v:forkOS" title="Control.Concurrent.Extended">forkOS</a></code> instead of <code><a href="Control-Concurrent-Extended.html#v:forkIO" title="Control.Concurrent.Extended">forkIO</a></code> to
avoid blocking all the Haskell threads when making a foreign call;
this isn't the case.  To allow foreign calls to be made without
blocking all the Haskell threads (with GHC), it is only necessary to
use the <code>-threaded</code> option when linking your program, and to make sure
the foreign import is not marked <code>unsafe</code>.</p></div></div><div class="top"><p class="src"><a id="v:forkOn" class="def">forkOn</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> () -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> <a href="#v:forkOn" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Control-Concurrent-Extended.html#v:forkIO" title="Control.Concurrent.Extended">forkIO</a></code>, but lets you specify on which capability the thread
should run.  Unlike a <code><a href="Control-Concurrent-Extended.html#v:forkIO" title="Control.Concurrent.Extended">forkIO</a></code> thread, a thread created by <code><a href="Control-Concurrent-Extended.html#v:forkOn" title="Control.Concurrent.Extended">forkOn</a></code>
will stay on the same capability for its entire lifetime (<code><a href="Control-Concurrent-Extended.html#v:forkIO" title="Control.Concurrent.Extended">forkIO</a></code>
threads can migrate between capabilities according to the scheduling
policy).  <code><a href="Control-Concurrent-Extended.html#v:forkOn" title="Control.Concurrent.Extended">forkOn</a></code> is useful for overriding the scheduling policy when
you know in advance how best to distribute the threads.</p><p>The <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a></code> argument specifies a <em>capability number</em> (see
<code><a href="Control-Concurrent-Extended.html#v:getNumCapabilities" title="Control.Concurrent.Extended">getNumCapabilities</a></code>).  Typically capabilities correspond to physical
processors, but the exact behaviour is implementation-dependent.  The
value passed to <code><a href="Control-Concurrent-Extended.html#v:forkOn" title="Control.Concurrent.Extended">forkOn</a></code> is interpreted modulo the total number of
capabilities as returned by <code><a href="Control-Concurrent-Extended.html#v:getNumCapabilities" title="Control.Concurrent.Extended">getNumCapabilities</a></code>.</p><p>GHC note: the number of capabilities is specified by the <code>+RTS -N</code>
option when the program is started.  Capabilities can be fixed to
actual processor cores with <code>+RTS -qa</code> if the underlying operating
system supports that, although in practice this is usually unnecessary
(and may actually degrade performance in some cases - experimentation
is recommended).</p><p>@since base-4.4.0.0</p></div></div><div class="top"><p class="src"><a id="v:forkIOWithUnmask" class="def">forkIOWithUnmask</a> :: ((<span class="keyword">forall</span> a. <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a) -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> ()) -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> <a href="#v:forkIOWithUnmask" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Control-Concurrent-Extended.html#v:forkIO" title="Control.Concurrent.Extended">forkIO</a></code>, but the child thread is passed a function that can
 be used to unmask asynchronous exceptions.  This function is
 typically used in the following way</p><pre> ... mask_ $ forkIOWithUnmask $ \unmask -&gt;
                catch (unmask ...) handler</pre><p>so that the exception handler in the child thread is established
 with asynchronous exceptions masked, meanwhile the main body of
 the child thread is executed in the unmasked state.</p><p>Note that the unmask function passed to the child thread should
 only be used in that thread; the behaviour is undefined if it is
 invoked in a different thread.</p><p>@since base-4.4.0.0</p></div></div><div class="top"><p class="src"><a id="v:forkOnWithUnmask" class="def">forkOnWithUnmask</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; ((<span class="keyword">forall</span> a. <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a) -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> ()) -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> <a href="#v:forkOnWithUnmask" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Control-Concurrent-Extended.html#v:forkIOWithUnmask" title="Control.Concurrent.Extended">forkIOWithUnmask</a></code>, but the child thread is pinned to the
 given CPU, as with <code><a href="Control-Concurrent-Extended.html#v:forkOn" title="Control.Concurrent.Extended">forkOn</a></code>.</p><p>@since base-4.4.0.0</p></div></div><div class="top"><p class="src"><a id="v:myThreadId" class="def">myThreadId</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> <a href="#v:myThreadId" class="selflink">#</a></p><div class="doc"><p>Returns the <code><a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a></code> of the calling thread (GHC only).</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:MVar" class="def">MVar</a> a <a href="#t:MVar" class="selflink">#</a></p><div class="doc"><p>An <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code> (pronounced &quot;em-var&quot;) is a synchronising variable, used
for communication between concurrent threads.  It can be thought of
as a box, which may be empty or full.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:MVar">Instances</h4><details id="i:MVar" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MVar:NFData1:1"></span> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/deepseq-1.5.0.0-inplace/Control-DeepSeq.html#t:NFData1" title="Control.DeepSeq">NFData1</a> <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></span></td><td class="doc"><p><em>Since: deepseq-1.4.3.0</em></p></td></tr><tr><td colspan="2"><details id="i:id:MVar:NFData1:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/deepseq-1.5.0.0-inplace/Control-DeepSeq.html">Control.DeepSeq</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftRnf">liftRnf</a> :: (a -&gt; ()) -&gt; <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; () <a href="#v:liftRnf" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MVar:NFData:2"></span> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/crypton-0.33-79d6cca98dd875896f69886a3a3272f9eaff20c96b4484c7bbd5a1eaf2e7b481/share/doc/html/Crypto-Internal-DeepSeq.html#t:NFData" title="Crypto.Internal.DeepSeq">NFData</a> (<a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a)</span></td><td class="doc"><p><strong>NOTE</strong>: Only strict in the reference and not the referenced value.</p><p><em>Since: deepseq-1.4.2.0</em></p></td></tr><tr><td colspan="2"><details id="i:id:MVar:NFData:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/deepseq-1.5.0.0-inplace/Control-DeepSeq.html">Control.DeepSeq</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:rnf">rnf</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; () <a href="#v:rnf" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MVar:Eq:3"></span> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a)</span></td><td class="doc"><p>Compares the underlying pointers.</p><p>@since base-4.1.0.0</p></td></tr><tr><td colspan="2"><details id="i:id:MVar:Eq:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/ghc-internal-9.1001.0-inplace/GHC-Internal-MVar.html">GHC.Internal.MVar</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MVar:PrimUnlifted:4"></span> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/primitive-unlifted-2.1.0.0-9e9202e6ded745d6bcfd96f2cfd0cfaf66e0389e66bae34ee4a1e002e1733655/share/doc/html/Data-Primitive-Unlifted-Class.html#t:PrimUnlifted" title="Data.Primitive.Unlifted.Class">PrimUnlifted</a> (<a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MVar:PrimUnlifted:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/primitive-unlifted-2.1.0.0-9e9202e6ded745d6bcfd96f2cfd0cfaf66e0389e66bae34ee4a1e002e1733655/share/doc/html/Data-Primitive-Unlifted-Class.html">Data.Primitive.Unlifted.Class</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:if:D:R:UnliftedMVar:Unlifted:1"></span> <span class="keyword">type</span> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/primitive-unlifted-2.1.0.0-9e9202e6ded745d6bcfd96f2cfd0cfaf66e0389e66bae34ee4a1e002e1733655/share/doc/html/Data-Primitive-Unlifted-Class.html#t:Unlifted" title="Data.Primitive.Unlifted.Class">Unlifted</a> (<a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:if:D:R:UnliftedMVar:Unlifted:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/primitive-unlifted-2.1.0.0-9e9202e6ded745d6bcfd96f2cfd0cfaf66e0389e66bae34ee4a1e002e1733655/share/doc/html/Data-Primitive-Unlifted-Class.html">Data.Primitive.Unlifted.Class</a></p> <div class="src"><span class="keyword">type</span> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/primitive-unlifted-2.1.0.0-9e9202e6ded745d6bcfd96f2cfd0cfaf66e0389e66bae34ee4a1e002e1733655/share/doc/html/Data-Primitive-Unlifted-Class.html#t:Unlifted" title="Data.Primitive.Unlifted.Class">Unlifted</a> (<a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a) = <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/GHC-Exts.html#t:MVar-35-" title="GHC.Exts">MVar#</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Monad-ST.html#t:RealWorld" title="Control.Monad.ST">RealWorld</a> a</div></details></td></tr></table></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toUnlifted-35-">toUnlifted#</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/primitive-unlifted-2.1.0.0-9e9202e6ded745d6bcfd96f2cfd0cfaf66e0389e66bae34ee4a1e002e1733655/share/doc/html/Data-Primitive-Unlifted-Class.html#t:Unlifted" title="Data.Primitive.Unlifted.Class">Unlifted</a> (<a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a) <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/primitive-unlifted-2.1.0.0-9e9202e6ded745d6bcfd96f2cfd0cfaf66e0389e66bae34ee4a1e002e1733655/share/doc/html/src/Data.Primitive.Unlifted.Class.html" class="link">Source</a> <a href="#v:toUnlifted-35-" class="selflink">#</a></p><p class="src"><a href="#v:fromUnlifted-35-">fromUnlifted#</a> :: <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/primitive-unlifted-2.1.0.0-9e9202e6ded745d6bcfd96f2cfd0cfaf66e0389e66bae34ee4a1e002e1733655/share/doc/html/Data-Primitive-Unlifted-Class.html#t:Unlifted" title="Data.Primitive.Unlifted.Class">Unlifted</a> (<a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a) -&gt; <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/primitive-unlifted-2.1.0.0-9e9202e6ded745d6bcfd96f2cfd0cfaf66e0389e66bae34ee4a1e002e1733655/share/doc/html/src/Data.Primitive.Unlifted.Class.html" class="link">Source</a> <a href="#v:fromUnlifted-35-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MVar:Unlifted:5"></span> <span class="keyword">type</span> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/primitive-unlifted-2.1.0.0-9e9202e6ded745d6bcfd96f2cfd0cfaf66e0389e66bae34ee4a1e002e1733655/share/doc/html/Data-Primitive-Unlifted-Class.html#t:Unlifted" title="Data.Primitive.Unlifted.Class">Unlifted</a> (<a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MVar:Unlifted:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/primitive-unlifted-2.1.0.0-9e9202e6ded745d6bcfd96f2cfd0cfaf66e0389e66bae34ee4a1e002e1733655/share/doc/html/Data-Primitive-Unlifted-Class.html">Data.Primitive.Unlifted.Class</a></p> <div class="src"><span class="keyword">type</span> <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/primitive-unlifted-2.1.0.0-9e9202e6ded745d6bcfd96f2cfd0cfaf66e0389e66bae34ee4a1e002e1733655/share/doc/html/Data-Primitive-Unlifted-Class.html#t:Unlifted" title="Data.Primitive.Unlifted.Class">Unlifted</a> (<a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a) = <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/GHC-Exts.html#t:MVar-35-" title="GHC.Exts">MVar#</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Monad-ST.html#t:RealWorld" title="Control.Monad.ST">RealWorld</a> a</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:newEmptyMVar" class="def">newEmptyMVar</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a) <a href="#v:newEmptyMVar" class="selflink">#</a></p><div class="doc"><p>Create an <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code> which is initially empty.</p></div></div><div class="top"><p class="src"><a id="v:newMVar" class="def">newMVar</a> :: a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a) <a href="#v:newMVar" class="selflink">#</a></p><div class="doc"><p>Create an <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code> which contains the supplied value.</p></div></div><div class="top"><p class="src"><a id="v:takeMVar" class="def">takeMVar</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a <a href="#v:takeMVar" class="selflink">#</a></p><div class="doc"><p>Return the contents of the <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code>.  If the <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code> is currently
 empty, <code><a href="Control-Concurrent-Extended.html#v:takeMVar" title="Control.Concurrent.Extended">takeMVar</a></code> will wait until it is full.  After a <code><a href="Control-Concurrent-Extended.html#v:takeMVar" title="Control.Concurrent.Extended">takeMVar</a></code>,
 the <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code> is left empty.</p><p>There are two further important properties of <code><a href="Control-Concurrent-Extended.html#v:takeMVar" title="Control.Concurrent.Extended">takeMVar</a></code>:</p><ul><li><code><a href="Control-Concurrent-Extended.html#v:takeMVar" title="Control.Concurrent.Extended">takeMVar</a></code> is single-wakeup.  That is, if there are multiple
     threads blocked in <code><a href="Control-Concurrent-Extended.html#v:takeMVar" title="Control.Concurrent.Extended">takeMVar</a></code>, and the <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code> becomes full,
     only one thread will be woken up.  The runtime guarantees that
     the woken thread completes its <code><a href="Control-Concurrent-Extended.html#v:takeMVar" title="Control.Concurrent.Extended">takeMVar</a></code> operation.</li><li>When multiple threads are blocked on an <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code>, they are
     woken up in FIFO order.  This is useful for providing
     fairness properties of abstractions built using <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code>s.</li></ul></div></div><div class="top"><p class="src"><a id="v:readMVar" class="def">readMVar</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a <a href="#v:readMVar" class="selflink">#</a></p><div class="doc"><p>Atomically read the contents of an <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code>.  If the <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code> is
 currently empty, <code><a href="Control-Concurrent-Extended.html#v:readMVar" title="Control.Concurrent.Extended">readMVar</a></code> will wait until it is full.
 <code><a href="Control-Concurrent-Extended.html#v:readMVar" title="Control.Concurrent.Extended">readMVar</a></code> is guaranteed to receive the next <code><a href="Control-Concurrent-Extended.html#v:putMVar" title="Control.Concurrent.Extended">putMVar</a></code>.</p><p><code><a href="Control-Concurrent-Extended.html#v:readMVar" title="Control.Concurrent.Extended">readMVar</a></code> is multiple-wakeup, so when multiple readers are
 blocked on an <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code>, all of them are woken up at the same time.
 The runtime guarantees that all woken threads complete their <code><a href="Control-Concurrent-Extended.html#v:readMVar" title="Control.Concurrent.Extended">readMVar</a></code> operation.</p><p><em>Compatibility note:</em> Prior to base 4.7, <code><a href="Control-Concurrent-Extended.html#v:readMVar" title="Control.Concurrent.Extended">readMVar</a></code> was a combination
 of <code><a href="Control-Concurrent-Extended.html#v:takeMVar" title="Control.Concurrent.Extended">takeMVar</a></code> and <code><a href="Control-Concurrent-Extended.html#v:putMVar" title="Control.Concurrent.Extended">putMVar</a></code>.  This mean that in the presence of
 other threads attempting to <code><a href="Control-Concurrent-Extended.html#v:putMVar" title="Control.Concurrent.Extended">putMVar</a></code>, <code><a href="Control-Concurrent-Extended.html#v:readMVar" title="Control.Concurrent.Extended">readMVar</a></code> could block.
 Furthermore, <code><a href="Control-Concurrent-Extended.html#v:readMVar" title="Control.Concurrent.Extended">readMVar</a></code> would not receive the next <code><a href="Control-Concurrent-Extended.html#v:putMVar" title="Control.Concurrent.Extended">putMVar</a></code> if there
 was already a pending thread blocked on <code><a href="Control-Concurrent-Extended.html#v:takeMVar" title="Control.Concurrent.Extended">takeMVar</a></code>.  The old behavior
 can be recovered by implementing 'readMVar as follows:</p><pre>readMVar :: MVar a -&gt; IO a
readMVar m =
  mask_ $ do
    a &lt;- takeMVar m
    putMVar m a
    return a
</pre></div></div><div class="top"><p class="src"><a id="v:putMVar" class="def">putMVar</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> () <a href="#v:putMVar" class="selflink">#</a></p><div class="doc"><p>Put a value into an <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code>.  If the <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code> is currently full,
 <code><a href="Control-Concurrent-Extended.html#v:putMVar" title="Control.Concurrent.Extended">putMVar</a></code> will wait until it becomes empty.</p><p>There are two further important properties of <code><a href="Control-Concurrent-Extended.html#v:putMVar" title="Control.Concurrent.Extended">putMVar</a></code>:</p><ul><li><code><a href="Control-Concurrent-Extended.html#v:putMVar" title="Control.Concurrent.Extended">putMVar</a></code> is single-wakeup.  That is, if there are multiple
     threads blocked in <code><a href="Control-Concurrent-Extended.html#v:putMVar" title="Control.Concurrent.Extended">putMVar</a></code>, and the <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code> becomes empty,
     only one thread will be woken up.  The runtime guarantees that
     the woken thread completes its <code><a href="Control-Concurrent-Extended.html#v:putMVar" title="Control.Concurrent.Extended">putMVar</a></code> operation.</li><li>When multiple threads are blocked on an <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code>, they are
     woken up in FIFO order.  This is useful for providing
     fairness properties of abstractions built using <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code>s.</li></ul></div></div><div class="top"><p class="src"><a id="v:tryTakeMVar" class="def">tryTakeMVar</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) <a href="#v:tryTakeMVar" class="selflink">#</a></p><div class="doc"><p>A non-blocking version of <code><a href="Control-Concurrent-Extended.html#v:takeMVar" title="Control.Concurrent.Extended">takeMVar</a></code>.  The <code><a href="Control-Concurrent-Extended.html#v:tryTakeMVar" title="Control.Concurrent.Extended">tryTakeMVar</a></code> function
 returns immediately, with <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> if the <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code> was empty, or
 <code><code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a></code> a</code> if the <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code> was full with contents <code>a</code>.  After <code><a href="Control-Concurrent-Extended.html#v:tryTakeMVar" title="Control.Concurrent.Extended">tryTakeMVar</a></code>,
 the <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code> is left empty.</p></div></div><div class="top"><p class="src"><a id="v:tryPutMVar" class="def">tryPutMVar</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:tryPutMVar" class="selflink">#</a></p><div class="doc"><p>A non-blocking version of <code><a href="Control-Concurrent-Extended.html#v:putMVar" title="Control.Concurrent.Extended">putMVar</a></code>.  The <code><a href="Control-Concurrent-Extended.html#v:tryPutMVar" title="Control.Concurrent.Extended">tryPutMVar</a></code> function
 attempts to put the value <code>a</code> into the <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code>, returning <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#v:True" title="Data.Bool">True</a></code> if
 it was successful, or <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#v:False" title="Data.Bool">False</a></code> otherwise.</p></div></div><div class="top"><p class="src"><a id="v:tryReadMVar" class="def">tryReadMVar</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) <a href="#v:tryReadMVar" class="selflink">#</a></p><div class="doc"><p>A non-blocking version of <code><a href="Control-Concurrent-Extended.html#v:readMVar" title="Control.Concurrent.Extended">readMVar</a></code>.  The <code><a href="Control-Concurrent-Extended.html#v:tryReadMVar" title="Control.Concurrent.Extended">tryReadMVar</a></code> function
 returns immediately, with <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> if the <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code> was empty, or
 <code><code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a></code> a</code> if the <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code> was full with contents <code>a</code>.</p><p>@since base-4.7.0.0</p></div></div><div class="top"><p class="src"><a id="v:isEmptyMVar" class="def">isEmptyMVar</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:isEmptyMVar" class="selflink">#</a></p><div class="doc"><p>Check whether a given <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code> is empty.</p><p>Notice that the boolean value returned  is just a snapshot of
 the state of the MVar. By the time you get to react on its result,
 the MVar may have been filled (or emptied) - so be extremely
 careful when using this operation.   Use <code><a href="Control-Concurrent-Extended.html#v:tryTakeMVar" title="Control.Concurrent.Extended">tryTakeMVar</a></code> instead if possible.</p></div></div><div class="top"><p class="src"><a id="v:addMVarFinalizer" class="def">addMVarFinalizer</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> () -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> () <a href="#v:addMVarFinalizer" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getNumCapabilities" class="def">getNumCapabilities</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="#v:getNumCapabilities" class="selflink">#</a></p><div class="doc"><p>Returns the number of Haskell threads that can run truly
simultaneously (on separate physical processors) at any given time.  To change
this value, use <code><a href="Control-Concurrent-Extended.html#v:setNumCapabilities" title="Control.Concurrent.Extended">setNumCapabilities</a></code>.</p><p>@since base-4.4.0.0</p></div></div><div class="top"><p class="src"><a id="v:setNumCapabilities" class="def">setNumCapabilities</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> () <a href="#v:setNumCapabilities" class="selflink">#</a></p><div class="doc"><p>Set the number of Haskell threads that can run truly simultaneously
(on separate physical processors) at any given time.  The number
passed to <code><a href="Control-Concurrent-Extended.html#v:forkOn" title="Control.Concurrent.Extended">forkOn</a></code> is interpreted modulo this value.  The initial
value is given by the <code>+RTS -N</code> runtime flag.</p><p>This is also the number of threads that will participate in parallel
garbage collection.  It is strongly recommended that the number of
capabilities is not set larger than the number of physical processor
cores, and it may often be beneficial to leave one or more cores free
to avoid contention with other processes in the machine.</p><p>@since base-4.5.0.0</p></div></div><div class="top"><p class="src"><a id="v:killThread" class="def">killThread</a> :: <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> () <a href="#v:killThread" class="selflink">#</a></p><div class="doc"><p><code><a href="Control-Concurrent-Extended.html#v:killThread" title="Control.Concurrent.Extended">killThread</a></code> raises the <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Exception.html#v:ThreadKilled" title="Control.Exception">ThreadKilled</a></code> exception in the given
thread (GHC only).</p><pre>killThread tid = throwTo tid ThreadKilled</pre></div></div><div class="top"><p class="src"><a id="v:throwTo" class="def">throwTo</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Exception.html#t:Exception" title="Control.Exception">Exception</a> e =&gt; <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> -&gt; e -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> () <a href="#v:throwTo" class="selflink">#</a></p><div class="doc"><p><code><a href="Control-Concurrent-Extended.html#v:throwTo" title="Control.Concurrent.Extended">throwTo</a></code> raises an arbitrary exception in the target thread (GHC only).</p><p>Exception delivery synchronizes between the source and target thread:
<code><a href="Control-Concurrent-Extended.html#v:throwTo" title="Control.Concurrent.Extended">throwTo</a></code> does not return until the exception has been raised in the
target thread. The calling thread can thus be certain that the target
thread has received the exception.  Exception delivery is also atomic
with respect to other exceptions. Atomicity is a useful property to have
when dealing with race conditions: e.g. if there are two threads that
can kill each other, it is guaranteed that only one of the threads
will get to kill the other.</p><p>Whatever work the target thread was doing when the exception was
raised is not lost: the computation is suspended until required by
another thread.</p><p>If the target thread is currently making a foreign call, then the
exception will not be raised (and hence <code><a href="Control-Concurrent-Extended.html#v:throwTo" title="Control.Concurrent.Extended">throwTo</a></code> will not return)
until the call has completed.  This is the case regardless of whether
the call is inside a <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Exception.html#v:mask" title="Control.Exception">mask</a></code> or not.  However, in GHC a foreign call
can be annotated as <code>interruptible</code>, in which case a <code><a href="Control-Concurrent-Extended.html#v:throwTo" title="Control.Concurrent.Extended">throwTo</a></code> will
cause the RTS to attempt to cause the call to return; see the GHC
documentation for more details.</p><p>Important note: the behaviour of <code><a href="Control-Concurrent-Extended.html#v:throwTo" title="Control.Concurrent.Extended">throwTo</a></code> differs from that described in
the paper &quot;Asynchronous exceptions in Haskell&quot;
(<a href="http://research.microsoft.com/~simonpj/Papers/asynch-exns.htm">http://research.microsoft.com/~simonpj/Papers/asynch-exns.htm</a>).
In the paper, <code><a href="Control-Concurrent-Extended.html#v:throwTo" title="Control.Concurrent.Extended">throwTo</a></code> is non-blocking; but the library implementation adopts
a more synchronous design in which <code><a href="Control-Concurrent-Extended.html#v:throwTo" title="Control.Concurrent.Extended">throwTo</a></code> does not return until the exception
is received by the target thread.  The trade-off is discussed in Section 9 of the paper.
Like any blocking operation, <code><a href="Control-Concurrent-Extended.html#v:throwTo" title="Control.Concurrent.Extended">throwTo</a></code> is therefore interruptible (see Section 5.3 of
the paper).  Unlike other interruptible operations, however, <code><a href="Control-Concurrent-Extended.html#v:throwTo" title="Control.Concurrent.Extended">throwTo</a></code>
is <em>always</em> interruptible, even if it does not actually block.</p><p>There is no guarantee that the exception will be delivered promptly,
although the runtime will endeavour to ensure that arbitrary
delays don't occur.  In GHC, an exception can only be raised when a
thread reaches a <em>safe point</em>, where a safe point is where memory
allocation occurs.  Some loops do not perform any memory allocation
inside the loop and therefore cannot be interrupted by a <code><a href="Control-Concurrent-Extended.html#v:throwTo" title="Control.Concurrent.Extended">throwTo</a></code>.</p><p>If the target of <code><a href="Control-Concurrent-Extended.html#v:throwTo" title="Control.Concurrent.Extended">throwTo</a></code> is the calling thread, then the behaviour
is the same as <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/ghc-internal-9.1001.0-inplace/GHC-Internal-Control-Exception.html#v:throwIO" title="GHC.Internal.Control.Exception">throwIO</a></code>, except that the exception
is thrown as an asynchronous exception.  This means that if there is
an enclosing pure computation, which would be the case if the current
IO operation is inside <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/System-IO-Unsafe.html#v:unsafePerformIO" title="System.IO.Unsafe">unsafePerformIO</a></code> or <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/System-IO-Unsafe.html#v:unsafeInterleaveIO" title="System.IO.Unsafe">unsafeInterleaveIO</a></code>, that
computation is not permanently replaced by the exception, but is
suspended as if it had received an asynchronous exception.</p><p>Note that if <code><a href="Control-Concurrent-Extended.html#v:throwTo" title="Control.Concurrent.Extended">throwTo</a></code> is called with the current thread as the
target, the exception will be thrown even if the thread is currently
inside <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Exception.html#v:mask" title="Control.Exception">mask</a></code> or <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Exception.html#v:uninterruptibleMask" title="Control.Exception">uninterruptibleMask</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:yield" class="def">yield</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> () <a href="#v:yield" class="selflink">#</a></p><div class="doc"><p>The <code><a href="Control-Concurrent-Extended.html#v:yield" title="Control.Concurrent.Extended">yield</a></code> action allows (forces, in a co-operative multitasking
 implementation) a context-switch to any other currently runnable
 threads (if any), and is occasionally useful when implementing
 concurrency abstractions.</p></div></div><div class="top"><p class="src"><a id="v:threadCapability" class="def">threadCapability</a> :: <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) <a href="#v:threadCapability" class="selflink">#</a></p><div class="doc"><p>Returns the number of the capability on which the thread is currently
 running, and a boolean indicating whether the thread is locked to
 that capability or not.  A thread is locked to a capability if it
 was created with <code>forkOn</code>.</p><p>@since base-4.4.0.0</p></div></div><div class="top"><p class="src"><a id="v:mkWeakThreadId" class="def">mkWeakThreadId</a> :: <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/System-Mem-Weak.html#t:Weak" title="System.Mem.Weak">Weak</a> <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a>) <a href="#v:mkWeakThreadId" class="selflink">#</a></p><div class="doc"><p>Make a weak pointer to a <code><a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a></code>.  It can be important to do
 this if you want to hold a reference to a <code><a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a></code> while still
 allowing the thread to receive the <code>BlockedIndefinitely</code> family of
 exceptions (e.g. <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Exception.html#t:BlockedIndefinitelyOnMVar" title="Control.Exception">BlockedIndefinitelyOnMVar</a></code>).  Holding a normal
 <code><a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a></code> reference will prevent the delivery of
 <code>BlockedIndefinitely</code> exceptions because the reference could be
 used as the target of <code><a href="Control-Concurrent-Extended.html#v:throwTo" title="Control.Concurrent.Extended">throwTo</a></code> at any time, which would unblock
 the thread.</p><p>Holding a <code>Weak ThreadId</code>, on the other hand, will not prevent the
 thread from receiving <code>BlockedIndefinitely</code> exceptions.  It is
 still possible to throw an exception to a <code>Weak ThreadId</code>, but the
 caller must use <code>deRefWeak</code> first to determine whether the thread
 still exists.</p><p>@since base-4.6.0.0</p></div></div><div class="top"><p class="src"><a id="v:withMVar" class="def">withMVar</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; (a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> b) -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> b <a href="#v:withMVar" class="selflink">#</a></p><div class="doc"><p><code><a href="Control-Concurrent-Extended.html#v:withMVar" title="Control.Concurrent.Extended">withMVar</a></code> is an exception-safe wrapper for operating on the contents
  of an <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code>.  This operation is exception-safe: it will replace the
  original contents of the <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code> if an exception is raised (see
  <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Exception.html">Control.Exception</a>).  However, it is only atomic if there are no
  other producers for this <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code>. In other words, it cannot guarantee
  that, by the time <code><a href="Control-Concurrent-Extended.html#v:withMVar" title="Control.Concurrent.Extended">withMVar</a></code> gets the chance to write to the MVar,
  the value of the MVar has not been altered
  by a write operation from another thread.</p></div></div><div class="top"><p class="src"><a id="v:modifyMVar_" class="def">modifyMVar_</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; (a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a) -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> () <a href="#v:modifyMVar_" class="selflink">#</a></p><div class="doc"><p>An exception-safe wrapper for modifying the contents of an <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code>.
  Like <code><a href="Control-Concurrent-Extended.html#v:withMVar" title="Control.Concurrent.Extended">withMVar</a></code>, <code><a href="Control-Concurrent-Extended.html#v:modifyMVar" title="Control.Concurrent.Extended">modifyMVar</a></code> will replace the original contents of
  the <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code> if an exception is raised during the operation.  This
  function is only atomic if there are no other producers for this
  <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code>. In other words, it cannot guarantee that, by the time
  <code><a href="Control-Concurrent-Extended.html#v:modifyMVar_" title="Control.Concurrent.Extended">modifyMVar_</a></code> gets the chance to write to the MVar, the value
  of the MVar has not been altered by a write operation from another thread.</p></div></div><div class="top"><p class="src"><a id="v:swapMVar" class="def">swapMVar</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a <a href="#v:swapMVar" class="selflink">#</a></p><div class="doc"><p>Take a value from an <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code>, put a new value into the <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code> and
  return the value taken. This function is atomic only if there are
  no other producers for this <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code>. In other words, it cannot guarantee
  that, by the time <code><a href="Control-Concurrent-Extended.html#v:swapMVar" title="Control.Concurrent.Extended">swapMVar</a></code> gets the chance to write to the MVar,
  the value of the MVar has not been altered
  by a write operation from another thread.</p></div></div><div class="top"><p class="src"><a id="v:withMVarMasked" class="def">withMVarMasked</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; (a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> b) -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> b <a href="#v:withMVarMasked" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Control-Concurrent-Extended.html#v:withMVar" title="Control.Concurrent.Extended">withMVar</a></code>, but the <code>IO</code> action in the second argument is executed
  with asynchronous exceptions masked.</p><p>@since base-4.7.0.0</p></div></div><div class="top"><p class="src"><a id="v:modifyMVar" class="def">modifyMVar</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; (a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> (a, b)) -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> b <a href="#v:modifyMVar" class="selflink">#</a></p><div class="doc"><p>A slight variation on <code><a href="Control-Concurrent-Extended.html#v:modifyMVar_" title="Control.Concurrent.Extended">modifyMVar_</a></code> that allows a value to be
  returned (<code>b</code>) in addition to the modified value of the <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:modifyMVarMasked_" class="def">modifyMVarMasked_</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; (a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a) -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> () <a href="#v:modifyMVarMasked_" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Control-Concurrent-Extended.html#v:modifyMVar_" title="Control.Concurrent.Extended">modifyMVar_</a></code>, but the <code>IO</code> action in the second argument is executed with
  asynchronous exceptions masked.</p><p>@since base-4.6.0.0</p></div></div><div class="top"><p class="src"><a id="v:modifyMVarMasked" class="def">modifyMVarMasked</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; (a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> (a, b)) -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> b <a href="#v:modifyMVarMasked" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Control-Concurrent-Extended.html#v:modifyMVar" title="Control.Concurrent.Extended">modifyMVar</a></code>, but the <code>IO</code> action in the second argument is executed with
  asynchronous exceptions masked.</p><p>@since base-4.6.0.0</p></div></div><div class="top"><p class="src"><a id="v:mkWeakMVar" class="def">mkWeakMVar</a> :: <a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> () -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/System-Mem-Weak.html#t:Weak" title="System.Mem.Weak">Weak</a> (<a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a> a)) <a href="#v:mkWeakMVar" class="selflink">#</a></p><div class="doc"><p>Make a <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/System-Mem-Weak.html#t:Weak" title="System.Mem.Weak">Weak</a></code> pointer to an <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code>, using the second argument as
 a finalizer to run when the <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code> is garbage-collected</p><p>@since base-4.6.0.0</p></div></div><div class="top"><p class="src"><a id="v:threadWaitRead" class="def">threadWaitRead</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/ghc-internal-9.1001.0-inplace/GHC-Internal-System-Posix-Types.html#t:Fd" title="GHC.Internal.System.Posix.Types">Fd</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> () <a href="#v:threadWaitRead" class="selflink">#</a></p><div class="doc"><p>Block the current thread until data is available to read on the
 given file descriptor (GHC only).</p><p>This will throw an <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IOError" title="Prelude">IOError</a></code> if the file descriptor was closed
 while this thread was blocked.  To safely close a file descriptor
 that has been used with <code><a href="Control-Concurrent-Extended.html#v:threadWaitRead" title="Control.Concurrent.Extended">threadWaitRead</a></code>, use
 <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/GHC-Conc.html#v:closeFdWith" title="GHC.Conc">closeFdWith</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:threadWaitWrite" class="def">threadWaitWrite</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/ghc-internal-9.1001.0-inplace/GHC-Internal-System-Posix-Types.html#t:Fd" title="GHC.Internal.System.Posix.Types">Fd</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> () <a href="#v:threadWaitWrite" class="selflink">#</a></p><div class="doc"><p>Block the current thread until data can be written to the
 given file descriptor (GHC only).</p><p>This will throw an <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IOError" title="Prelude">IOError</a></code> if the file descriptor was closed
 while this thread was blocked.  To safely close a file descriptor
 that has been used with <code><a href="Control-Concurrent-Extended.html#v:threadWaitWrite" title="Control.Concurrent.Extended">threadWaitWrite</a></code>, use
 <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/GHC-Conc.html#v:closeFdWith" title="GHC.Conc">closeFdWith</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:threadWaitReadSTM" class="def">threadWaitReadSTM</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/ghc-internal-9.1001.0-inplace/GHC-Internal-System-Posix-Types.html#t:Fd" title="GHC.Internal.System.Posix.Types">Fd</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/GHC-Conc-Sync.html#t:STM" title="GHC.Conc.Sync">STM</a> (), <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> ()) <a href="#v:threadWaitReadSTM" class="selflink">#</a></p><div class="doc"><p>Returns an STM action that can be used to wait for data
 to read from a file descriptor. The second returned value
 is an IO action that can be used to deregister interest
 in the file descriptor.</p><p><em>Since: base-4.7.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:threadWaitWriteSTM" class="def">threadWaitWriteSTM</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/ghc-internal-9.1001.0-inplace/GHC-Internal-System-Posix-Types.html#t:Fd" title="GHC.Internal.System.Posix.Types">Fd</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/GHC-Conc-Sync.html#t:STM" title="GHC.Conc.Sync">STM</a> (), <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> ()) <a href="#v:threadWaitWriteSTM" class="selflink">#</a></p><div class="doc"><p>Returns an STM action that can be used to wait until data
 can be written to a file descriptor. The second returned value
 is an IO action that can be used to deregister interest
 in the file descriptor.</p><p><em>Since: base-4.7.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:rtsSupportsBoundThreads" class="def">rtsSupportsBoundThreads</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:rtsSupportsBoundThreads" class="selflink">#</a></p><div class="doc"><p><code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#v:True" title="Data.Bool">True</a></code> if bound threads are supported.
 If <code>rtsSupportsBoundThreads</code> is <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#v:False" title="Data.Bool">False</a></code>, <code><a href="Control-Concurrent-Extended.html#v:isCurrentThreadBound" title="Control.Concurrent.Extended">isCurrentThreadBound</a></code>
 will always return <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#v:False" title="Data.Bool">False</a></code> and both <code><a href="Control-Concurrent-Extended.html#v:forkOS" title="Control.Concurrent.Extended">forkOS</a></code> and <code><a href="Control-Concurrent-Extended.html#v:runInBoundThread" title="Control.Concurrent.Extended">runInBoundThread</a></code> will
 fail.</p></div></div><div class="top"><p class="src"><a id="v:forkOSWithUnmask" class="def">forkOSWithUnmask</a> :: ((<span class="keyword">forall</span> a. <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a) -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> ()) -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> <a href="#v:forkOSWithUnmask" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Control-Concurrent-Extended.html#v:forkIOWithUnmask" title="Control.Concurrent.Extended">forkIOWithUnmask</a></code>, but the child thread is a bound thread,
 as with <code><a href="Control-Concurrent-Extended.html#v:forkOS" title="Control.Concurrent.Extended">forkOS</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:isCurrentThreadBound" class="def">isCurrentThreadBound</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:isCurrentThreadBound" class="selflink">#</a></p><div class="doc"><p>Returns <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#v:True" title="Data.Bool">True</a></code> if the calling thread is <em>bound</em>, that is, if it is
 safe to use foreign libraries that rely on thread-local state from the
 calling thread.</p></div></div><div class="top"><p class="src"><a id="v:runInBoundThread" class="def">runInBoundThread</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a <a href="#v:runInBoundThread" class="selflink">#</a></p><div class="doc"><p>Run the <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a></code> computation passed as the first argument. If the calling thread
is not <em>bound</em>, a bound thread is created temporarily. <code>runInBoundThread</code>
doesn't finish until the <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a></code> computation finishes.</p><p>You can wrap a series of foreign function calls that rely on thread-local state
with <code>runInBoundThread</code> so that you can use them without knowing whether the
current thread is <em>bound</em>.</p></div></div><div class="top"><p class="src"><a id="v:runInUnboundThread" class="def">runInUnboundThread</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a <a href="#v:runInUnboundThread" class="selflink">#</a></p><div class="doc"><p>Run the <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a></code> computation passed as the first argument. If the calling thread
is <em>bound</em>, an unbound thread is created temporarily using <code><a href="Control-Concurrent-Extended.html#v:forkIO" title="Control.Concurrent.Extended">forkIO</a></code>.
<code>runInBoundThread</code> doesn't finish until the <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a></code> computation finishes.</p><p>Use this function <em>only</em> in the rare case that you have actually observed a
performance loss due to the use of bound threads. A program that
doesn't need its main thread to be bound and makes <em>heavy</em> use of concurrency
(e.g. a web server), might want to wrap its <code>main</code> action in
<code>runInUnboundThread</code>.</p><p>Note that exceptions which are thrown to the current thread are thrown in turn
to the thread that is executing the given computation. This ensures there's
always a way of killing the forked thread.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:QSem" class="def">QSem</a> <a href="#t:QSem" class="selflink">#</a></p><div class="doc"><p><code><a href="Control-Concurrent-Extended.html#t:QSem" title="Control.Concurrent.Extended">QSem</a></code> is a quantity semaphore in which the resource is acquired
 and released in units of one. It provides guaranteed FIFO ordering
 for satisfying blocked <code><a href="Control-Concurrent-Extended.html#v:waitQSem" title="Control.Concurrent.Extended">waitQSem</a></code> calls.</p><p>The pattern</p><pre>bracket_ waitQSem signalQSem (...)</pre><p>is safe; it never loses a unit of the resource.</p></div></div><div class="top"><p class="src"><a id="v:newQSem" class="def">newQSem</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> <a href="Control-Concurrent-Extended.html#t:QSem" title="Control.Concurrent.Extended">QSem</a> <a href="#v:newQSem" class="selflink">#</a></p><div class="doc"><p>Build a new <code><a href="Control-Concurrent-Extended.html#t:QSem" title="Control.Concurrent.Extended">QSem</a></code> with a supplied initial quantity.
  The initial quantity must be at least 0.</p></div></div><div class="top"><p class="src"><a id="v:waitQSem" class="def">waitQSem</a> :: <a href="Control-Concurrent-Extended.html#t:QSem" title="Control.Concurrent.Extended">QSem</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> () <a href="#v:waitQSem" class="selflink">#</a></p><div class="doc"><p>Wait for a unit to become available.</p></div></div><div class="top"><p class="src"><a id="v:signalQSem" class="def">signalQSem</a> :: <a href="Control-Concurrent-Extended.html#t:QSem" title="Control.Concurrent.Extended">QSem</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> () <a href="#v:signalQSem" class="selflink">#</a></p><div class="doc"><p>Signal that a unit of the <code><a href="Control-Concurrent-Extended.html#t:QSem" title="Control.Concurrent.Extended">QSem</a></code> is available.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:QSemN" class="def">QSemN</a> <a href="#t:QSemN" class="selflink">#</a></p><div class="doc"><p><code><a href="Control-Concurrent-Extended.html#t:QSemN" title="Control.Concurrent.Extended">QSemN</a></code> is a quantity semaphore in which the resource is acquired
 and released in arbitrary amounts. It provides guaranteed FIFO ordering
 for satisfying blocked <code><a href="Control-Concurrent-Extended.html#v:waitQSemN" title="Control.Concurrent.Extended">waitQSemN</a></code> calls.</p><p>The pattern</p><pre>bracket_ (waitQSemN n) (signalQSemN n) (...)</pre><p>is safe; it never loses any of the resource.</p></div></div><div class="top"><p class="src"><a id="v:newQSemN" class="def">newQSemN</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> <a href="Control-Concurrent-Extended.html#t:QSemN" title="Control.Concurrent.Extended">QSemN</a> <a href="#v:newQSemN" class="selflink">#</a></p><div class="doc"><p>Build a new <code><a href="Control-Concurrent-Extended.html#t:QSemN" title="Control.Concurrent.Extended">QSemN</a></code> with a supplied initial quantity.
  The initial quantity must be at least 0.</p></div></div><div class="top"><p class="src"><a id="v:waitQSemN" class="def">waitQSemN</a> :: <a href="Control-Concurrent-Extended.html#t:QSemN" title="Control.Concurrent.Extended">QSemN</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> () <a href="#v:waitQSemN" class="selflink">#</a></p><div class="doc"><p>Wait for the specified quantity to become available.</p></div></div><div class="top"><p class="src"><a id="v:signalQSemN" class="def">signalQSemN</a> :: <a href="Control-Concurrent-Extended.html#t:QSemN" title="Control.Concurrent.Extended">QSemN</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> () <a href="#v:signalQSemN" class="selflink">#</a></p><div class="doc"><p>Signal that a given quantity is now available from the <code><a href="Control-Concurrent-Extended.html#t:QSemN" title="Control.Concurrent.Extended">QSemN</a></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Chan" class="def">Chan</a> a <a href="#t:Chan" class="selflink">#</a></p><div class="doc"><p><code><a href="Control-Concurrent-Extended.html#t:Chan" title="Control.Concurrent.Extended">Chan</a></code> is an abstract type representing an unbounded FIFO channel.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Chan">Instances</h4><details id="i:Chan" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Chan:Eq:1"></span> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Control-Concurrent-Extended.html#t:Chan" title="Control.Concurrent.Extended">Chan</a> a)</span></td><td class="doc"><p><em>Since: base-4.4.0.0</em></p></td></tr><tr><td colspan="2"><details id="i:id:Chan:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Concurrent-Chan.html">Control.Concurrent.Chan</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Control-Concurrent-Extended.html#t:Chan" title="Control.Concurrent.Extended">Chan</a> a -&gt; <a href="Control-Concurrent-Extended.html#t:Chan" title="Control.Concurrent.Extended">Chan</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Control-Concurrent-Extended.html#t:Chan" title="Control.Concurrent.Extended">Chan</a> a -&gt; <a href="Control-Concurrent-Extended.html#t:Chan" title="Control.Concurrent.Extended">Chan</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:newChan" class="def">newChan</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="Control-Concurrent-Extended.html#t:Chan" title="Control.Concurrent.Extended">Chan</a> a) <a href="#v:newChan" class="selflink">#</a></p><div class="doc"><p>Build and return a new instance of <code><a href="Control-Concurrent-Extended.html#t:Chan" title="Control.Concurrent.Extended">Chan</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:writeChan" class="def">writeChan</a> :: <a href="Control-Concurrent-Extended.html#t:Chan" title="Control.Concurrent.Extended">Chan</a> a -&gt; a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> () <a href="#v:writeChan" class="selflink">#</a></p><div class="doc"><p>Write a value to a <code><a href="Control-Concurrent-Extended.html#t:Chan" title="Control.Concurrent.Extended">Chan</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:readChan" class="def">readChan</a> :: <a href="Control-Concurrent-Extended.html#t:Chan" title="Control.Concurrent.Extended">Chan</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a <a href="#v:readChan" class="selflink">#</a></p><div class="doc"><p>Read the next value from the <code><a href="Control-Concurrent-Extended.html#t:Chan" title="Control.Concurrent.Extended">Chan</a></code>. Blocks when the channel is empty. Since
 the read end of a channel is an <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code>, this operation inherits fairness
 guarantees of <code><a href="Control-Concurrent-Extended.html#t:MVar" title="Control.Concurrent.Extended">MVar</a></code>s (e.g. threads blocked in this operation are woken up in
 FIFO order).</p><p>Throws <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Exception.html#v:BlockedIndefinitelyOnMVar" title="Control.Exception">BlockedIndefinitelyOnMVar</a></code> when the channel is
 empty and no other thread holds a reference to the channel.</p></div></div><div class="top"><p class="src"><a id="v:dupChan" class="def">dupChan</a> :: <a href="Control-Concurrent-Extended.html#t:Chan" title="Control.Concurrent.Extended">Chan</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> (<a href="Control-Concurrent-Extended.html#t:Chan" title="Control.Concurrent.Extended">Chan</a> a) <a href="#v:dupChan" class="selflink">#</a></p><div class="doc"><p>Duplicate a <code><a href="Control-Concurrent-Extended.html#t:Chan" title="Control.Concurrent.Extended">Chan</a></code>: the duplicate channel begins empty, but data written to
 either channel from then on will be available from both. Hence this creates
 a kind of broadcast channel, where data written by anyone is seen by
 everyone else.</p><p>(Note that a duplicated channel is not equal to its original.
 So: <code>fmap (c /=) $ dupChan c</code> returns <code>True</code> for all <code>c</code>.)</p></div></div><div class="top"><p class="src"><a id="v:getChanContents" class="def">getChanContents</a> :: <a href="Control-Concurrent-Extended.html#t:Chan" title="Control.Concurrent.Extended">Chan</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> [a] <a href="#v:getChanContents" class="selflink">#</a></p><div class="doc"><p>Return a lazy list representing the contents of the supplied
 <code><a href="Control-Concurrent-Extended.html#t:Chan" title="Control.Concurrent.Extended">Chan</a></code>, much like <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/ghc-internal-9.1001.0-inplace/GHC-Internal-System-IO.html#v:hGetContents" title="GHC.Internal.System.IO">hGetContents</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:writeList2Chan" class="def">writeList2Chan</a> :: <a href="Control-Concurrent-Extended.html#t:Chan" title="Control.Concurrent.Extended">Chan</a> a -&gt; [a] -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> () <a href="#v:writeList2Chan" class="selflink">#</a></p><div class="doc"><p>Write an entire list of items to a <code><a href="Control-Concurrent-Extended.html#t:Chan" title="Control.Concurrent.Extended">Chan</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:forkFinally" class="def">forkFinally</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a -&gt; (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Exception.html#t:SomeException" title="Control.Exception">SomeException</a> a -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> ()) -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> <a href="Control-Concurrent-Extended.html#t:ThreadId" title="Control.Concurrent.Extended">ThreadId</a> <a href="#v:forkFinally" class="selflink">#</a></p><div class="doc"><p>Fork a thread and call the supplied function when the thread is about
 to terminate, with an exception or a returned value.  The function is
 called with asynchronous exceptions masked.</p><pre>forkFinally action and_then =
  mask $ \restore -&gt;
    forkIO $ try (restore action) &gt;&gt;= and_then</pre><p>This function is useful for informing the parent when a child
 terminates, for example.</p><p><em>Since: base-4.6.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:sleep" class="def">sleep</a> :: <a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/Data-Time-Clock-Units.html#t:DiffTime" title="Data.Time.Clock.Units">DiffTime</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> () <a href="src/Control.Concurrent.Extended.html#sleep" class="link">Source</a> <a href="#v:sleep" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Base.html#v:threadDelay" title="Base">threadDelay</a></code>, but takes a <code><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.10.1/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/Data-Time-Clock-Units.html#t:DiffTime" title="Data.Time.Clock.Units">DiffTime</a></code> instead of an <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a></code> microseconds.</p><p>NOTE: you cannot simply replace e.g. <code>threadDelay 1000</code> with <code>sleep 1000</code> since those literals
 have different meanings!</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ForkableMonadIO" class="def">ForkableMonadIO</a> (m :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) = (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/list-t-1.0.5.7-a9c088a22c96b528949c3d615f362558ac693f07383e5e281f8eb8cdccb32dfb/share/doc/html/ListT-Prelude.html#t:MonadBaseControl" title="ListT.Prelude">MonadBaseControl</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> m, <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/constraints-0.14.2-ff824dad83d629e0fa70449d98d0e80ecc50be2f324c7bd62638caa7179948ea/share/doc/html/Data-Constraint-Forall.html#t:Forall" title="Data.Constraint.Forall">Forall</a> (<a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/lifted-async-0.10.2.5-7453f3a39fe1c149b1fdd3dbcd3716b82112049f5f698aafbd6eb5b568cc41a4/share/doc/html/Control-Concurrent-Async-Lifted-Safe.html#t:Pure" title="Control.Concurrent.Async.Lifted.Safe">Pure</a> m)) <a href="src/Control.Concurrent.Extended.html#ForkableMonadIO" class="link">Source</a> <a href="#t:ForkableMonadIO" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a></code> but constrained to stacks in which forking a new thread is reasonable/safe.
 In particular <code><a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/binary-parser-0.5.7.6-f0ac707e6923af097e412270ae5b3b843c584dc7e141fb4f8d0870c6638e1e86/share/doc/html/BinaryParser-Prelude.html#t:StateT" title="BinaryParser.Prelude">StateT</a></code> causes problems.</p><p>This is the constraint you can use for functions that call <code><a href="LA.html#v:async" title="LA">async</a></code>, or <code>immortal</code>.</p></div></div><a href="#g:1" id="g:1"><h1>Robust forking</h1></a><div class="top"><p class="src"><a id="v:forkImmortal" class="def">forkImmortal</a> <a href="src/Control.Concurrent.Extended.html#forkImmortal" class="link">Source</a> <a href="#v:forkImmortal" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Control-Concurrent-Extended.html#t:ForkableMonadIO" title="Control.Concurrent.Extended">ForkableMonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc"><p>A label describing this thread's function (see <code>labelThread</code>).</p></td></tr><tr><td class="src">-&gt; <a href="Hasura-Logging.html#t:Logger" title="Hasura.Logging">Logger</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; m <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Internal-Prelude.html#t:Void" title="Data.Aeson.Internal.Prelude">Void</a></td><td class="doc"><p>An IO action we expect never to return normally. This will have the type
 signature ':: m a' (see e.g. the type of <code><a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Monad.html#v:forever" title="Control.Monad">forever</a></code>).</p></td></tr><tr><td class="src">-&gt; m <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/immortal-0.2.2.1-83f0896f3c9fa80f58a39a835fbc28f3c476beede5c2f431960b94f99f3ea852/share/doc/html/Control-Immortal.html#t:Thread" title="Control.Immortal">Thread</a></td><td class="doc"><p>A handle for the forked thread. See <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/immortal-0.2.2.1-83f0896f3c9fa80f58a39a835fbc28f3c476beede5c2f431960b94f99f3ea852/share/doc/html/Control-Immortal.html">Control.Immortal</a>.</p></td></tr></table></div><div class="doc"><p>Note: Please consider using <code><a href="Control-Concurrent-Extended.html#v:forkManagedT" title="Control.Concurrent.Extended">forkManagedT</a></code> instead to ensure reliable
 resource cleanup.</p></div></div><div class="top"><p class="src"><a id="v:forkManagedT" class="def">forkManagedT</a> :: <a href="Control-Concurrent-Extended.html#t:ForkableMonadIO" title="Control.Concurrent.Extended">ForkableMonadIO</a> m =&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Hasura-Logging.html#t:Logger" title="Hasura.Logging">Logger</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a> -&gt; m <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Internal-Prelude.html#t:Void" title="Data.Aeson.Internal.Prelude">Void</a> -&gt; <a href="Control-Monad-Trans-Managed.html#t:ManagedT" title="Control.Monad.Trans.Managed">ManagedT</a> m <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/immortal-0.2.2.1-83f0896f3c9fa80f58a39a835fbc28f3c476beede5c2f431960b94f99f3ea852/share/doc/html/Control-Immortal.html#t:Thread" title="Control.Immortal">Thread</a> <a href="src/Control.Concurrent.Extended.html#forkManagedT" class="link">Source</a> <a href="#v:forkManagedT" class="selflink">#</a></p><div class="doc"><p>This function pairs a call to <code><a href="Control-Concurrent-Extended.html#v:forkImmortal" title="Control.Concurrent.Extended">forkImmortal</a></code> with a finalizer which stops
 the immortal thread.</p></div></div><div class="top"><p class="src"><a id="v:forkManagedTWithGracefulShutdown" class="def">forkManagedTWithGracefulShutdown</a> :: <a href="Control-Concurrent-Extended.html#t:ForkableMonadIO" title="Control.Concurrent.Extended">ForkableMonadIO</a> m =&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Hasura-Logging.html#t:Logger" title="Hasura.Logging">Logger</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a> -&gt; <a href="Control-Concurrent-Extended.html#t:ThreadShutdown" title="Control.Concurrent.Extended">ThreadShutdown</a> m -&gt; m (<a href="Control-Concurrent-Extended.html#t:Forever" title="Control.Concurrent.Extended">Forever</a> m) -&gt; <a href="Control-Monad-Trans-Managed.html#t:ManagedT" title="Control.Monad.Trans.Managed">ManagedT</a> m <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/immortal-0.2.2.1-83f0896f3c9fa80f58a39a835fbc28f3c476beede5c2f431960b94f99f3ea852/share/doc/html/Control-Immortal.html#t:Thread" title="Control.Immortal">Thread</a> <a href="src/Control.Concurrent.Extended.html#forkManagedTWithGracefulShutdown" class="link">Source</a> <a href="#v:forkManagedTWithGracefulShutdown" class="selflink">#</a></p><div class="doc"><p><code>forkManagedTWithGracefulShutdown</code> is an extension of the <code>forkManagedT</code>
   function this function also attempts to gracefully shutdown the thread. This function
   accepts a `m (Forever m)` argument. The <code>Forever</code> type contains a function and an argument
   to the function. The function supplied will be run repeatedly until shutdown is initiated. The
   response of the function will be the argument to the next iteration.</p><p>For reference, this function is used to run the async actions processor. Check
   <code>asyncActionsProcessor</code></p></div></div><a href="#g:2" id="g:2"><h1>Concurrency in MonadError</h1></a><div class="top"><p class="src"><a id="v:forConcurrentlyEIO" class="def">forConcurrentlyEIO</a> :: (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/binary-parser-0.5.7.6-f0ac707e6923af097e412270ae5b3b843c584dc7e141fb4f8d0870c6638e1e86/share/doc/html/BinaryParser-Prelude.html#t:MonadError" title="BinaryParser.Prelude">MonadError</a> e m) =&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; [a] -&gt; (a -&gt; <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/binary-parser-0.5.7.6-f0ac707e6923af097e412270ae5b3b843c584dc7e141fb4f8d0870c6638e1e86/share/doc/html/BinaryParser-Prelude.html#t:ExceptT" title="BinaryParser.Prelude">ExceptT</a> e <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> b) -&gt; m [b] <a href="src/Control.Concurrent.Extended.html#forConcurrentlyEIO" class="link">Source</a> <a href="#v:forConcurrentlyEIO" class="selflink">#</a></p><div class="doc"><p>A somewhat wonky function for parallelizing <code>for xs f</code> where <code>f</code> is
 <code>(MonadIO m, MonadError e m)</code>. This is equivalent to <code>for xs f</code> modulo the
 IO effects (i.e. when the IO has no real side effects we care about).</p><p>This also takes a <code>chunkSize</code> argument so you can manipulate the amount of
 work given to each thread.</p></div></div><div class="top"><p class="src"><a id="v:concurrentlyEIO" class="def">concurrentlyEIO</a> :: (<a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/binary-parser-0.5.7.6-f0ac707e6923af097e412270ae5b3b843c584dc7e141fb4f8d0870c6638e1e86/share/doc/html/BinaryParser-Prelude.html#t:MonadError" title="BinaryParser.Prelude">MonadError</a> e m) =&gt; <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/binary-parser-0.5.7.6-f0ac707e6923af097e412270ae5b3b843c584dc7e141fb4f8d0870c6638e1e86/share/doc/html/BinaryParser-Prelude.html#t:ExceptT" title="BinaryParser.Prelude">ExceptT</a> e <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> a -&gt; <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/binary-parser-0.5.7.6-f0ac707e6923af097e412270ae5b3b843c584dc7e141fb4f8d0870c6638e1e86/share/doc/html/BinaryParser-Prelude.html#t:ExceptT" title="BinaryParser.Prelude">ExceptT</a> e <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:IO" title="Prelude">IO</a> b -&gt; m (a, b) <a href="src/Control.Concurrent.Extended.html#concurrentlyEIO" class="link">Source</a> <a href="#v:concurrentlyEIO" class="selflink">#</a></p></div><a href="#g:3" id="g:3"><h1>Deprecated</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ImmortalThreadLog" class="def">ImmortalThreadLog</a> <a href="src/Control.Concurrent.Extended.html#ImmortalThreadLog" class="link">Source</a> <a href="#t:ImmortalThreadLog" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ImmortalThreadUnexpectedException" class="def">ImmortalThreadUnexpectedException</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-String.html#t:String" title="Data.String">String</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Control-Exception.html#t:SomeException" title="Control.Exception">SomeException</a></td><td class="doc"><p>Synchronous Exception</p></td></tr><tr><td class="src"><a id="v:ImmortalThreadStopping" class="def">ImmortalThreadStopping</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc"><p>Asynchronous Exception about to be sent</p></td></tr><tr><td class="src"><a id="v:ImmortalThreadRestarted" class="def">ImmortalThreadRestarted</a> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ImmortalThreadLog">Instances</h4><details id="i:ImmortalThreadLog" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ImmortalThreadLog:ToEngineLog:1"></span> <a href="Hasura-Logging.html#t:ToEngineLog" title="Hasura.Logging">ToEngineLog</a> <a href="Control-Concurrent-Extended.html#t:ImmortalThreadLog" title="Control.Concurrent.Extended">ImmortalThreadLog</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a></span> <a href="src/Control.Concurrent.Extended.html#line-228" class="link">Source</a> <a href="#t:ImmortalThreadLog" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ImmortalThreadLog:ToEngineLog:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Concurrent-Extended.html">Control.Concurrent.Extended</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toEngineLog">toEngineLog</a> :: <a href="Control-Concurrent-Extended.html#t:ImmortalThreadLog" title="Control.Concurrent.Extended">ImmortalThreadLog</a> -&gt; (<a href="Hasura-Logging.html#t:LogLevel" title="Hasura.Logging">LogLevel</a>, <a href="Hasura-Logging.html#t:EngineLogType" title="Hasura.Logging">EngineLogType</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a>, <a href="file:///root/.local/state/cabal/store/ghc-9.10.1-inplace/aeson-2.2.3.0-5d7ee246cfa338f30d154e06f34dc50b9af0797ae9abbdeb4efa1326ac8786e5/share/doc/html/Data-Aeson-Types-Internal.html#t:Value" title="Data.Aeson.Types.Internal">Value</a>) <a href="src/Hasura.Logging.html#toEngineLog" class="link">Source</a> <a href="#v:toEngineLog" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ThreadState" class="def">ThreadState</a> <a href="src/Control.Concurrent.Extended.html#ThreadState" class="link">Source</a> <a href="#t:ThreadState" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ThreadForked" class="def">ThreadForked</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ThreadBlocking" class="def">ThreadBlocking</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ThreadShutdownInitiated" class="def">ThreadShutdownInitiated</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ThreadState">Instances</h4><details id="i:ThreadState" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ThreadState:Show:1"></span> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:Show" title="Prelude">Show</a> <a href="Control-Concurrent-Extended.html#t:ThreadState" title="Control.Concurrent.Extended">ThreadState</a></span> <a href="src/Control.Concurrent.Extended.html#line-86" class="link">Source</a> <a href="#t:ThreadState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ThreadState:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Concurrent-Extended.html">Control.Concurrent.Extended</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Control-Concurrent-Extended.html#t:ThreadState" title="Control.Concurrent.Extended">ThreadState</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:ShowS" title="Prelude">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Control-Concurrent-Extended.html#t:ThreadState" title="Control.Concurrent.Extended">ThreadState</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Control-Concurrent-Extended.html#t:ThreadState" title="Control.Concurrent.Extended">ThreadState</a>] -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Prelude.html#t:ShowS" title="Prelude">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ThreadState:Eq:2"></span> <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Control-Concurrent-Extended.html#t:ThreadState" title="Control.Concurrent.Extended">ThreadState</a></span> <a href="src/Control.Concurrent.Extended.html#line-86" class="link">Source</a> <a href="#t:ThreadState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ThreadState:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Concurrent-Extended.html">Control.Concurrent.Extended</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Control-Concurrent-Extended.html#t:ThreadState" title="Control.Concurrent.Extended">ThreadState</a> -&gt; <a href="Control-Concurrent-Extended.html#t:ThreadState" title="Control.Concurrent.Extended">ThreadState</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Control-Concurrent-Extended.html#t:ThreadState" title="Control.Concurrent.Extended">ThreadState</a> -&gt; <a href="Control-Concurrent-Extended.html#t:ThreadState" title="Control.Concurrent.Extended">ThreadState</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:ThreadShutdown" class="def">ThreadShutdown</a> (m :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <a href="src/Control.Concurrent.Extended.html#ThreadShutdown" class="link">Source</a> <a href="#t:ThreadShutdown" class="selflink">#</a></p><div class="doc"><p><code>ThreadShutdown</code> is a newtype wrapper over an action which is intended
   to execute when a thread's shutdown is initiated before killing the thread</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ThreadShutdown" class="def">ThreadShutdown</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:tsThreadShutdown" class="def">tsThreadShutdown</a> :: m ()</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Forever" class="def">Forever</a> (m :: <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.10.1/html/libraries/base-4.20.0.0-inplace/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <a href="src/Control.Concurrent.Extended.html#Forever" class="link">Source</a> <a href="#t:Forever" class="selflink">#</a></p><div class="doc"><p>The <code>Forever</code> type defines an infinite looping monadic action (like <code>m void</code>), but allows the
 caller to control the recursion or insert code before each iteration. The <code>a</code> is the initial argument,
 and subsequent iterations will be fed the argument returned by the previous one.  See
 <code>forkManagedTWithGracefulShutdown</code> to see how it's used</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Forever" class="def">Forever</a> a (a -&gt; m a)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.28.0</p></div></body></html>